{"version":3,"sources":["webpack://COS/webpack/universalModuleDefinition","webpack://COS/webpack/bootstrap","webpack://COS/./index.js","webpack://COS/./lib/beacon.min.js","webpack://COS/./lib/crypto.js","webpack://COS/./lib/json2xml.js","webpack://COS/./lib/md5.js","webpack://COS/./lib/request.js","webpack://COS/./lib/xml2json.js","webpack://COS/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://COS/./node_modules/@babel/runtime/helpers/createClass.js","webpack://COS/./node_modules/@babel/runtime/helpers/typeof.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/conventions.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/dom-parser.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/dom.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/entities.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/index.js","webpack://COS/./node_modules/@xmldom/xmldom/lib/sax.js","webpack://COS/./node_modules/process/browser.js","webpack://COS/(webpack)/buildin/amd-options.js","webpack://COS/(webpack)/buildin/global.js","webpack://COS/(webpack)/buildin/module.js","webpack://COS/./src/advance.js","webpack://COS/./src/async.js","webpack://COS/./src/base.js","webpack://COS/./src/cos.js","webpack://COS/./src/event.js","webpack://COS/./src/session.js","webpack://COS/./src/task.js","webpack://COS/./src/tracker.js","webpack://COS/./src/util.js"],"names":["COS","require","module","exports","t","e","define","r","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","assign","n","arguments","length","o","apply","Promise","i","a","c","next","s","throw","done","value","then","label","sent","trys","ops","return","Symbol","iterator","TypeError","pop","push","u","l","emit","__EventsList","slice","callback","type","remove","indexOf","on","name","one","splice","h","keys","f","Error","String","replace","RegExp","p","A99","A100","d","v","lifeCycle","uploadJobQueue","additionalParams","delayTime","_normalLogPipeline","reduce","send","url","strategy","getUploadUrl","data","method","contentType","config","onReportSuccess","JSON","stringify","events","onReportFail","Boolean","appkey","onUserAction","preReport","onDirectUserAction","isEventUpOnOff","isBlackEvent","isSampleEvent","onReport","errorReport","reportError","addAdditionalParams","setChannelId","commonInfo","channelID","setOpenId","openid","setUnionid","unid","getDeviceId","deviceId","getCommonInfo","removeSendingId","parse","storage","getItem","setItem","y","requestParams","network","attaid","token","product_id","platform","uin","model","os","app_version","appVersion","sdk_version","sdkVersion","error_stack","uploadUrl","isOversea","_dc","Math","random","error_msg","error_code","get","params","catch","g","httpsUploadUrl","requestInterval","blacklist","samplelist","realSample","processData","needRequestConfig","requestConfig","Date","now","toString","post","platformId","wx","mainAppKey","osVersion","userAgent","packageName","A3","ret","beaconConfig","split","Number","floor","m","w","beacon","duration","getSession","createSession","sessionId","sessionStart","A21","b","navigator","test","parseFloat","$1","S","E","I","reportOptions","canUseDB","window","indexedDB","openDB","message","version","stores","open","onsuccess","db","result","func","onerror","target","error","onupgradeneeded","forEach","createStore","useStore","storeName","deleteDB","closeDB","deleteDatabase","close","getStoreCount","getStore","count","clearStore","clear","add","put","getStoreAllData","openCursor","continue","getDataRangeByIndex","index","IDBKeyRange","bound","removeDataByIndex","delete","indexes","options","objectStoreNames","contains","deleteObjectStore","createObjectStore","createIndex","indexName","keyPath","transaction","objectStore","O","k","x","isReady","taskQueue","resolve","unique","getCount","readyExec","eventId","removeItem","updateItem","iterate","C","keyObject","_","dbEventCount","store","reject","insertEvent","mapValue","getEvents","all","removeEvent","A","P","decodeURIComponent","j","NaN","includes","isSkipEmpty","encode","encodeURIComponent","D","create","query","hash","T","join","N","document","querySelectorAll","createElement","charset","getAttribute","setAttribute","dataset","tag","onload","onreadystatechange","readyState","body","appendChild","equal","low","high","U","q","R","L","interceptors","use","resolved","rejected","traverse","reduceRight","eject","B","defaults","timeout","mode","redirect","credentials","headers","common","Accept","POST","PUT","PATCH","baseURL","polyfillUrl","request","response","J","M","V","fetch","src","Image","comps","ua","location","href","map","G","toUpperCase","getPrototypeOf","F","signal","setTimeout","AbortController","race","clearTimeout","abort","Q","onReportBeforeSend","json","status","statusText","K","localStorage","getStoreKey","setSessionItem","sessionStorage","getSessionItem","createDeviceId","charAt","key","substr","globalThis","global","self","W","enumerable","configurable","writable","defineProperty","asyncIterator","toStringTag","_invoke","arg","delegate","resultName","nextLoc","_sent","dispatchException","abrupt","wrap","__await","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","completion","reset","isNaN","constructor","displayName","isGeneratorFunction","mark","awrap","AsyncIterator","async","reverse","values","prev","stop","rval","complete","finish","delegateYield","regeneratorRuntime","Function","hasher","each","getHid","substring","XMLHttpRequest","setRequestHeader","DONE","responseText","appKey","hid","sign","screen","width","devicePixelRatio","height","sort","availWidth","availHeight","deviceMemory","productSub","hardwareConcurrency","getWebglVendorAndRenderer","getTimezoneOffset","getFactor","x64hash128","JSInterface","getUserAgent","getContext","getExtension","getParameter","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","loseContext","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","iceServers","createDataChannel","reliable","onicecandidate","candidate","concat","createOffer","sdp","setLocalDescription","filter","charCodeAt","H","z","qimei36","uselessCycleTaskNum","underWeakNet","doCustomCycleTask","code","monitorUploadFailed","isUnderIE8","isUnderIE","needInitQimei","initQimei","initCommonInfo","logidStartTime","initSession","initDelayTime","delay","cycleTask","getQimei36","q36","sessionDuration","beaconSession","language","search","pixel","unionid","versionCode","strictMode","intervalID","setInterval","assembleData","generateData","shift","onSendBeacon","sendBeacon","A72","A88","eventCode","eventTime","sdkId","A2","A8","A12","A17","A23","A50","A76","A101","A102","A104","referrer","A119","A153","clearInterval","CryptoJS","lib","Base","extend","mixIn","init","$super","clone","WordArray","words","sigBytes","clamp","ceil","enc","Hex","parseInt","Latin1","fromCharCode","Utf8","escape","unescape","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","max","_minBufferSize","min","_doProcessBlock","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","SHA1","_hash","HmacSHA1","_hasher","_oKey","_iKey","C_lib","C_enc","Base64","wordArray","_map","base64Chars","byte1","byte2","byte3","triplet","paddingChar","base64Str","base64StrLength","paddingIndex","nBytes","bits1","bits2","element_start_char","element_non_start_char","element_replace","not_safe_in_xml","objKeys","obj","process_to_xml","node_data","makeNode","content","attributes","level","hasSubNodes","indent_value","indent","undefined","prettyPrint","removeIllegalNameCharacters","node","fn","node_descriptor","isArray","toJSON","nodes","esc","xml_header","standalone","str","xmlHeader","xmlheader","docType","ERROR","WINDOW","root","JS_MD5_NO_WINDOW","WEB_WORKER","NODE_JS","JS_MD5_NO_NODE_JS","process","versions","COMMON_JS","JS_MD5_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_MD5_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","BASE64_ENCODE_CHAR","blocks","buffer8","buffer","Uint8Array","Uint32Array","JS_MD5_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","isBinStr","Md5","createMethod","nodeWrap","getCtx","crypto","eval","Buffer","nodeMethod","createHash","digest","sharedMemory","h0","h1","h2","h3","start","bytes","hBytes","finalized","hashed","first","lastByteIndex","bc","da","hex","format","res","array","arrayBuffer","base64","v1","v2","v3","md5","stringifyPrimitive","isFinite","queryStringify","sep","eq","ks","xhrRes","err","xhr","getAllResponseHeaders","trim","item","toLowerCase","val","statusCode","statusMessage","xhrBody","dataType","opt","qs","qsStr","responseType","xhrFields","xhrField","onProgress","upload","onprogress","onDownloadProgress","ontimeout","event","DOMParser","xmlToJSON","mergeCDATA","normalize","stripElemPrefix","prefixMatch","trimMatch","grokType","sValue","parseString","xmlString","xml","stringToXML","getElementsByTagName","parseXML","oXMLParent","vResult","nLength","sCollectedTxt","childNum","childNodes","oNode","sProp","vContent","nItem","nodeType","nodeValue","nodeName","xmlToString","xmlDoc","XMLSerializer","serializeToString","parser","parseFromString","ActiveXObject","loadXML","xml2json","session","Async","EventProxy","util","Tracker","sliceUploadFile","ep","TaskId","Bucket","Region","Key","Body","ChunkSize","SliceSize","AsyncLimit","StorageClass","ServerSideEncryption","FileSize","onHashProgress","tracker","setParams","chunkSize","_isRunningTask","UploadId","UploadData","UploadCompleteData","_UploadCompleteData","metaHeaders","Headers","shortKey","uploadSliceComplete","SliceList","removeUsing","removeUploadId","loaded","total","uuid","getFileId","saveUploadId","UploadIdCacheLimit","setUsing","uploadSliceList","throttleOnProgress","_params","getUploadIdAndPartList","PartList","ContentLength","SIZE","AutoChunkSize","MaxPartNumber","SkipTask","putObject","ETagMap","SliceCount","FinishSliceCount","FinishSize","getChunkETag","PartNumber","end","ETag","Size","fileSlice","chunkItem","getFileMd5","isAvailableUploadList","PartCount","PartSliceSize","Part","chunk","errData","list","Uploaded","Query","calledBySdk","multipartInit","UploadIdList","eachLimit","asyncCallback","using","wholeMultipartListPart","PartListData","isAvailable","AvailableUploadData","RemoteUploadIdList","LocalUploadIdList","getUploadIdList","isInArray","wholeMultipartList","UploadList","UploadID","sendParams","Prefix","multipartList","Upload","IsTruncated","KeyMarker","NextKeyMarker","UploadIdMarker","NextUploadIdMarker","multipartListPart","PartNumberMarker","NextPartNumberMarker","cb","ChunkParallel","ChunkParallelLimit","needUploadSlices","SliceItem","currentSize","preAddSize","uploadSliceItem","FileBody","ChunkRetryTimes","headersWhiteList","PartItem","retry","tryCallback","multipartUpload","Parts","multipartComplete","abortUploadTask","Level","AbortArray","abortUploadTaskArray","resultList","AbortItem","nextItem","eachIndex","KeyNotMatch","multipartAbort","task","successList","errorList","len","uploadFile","taskList","size","fileInfo","EnableTracker","accelerate","UseAccelerate","Domain","bucket","region","apiName","fileKey","fileSize","deepTracker","DeepTracker","customId","CustomId","TrackerDelay","_onTaskReady","onTaskReady","tid","api","_onFileFinish","onFileFinish","formatResult","_addTasks","uploadFiles","TotalSize","TotalFinish","onTotalProgress","unFinishCount","files","_onTotalFileFinish","onTotalFileFinish","Index","fileParams","PreAddSize","_onProgress","info","sliceCopyFile","CopySource","getSourceParams","SourceBucket","SourceRegion","SourceKey","CopySliceSize","CopyChunkSize","CopyChunkParallelLimit","ChunkCount","SourceResHeaders","SourceHeaders","TargetHeader","getCopyFileId","needCopySlices","CopySourceRange","copySliceItem","createNewUploadId","finishETagMap","offset","partNumber","clearKey","restoreHeader","headObject","ErrorStatus","putObjectCopy","resHeaders","metaPrefix","uploadPartCopy","API_MAP","transferToTaskMethod","apiWrapper","arr","limit","completed","started","running","replenish","times","REQUEST","getService","protocol","Protocol","isBrowser","domain","ServiceDomain","appId","AppId","SignHost","standardHost","urlHost","submitRequest","Action","buckets","ListAllMyBucketsResult","Buckets","owner","Owner","putBucket","CreateBucketConfiguration","BucketAZConfig","json2xml","getUrl","isLocation","Location","headBucket","getBucket","reqParams","ResourceKey","ListBucketResult","Contents","CommonPrefixes","deleteBucket","putBucketAcl","AccessControlPolicy","Grants","Grant","AccessControlList","binaryBase64","uniqGrant","action","getBucketAcl","decodeAcl","ACL","putBucketCors","CORSConfiguration","CORSRules","rule","sKey","Conf","CORSRule","ResponseVary","getBucketCors","Code","deleteBucketCors","getBucketLocation","putBucketPolicy","Policy","PolicyStr","getBucketPolicy","rawBody","deleteBucketPolicy","putBucketTagging","Tagging","Tags","TagSet","Tag","getBucketTagging","deleteBucketTagging","putBucketLifecycle","LifecycleConfiguration","Rules","Rule","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","makeArray","deleteBucketReplication","putBucketWebsite","WebsiteConfiguration","RoutingRules","RoutingRule","getBucketWebsite","deleteBucketWebsite","putBucketReferer","RefererConfiguration","DomainList","Domains","getBucketReferer","putBucketDomain","DomainConfiguration","DomainRule","getBucketDomain","deleteBucketDomain","putBucketOrigin","OriginConfiguration","OriginRule","getBucketOrigin","deleteBucketOrigin","putBucketLogging","BucketLoggingStatus","getBucketLogging","putBucketInventory","InventoryConfiguration","OptionalFields","Field","Destination","COSBucketDestination","Encryption","id","getBucketInventory","listBucketInventory","ListInventoryConfigurationResult","InventoryConfigurations","deleteBucketInventory","putBucketAccelerate","configuration","AccelerateConfiguration","getBucketAccelerate","putBucketEncryption","conf","ServerSideEncryptionConfiguration","getBucketEncryption","EncryptionConfiguration","deleteBucketEncryption","VersionId","NotModified","attr","listObjectVersions","ListVersionsResult","DeleteMarkers","DeleteMarker","Versions","Version","getObject","reqParamsStr","QueryString","signStartTime","getTime","DataType","needCalcMd5","UploadAddMetaMd5","UploadCheckContentMd5","md5StartTime","getBodyMd5","md5EndTime","ForcePathStyle","object","deleteObject","Recursive","BucketNotFound","getObjectAcl","GrantWrite","putObjectAcl","optionsObject","OptionsForbidden","AccessControlAllowOrigin","AccessControlAllowMethods","AccessControlAllowHeaders","AccessControlExposeHeaders","AccessControlMaxAge","Scope","prefix","CopyObjectResult","uploadId","CopyPartResult","deleteMultipleObject","Objects","Quiet","Delete","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","putObjectTagging","getObjectTagging","deleteObjectTagging","selectObjectContent","SelectType","SelectRequest","parseSelectPayload","Payload","payload","parent","errorNode","InitiateMultipartUploadResult","getFileSize","CompleteMultipartUpload","CompleteMultipartUploadResult","ProcessResults","UploadResult","OriginalInfo","ImageInfo","ListMultipartUploadsResult","ListPartsResult","Method","Url","RawBody","appendObject","position","Position","getAuth","SecretId","SecretKey","Expires","UseRawKey","SystemClockOffset","getObjectUrl","useAccelerate","queryParamsStr","obj2str","syncUrl","Sign","getSignHost","AuthData","getAuthorizationAsync","ForceSignHost","replaceUrlParamList","urlParams","match","encodedParams","reg","replacedUrl","signUrl","Authorization","SecurityToken","ClientIP","ClientUA","Token","GrantFullControl","GrantRead","GrantReadAcp","GrantWriteAcp","GrantMap","PublicAcl","READ","WRITE","FULL_CONTROL","Grantee","ID","URI","Permission","exist","longBucket","shortBucket","lastIndexOf","camSafeUrlEncode","standardHostReg","headerHost","forceSignHost","Host","cbDone","XCosSecurityToken","KeyName","Pathname","StsData","ScopeKey","_StsCache","compareTime","round","getSkewTime","StartTime","ExpiredTime","ScopeLimit","calcAuthByTmpKey","KeyTime","TmpSecretId","TmpSecretKey","checkAuthError","formatAllow","auth","atob","getAuthorization","AuthError","getSTS","allowRetry","isTimeError","serverDate","date","ServerTime","errorCode","errorMessage","Message","serverTime","CorrectClockSkew","abs","console","versionId","paramsUrl","tryTimes","oldClockOffset","retryTimes","signEndTime","httpStartTime","_submitRequest","httpEndTime","isCIHost","contentLength","Timeout","pathStyle","queryString","fullUrl","reqUrl","sender","Request","receive","hasReturned","off","killTask","attrs","statusSuccess","xmlError","warnOldApi","proto","suffix","oldName","apiFn","warned","warn","base","advance","pkg","defaultOptions","FileParallelLimit","ProgressInterval","CompatibilityMode","UploadQueueSize","isNode","initEvent","cos","listeners","getList","cacheKey","expires","cache","timer","getCache","setCache","changed","mtime","save","mod","file","lastModifiedDate","copySource","sourceHeaders","etag","lastModified","unshift","originApiMap","apiMap","_addTask","initTask","queue","tasks","uploadingFileCount","nextUploadIndex","formatTask","FilePath","state","speed","percent","hashPercent","_custom","emitListUpdate","clearQueue","isActive","startNextTask","onTaskStart","apiParams","formatParams","switchToState","waiting","pipe","toState","isTaskReadyWarning","ignoreAddEvent","TaskReady","getTaskList","cancelTask","pauseTask","restartTask","isUploadRunning","BeaconAction","getBeacon","utils","getUid","S4","getNetType","connection","mozConnection","webkitConnection","effectiveType","getOsType","agent","isMac","isMobile","exp","isAndroid","isIOS","isOtherMobile","getDeviceName","explorer","ver","constant","mobileOsType","pcOsType","deviceInfo","deviceType","devicePlatform","deviceName","sliceUploadMethods","uploadApi","downloadApi","getEventCode","camel2underline","formattedParams","allReporterKeys","successKeys","reporterKeys","formattedKey","traceId","appid","cossdkVersion","networkType","host","requestPath","httpMd5","httpSign","httpFull","tookTime","errorRequestId","errorStatusCode","errorServiceName","tracePlatform","startTime","endTime","resource","Resource","requestId","errorType","fullError","execRes","exec","sendEvents","destroy","subParams","getObjectKeys","forKey","lowerCaseKey","keyList","signHeaders","getSignHeaderObj","signHeaderObj","queryParams","pathname","qSignAlgorithm","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","formatString","stringToSign","qSignature","authorization","readIntBE","buf","Uint16Array","buf2str","isUtf8","charCode","header","records","byteLength","totalLength","headerLength","payloadRestLength","headerNameLength","headerName","headerValueLength","headerValue","stats","Stats","errCode","errMessage","source","CopySourceParser","noop","retObj","readAsBinaryString","blob","readFun","fr","FileReader","readAsArrayBuffer","fileData","binary","pt","reader","fileSliceNeedCopy","compareVersion","check","ChromeVersion","QBCoreVersion","QQBrowserVersion","need","isUseToUpload","mozSlice","webkitSlice","Blob","md5ChunkSize","md5ctx","defaultValue","flag","iaArr","char","btoa","hasMissingParams","checkBucket","checkRegion","headerMap","paramKey","headerKey","generateSubTracker","RequestId","_callback","checkParams","missingResult","errMsg","isSync","size0","size1","time0","time1","immediately","sourceErr","stack","isWebWorker","FileReaderSync"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;;;;;;;;;;;ACzKA,kBAAkB,mBAAO,CAAC,uEAAe;AACzC,UAAU,mBAAO,CAAC,uDAAO;AACzB,eAAe,mBAAO,CAAC,iEAAY;AACnC,UAAU,mBAAO,CAAC,uDAAO;;AAEzB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,cAAc,WAAW;AACzB,cAAc,SAAS;AACvB,cAAc,mBAAmB;AACjC;AACA,cAAc,QAAQ;AACtB,cAAc,uBAAuB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA,gCAAgC;AAChC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,CAAC;;AAED,kHAAkH;AAClH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;AAED;AACA;AACA;;;;;;;;;;;;ACjUA,kBAAkB,mBAAO,CAAC,uEAAe;;AAEzC;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,oCAAoC;AAC/C,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,oBAAoB,YAAY,QAAQ;AAChF,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;;AAGA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB,YAAY,OAAO;AACnB,YAAY,kBAAkB;AAC9B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,cAAc,aAAa;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA,EAAE;AACF,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,cAAc;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,yBAAyB;AACzB,0BAA0B;AAC1B,2BAA2B;AAC3B,4BAA4B;AAC5B,+BAA+B;AAC/B;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,SAAS;AACT;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO,gEAAgE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,UAAU;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,cAAc,MAAM;AACpB;AACA;AACA;AACA,4BAA4B,gDAAgD;AAC5E,IAAI;AACJ,4BAA4B,oCAAoC;AAChE;AACA;;AAEA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA,4BAA4B,gCAAgC;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,2EAA2E;AAC3E,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,SAAS;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7/CA,aAAa,mBAAO,CAAC,uEAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,4CAA4C;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChRA,UAAU,mBAAO,CAAC,uDAAO;AACzB;AACA;AACA,oBAAoB,mBAAO,CAAC,qEAAc;;;;;;;;;;;;ACH1C,gBAAgB,mBAAO,CAAC,uEAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb,4BAA4B;AAC5B,mBAAmB;AACnB,oBAAoB;AACpB,oBAAoB;;AAEpB;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,8BAA8B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HAA4H;AAC5H;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,WAAW;AACX,mBAAmB,MAAM;AACzB;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,IAAI,KAAK;AACT;AACA;AACA;AACA,wBAAwB;AACxB,yBAAyB;AACzB,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,IAAI;AACJ;;AAEA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,GAAG,KAAK;AACZ,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,KAAK;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,EAAE;AACF;AACA,0BAA0B,yBAAyB;AACnD,wBAAwB,uBAAuB;AAC/C,sBAAsB,qBAAqB;AAC3C,oBAAoB,mBAAmB;AACvC,sBAAsB;AACtB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ,uBAAuB,0DAA0D;AACjF;AACA,wBAAwB;AACxB;;;;AAIA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzoBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;;;;;;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA,IAAIC,OAAO,GAAGjtB,mBAAO,CAAC,mCAAD,CAArB;;AACA,IAAIktB,KAAK,GAAGltB,mBAAO,CAAC,+BAAD,CAAnB;;AACA,IAAImtB,UAAU,GAAGntB,mBAAO,CAAC,+BAAD,CAAP,CAAmBmtB,UAApC;;AACA,IAAIC,IAAI,GAAGptB,mBAAO,CAAC,6BAAD,CAAlB;;AACA,IAAIqtB,OAAO,GAAGrtB,mBAAO,CAAC,mCAAD,CAArB,C,CAEA;;;AACA,SAASstB,eAAT,CAAyBhlB,MAAzB,EAAiCzF,QAAjC,EAA2C;EACvC,IAAIkT,IAAI,GAAG,IAAX;EACA,IAAIwX,EAAE,GAAG,IAAIJ,UAAJ,EAAT;EAC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","file":"cos-js-sdk-v5.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"COS\"] = factory();\n\telse\n\t\troot[\"COS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","var COS = require('./src/cos');\nmodule.exports = COS;","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).BeaconAction=e()}(this,(function(){\"use strict\";var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};var e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}function n(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var o=\"__BEACON_\",i=\"__BEACON_deviceId\",a=\"last_report_time\",s=\"sending_event_ids\",c=\"beacon_config\",u=\"beacon_config_request_time\",l=function(){function t(){var t=this;this.emit=function(e,r){if(t){var n,o=t.__EventsList[e];if(null==o?void 0:o.length){o=o.slice();for(var i=0;i<o.length;i++){n=o[i];try{var a=n.callback.apply(t,[r]);if(1===n.type&&t.remove(e,n.callback),!1===a)break}catch(t){throw t}}}return t}},this.__EventsList={}}return t.prototype.indexOf=function(t,e){for(var r=0;r<t.length;r++)if(t[r].callback===e)return r;return-1},t.prototype.on=function(t,e,r){if(void 0===r&&(r=0),this){var n=this.__EventsList[t];if(n||(n=this.__EventsList[t]=[]),-1===this.indexOf(n,e)){var o={name:t,type:r||0,callback:e};return n.push(o),this}return this}},t.prototype.one=function(t,e){this.on(t,e,1)},t.prototype.remove=function(t,e){if(this){var r=this.__EventsList[t];if(!r)return null;if(!e){try{delete this.__EventsList[t]}catch(t){}return null}if(r.length){var n=this.indexOf(r,e);r.splice(n,1)}return this}},t}();function h(t,e){for(var r={},n=0,o=Object.keys(t);n<o.length;n++){var i=o[n],a=t[i];if(\"string\"==typeof a)r[f(i)]=f(a);else{if(e)throw new Error(\"value mast be string  !!!!\");r[f(String(i))]=f(String(a))}}return r}function f(t){if(\"string\"!=typeof t)return t;try{return t.replace(new RegExp(\"\\\\|\",\"g\"),\"%7C\").replace(new RegExp(\"\\\\&\",\"g\"),\"%26\").replace(new RegExp(\"\\\\=\",\"g\"),\"%3D\").replace(new RegExp(\"\\\\+\",\"g\"),\"%2B\")}catch(t){return\"\"}}function p(t){return String(t.A99)+String(t.A100)}var d=function(){};var v=function(){function t(t){var r=this;this.lifeCycle=new l,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(t){if(!t||!t.reduce||!t.length)throw new TypeError(\"createPipeline 方法需要传入至少有一个 pipe 的数组\");return 1===t.length?function(e,r){t[0](e,r||d)}:t.reduce((function(t,e){return function(r,n){return void 0===n&&(n=d),t(r,(function(t){return null==e?void 0:e(t,n)}))}}))}([function(t){r.send({url:r.strategy.getUploadUrl(),data:t,method:\"post\",contentType:\"application/json;charset=UTF-8\"},(function(){var e=r.config.onReportSuccess;\"function\"==typeof e&&e(JSON.stringify(t.events))}),(function(){var e=r.config.onReportFail;\"function\"==typeof e&&e(JSON.stringify(t.events))}))}]),function(t,e){if(!t)throw e instanceof Error?e:new Error(e)}(Boolean(t.appkey),\"appkey must be initial\"),this.config=e({},t)}return t.prototype.onUserAction=function(t,e){this.preReport(t,e,!1)},t.prototype.onDirectUserAction=function(t,e){this.preReport(t,e,!0)},t.prototype.preReport=function(t,e,r){t?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(t)||this.strategy.isSampleEvent(t)||this.onReport(t,e,r)):this.errorReport.reportError(\"602\",\" no eventCode\")},t.prototype.addAdditionalParams=function(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var n=r[e];this.additionalParams[n]=t[n]}},t.prototype.setChannelId=function(t){this.commonInfo.channelID=String(t)},t.prototype.setOpenId=function(t){this.commonInfo.openid=String(t)},t.prototype.setUnionid=function(t){this.commonInfo.unid=String(t)},t.prototype.getDeviceId=function(){return this.commonInfo.deviceId},t.prototype.getCommonInfo=function(){return this.commonInfo},t.prototype.removeSendingId=function(t){try{var e=JSON.parse(this.storage.getItem(s)),r=e.indexOf(t);-1!=r&&(e.splice(r,1),this.storage.setItem(s,JSON.stringify(e)))}catch(t){}},t}(),y=function(){function t(t,e,r,n){this.requestParams={},this.network=n,this.requestParams.attaid=\"00400014144\",this.requestParams.token=\"6478159937\",this.requestParams.product_id=t.appkey,this.requestParams.platform=r,this.requestParams.uin=e.deviceId,this.requestParams.model=\"\",this.requestParams.os=r,this.requestParams.app_version=t.appVersion,this.requestParams.sdk_version=e.sdkVersion,this.requestParams.error_stack=\"\",this.uploadUrl=t.isOversea?\"https://htrace.wetvinfo.com/kv\":\"https://h.trace.qq.com/kv\"}return t.prototype.reportError=function(t,e){this.requestParams._dc=Math.random(),this.requestParams.error_msg=e,this.requestParams.error_code=t,this.network.get(this.uploadUrl,{params:this.requestParams}).catch((function(t){}))},t}(),g=function(){function t(t,e,r,n){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:\"https://otheve.beacon.qq.com/analytics/v2_upload\",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey=\"\",this.appkey=t.appkey,this.storage=r;try{var o=JSON.parse(this.storage.getItem(c));o&&this.processData(o)}catch(t){}t.isOversea&&(this.strategy.httpsUploadUrl=\"https://svibeacon.onezapp.com/analytics/v2_upload\"),!t.isOversea&&this.needRequestConfig()&&this.requestConfig(t.appVersion,e,n)}return t.prototype.requestConfig=function(t,e,r){var n=this;this.storage.setItem(u,Date.now().toString()),r.post(\"https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig\",{platformId:\"undefined\"==typeof wx?\"3\":\"4\",mainAppKey:this.appkey,appVersion:t,sdkVersion:e.sdkVersion,osVersion:e.userAgent,model:\"\",packageName:\"\",params:{A3:e.deviceId}}).then((function(t){if(0==t.data.ret)try{var e=JSON.parse(t.data.beaconConfig);e&&(n.processData(e),n.storage.setItem(c,t.data.beaconConfig))}catch(t){}else n.processData(null),n.storage.setItem(c,\"\")})).catch((function(t){}))},t.prototype.processData=function(t){var e,r,n,o,i;this.strategy.isEventUpOnOff=null!==(e=null==t?void 0:t.isEventUpOnOff)&&void 0!==e?e:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=null!==(r=null==t?void 0:t.httpsUploadUrl)&&void 0!==r?r:this.strategy.httpsUploadUrl,this.strategy.requestInterval=null!==(n=null==t?void 0:t.requestInterval)&&void 0!==n?n:this.strategy.requestInterval,this.strategy.blacklist=null!==(o=null==t?void 0:t.blacklist)&&void 0!==o?o:this.strategy.blacklist,this.strategy.samplelist=null!==(i=null==t?void 0:t.samplelist)&&void 0!==i?i:this.strategy.samplelist;for(var a=0,s=this.strategy.samplelist;a<s.length;a++){var c=s[a].split(\",\");2==c.length&&(this.realSample[c[0]]=c[1])}},t.prototype.needRequestConfig=function(){var t=Number(this.storage.getItem(u));return Date.now()-t>60*this.strategy.requestInterval*1e3},t.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+\"?appkey=\"+this.appkey},t.prototype.isBlackEvent=function(t){return-1!=this.strategy.blacklist.indexOf(t)},t.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},t.prototype.isSampleEvent=function(t){return!!Object.prototype.hasOwnProperty.call(this.realSample,t)&&this.realSample[t]<Math.floor(Math.random()*Math.floor(1e4))},t}(),m=\"session_storage_key\",w=function(){function t(t,e,r){this.beacon=r,this.storage=t,this.duration=e,this.appkey=r.config.appkey}return t.prototype.getSession=function(){var t=this.storage.getItem(m);if(!t)return this.createSession();var e=\"\",r=0;try{var n=JSON.parse(t)||{sessionId:void 0,sessionStart:void 0};if(!n.sessionId||!n.sessionStart)return this.createSession();var o=Number(this.storage.getItem(a));if(Date.now()-o>this.duration)return this.createSession();e=n.sessionId,r=n.sessionStart}catch(t){}return{sessionId:e,sessionStart:r}},t.prototype.createSession=function(){var t=Date.now(),e={sessionId:this.appkey+\"_\"+t.toString(),sessionStart:t};this.storage.setItem(m,JSON.stringify(e)),this.storage.setItem(a,t.toString());var r=\"is_new_user\",n=this.storage.getItem(r);return this.beacon.onDirectUserAction(\"rqd_applaunched\",{A21:n?\"N\":\"Y\"}),this.storage.setItem(r,JSON.stringify(!1)),e},t}();function b(){var t=navigator.userAgent,e=t.indexOf(\"compatible\")>-1&&t.indexOf(\"MSIE\")>-1,r=t.indexOf(\"Edge\")>-1&&!e,n=t.indexOf(\"Trident\")>-1&&t.indexOf(\"rv:11.0\")>-1;if(e){new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\").test(t);var o=parseFloat(RegExp.$1);return 7==o?7:8==o?8:9==o?9:10==o?10:6}return r?-2:n?11:-1}var S=function(){return(S=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var E,I=function(){function t(t,e){void 0===e&&(e={}),this.reportOptions={},this.config=t,this.reportOptions=e}return t.canUseDB=function(){return!!(null===window||void 0===window?void 0:window.indexedDB)},t.prototype.openDB=function(){var e=this;return new Promise((function(r,n){if(!t.canUseDB())return n({message:\"当前不支持 indexeddb\"});var o=e.config,i=o.name,a=o.version,s=o.stores,c=indexedDB.open(i,a);c.onsuccess=function(){e.db=c.result,r(),S({result:1,func:\"open\",params:JSON.stringify(e.config)},e.reportOptions)},c.onerror=function(t){var r,o;n(t),S({result:0,func:\"open\",params:JSON.stringify(e.config),error_msg:null===(o=null===(r=t.target)||void 0===r?void 0:r.error)||void 0===o?void 0:o.message},e.reportOptions)},c.onupgradeneeded=function(){e.db=c.result;try{null==s||s.forEach((function(t){e.createStore(t)}))}catch(t){S({result:0,func:\"open\",params:JSON.stringify(e.config),error_msg:t.message},e.reportOptions),n(t)}}}))},t.prototype.useStore=function(t){return this.storeName=t,this},t.prototype.deleteDB=function(){var t=this;return this.closeDB(),new Promise((function(e,r){var n=indexedDB.deleteDatabase(t.config.name);n.onsuccess=function(){return e()},n.onerror=r}))},t.prototype.closeDB=function(){var t;null===(t=this.db)||void 0===t||t.close(),this.db=null},t.prototype.getStoreCount=function(){var t=this;return new Promise((function(e,r){var n=t.getStore(\"readonly\").count();n.onsuccess=function(){return e(n.result)},n.onerror=r}))},t.prototype.clearStore=function(){var t=this;return new Promise((function(e,r){var n=t.getStore(\"readwrite\").clear();n.onsuccess=function(){return e()},n.onerror=r}))},t.prototype.add=function(t,e){var r=this;return new Promise((function(n,o){var i=r.getStore(\"readwrite\").add(t,e);i.onsuccess=function(){n(i.result)},i.onerror=o}))},t.prototype.put=function(t,e){var r=this;return new Promise((function(n,o){var i=r.getStore(\"readwrite\").put(t,e);i.onsuccess=function(){n(i.result)},i.onerror=o}))},t.prototype.getStoreAllData=function(){var t=this;return new Promise((function(e,r){var n=t.getStore(\"readonly\").openCursor(),o=[];n.onsuccess=function(){var t;if(null===(t=n.result)||void 0===t?void 0:t.value){var r=n.result.value;o.push(r),n.result.continue()}else e(o)},n.onerror=r}))},t.prototype.getDataRangeByIndex=function(t,e,r,n,o){var i=this;return new Promise((function(a,s){var c=i.getStore().index(t),u=IDBKeyRange.bound(e,r,n,o),l=[],h=c.openCursor(u);h.onsuccess=function(){var t;(null===(t=null==h?void 0:h.result)||void 0===t?void 0:t.value)?(l.push(null==h?void 0:h.result.value),null==h||h.result.continue()):a(l)},h.onerror=s}))},t.prototype.removeDataByIndex=function(t,e,r,n,o){var i=this;return new Promise((function(a,s){var c=i.getStore(\"readwrite\").index(t),u=IDBKeyRange.bound(e,r,n,o),l=c.openCursor(u),h=0;l.onsuccess=function(t){var e=t.target.result;e?(h+=1,e.delete(),e.continue()):a(h)},l.onerror=s}))},t.prototype.createStore=function(t){var e=t.name,r=t.indexes,n=void 0===r?[]:r,o=t.options;if(this.db){this.db.objectStoreNames.contains(e)&&this.db.deleteObjectStore(e);var i=this.db.createObjectStore(e,o);n.forEach((function(t){i.createIndex(t.indexName,t.keyPath,t.options)}))}},t.prototype.getStore=function(t){var e;return void 0===t&&(t=\"readonly\"),null===(e=this.db)||void 0===e?void 0:e.transaction(this.storeName,t).objectStore(this.storeName)},t}(),O=\"event_table_v3\",k=\"eventId\",x=function(){function t(t){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new I({name:\"Beacon_\"+t+\"_V3\",version:1,stores:[{name:O,options:{keyPath:k},indexes:[{indexName:k,keyPath:k,options:{unique:!0}}]}]}),this.open()}return t.prototype.getCount=function(){var t=this;return this.readyExec((function(){return t.db.getStoreCount()}))},t.prototype.setItem=function(t,e){var r=this;return this.readyExec((function(){return r.db.add({eventId:t,value:e})}))},t.prototype.getItem=function(t){return r(this,void 0,void 0,(function(){var e=this;return n(this,(function(r){return[2,this.readyExec((function(){return e.db.getDataRangeByIndex(k,t,t)}))]}))}))},t.prototype.removeItem=function(t){var e=this;return this.readyExec((function(){return e.db.removeDataByIndex(k,t,t)}))},t.prototype.updateItem=function(t,e){var r=this;return this.readyExec((function(){return r.db.put({eventId:t,value:e})}))},t.prototype.iterate=function(t){var e=this;return this.readyExec((function(){return e.db.getStoreAllData().then((function(e){e.forEach((function(e){t(e.value)}))}))}))},t.prototype.open=function(){return r(this,void 0,void 0,(function(){var t=this;return n(this,(function(e){switch(e.label){case 0:return this.taskQueue=this.taskQueue.then((function(){return t.db.openDB()})),[4,this.taskQueue];case 1:return e.sent(),this.isReady=!0,this.db.useStore(O),[2]}}))}))},t.prototype.readyExec=function(t){return this.isReady?t():(this.taskQueue=this.taskQueue.then((function(){return t()})),this.taskQueue)},t}(),C=function(){function t(t){this.keyObject={},this.storage=t}return t.prototype.getCount=function(){return this.storage.getStoreCount()},t.prototype.removeItem=function(t){this.storage.removeItem(t),delete this.keyObject[t]},t.prototype.setItem=function(t,e){var r=JSON.stringify(e);this.storage.setItem(t,r),this.keyObject[t]=e},t.prototype.iterate=function(t){for(var e=Object.keys(this.keyObject),r=0;r<e.length;r++){var n=this.storage.getItem(e[r]);t(JSON.parse(n))}},t}(),_=function(){function t(t,e){var r=this;this.dbEventCount=0,b()>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?(this.store=new C(e),this.dbEventCount=this.store.getCount()):(this.store=new x(t),this.getCount().then((function(t){r.dbEventCount=t})))}return t.prototype.getCount=function(){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,Promise.reject()];case 3:return[2]}}))}))},t.prototype.insertEvent=function(t,e){return r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:if(this.dbEventCount>=1e4)return[2,Promise.reject()];r=p(t.mapValue),n.label=1;case 1:return n.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(r,t)];case 2:return[2,n.sent()];case 3:return o=n.sent(),e&&e(o,t),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}}))}))},t.prototype.getEvents=function(){return r(this,void 0,void 0,(function(){var t;return n(this,(function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.store.iterate((function(e){t.push(e)}))];case 2:return e.sent(),[2,Promise.all(t)];case 3:return e.sent(),[2,Promise.all(t)];case 4:return[2]}}))}))},t.prototype.removeEvent=function(t){return r(this,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:e=p(t.mapValue),r.label=1;case 1:return r.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(e)];case 2:return[2,r.sent()];case 3:return r.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}}))}))},t}(),A=function(){return(A=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function P(t){try{return decodeURIComponent(t.replace(/\\+/g,\" \"))}catch(t){return null}}function j(t,e){var r=[null,void 0,\"\",NaN].includes(t);if(e.isSkipEmpty&&r)return null;var n=!e.isSkipEmpty&&r?\"\":t;try{return e.encode?encodeURIComponent(n):n}catch(t){return null}}function D(t){var e=t.split(\"#\"),r=e[0],n=e[1],o=void 0===n?\"\":n,i=r.split(\"?\"),a=i[0],s=i[1],c=void 0===s?\"\":s,u=P(o),l=Object.create(null);return c.split(\"&\").forEach((function(t){var e=t.split(\"=\"),r=e[0],n=e[1],o=void 0===n?\"\":n,i=P(r),a=P(o);null===i||null===a||\"\"===i&&\"\"===a||l[i]||(l[i]=a)})),{url:a,query:l,hash:u}}function T(t,e){void 0===e&&(e={encode:!0,isSkipEmpty:!1});var r=t.url,n=t.query,o=void 0===n?{}:n,i=t.hash,a=r.split(\"#\"),s=a[0],c=a[1],u=void 0===c?\"\":c,l=s.split(\"?\")[0],h=[],f=j(i||u,e),p=A(A({},D(r).query),o);return Object.keys(p).forEach((function(t){var r=j(t,e),n=j(p[t],e);null!==r&&null!==n&&h.push(r+\"=\"+n)})),l+(h.length?\"?\"+h.join(\"&\"):\"\")+(f?\"#\"+f:\"\")}function N(t,e){return new Promise((function(r,n){if(e&&document.querySelectorAll(\"script[data-tag=\"+e+\"]\").length)return r();var o=document.createElement(\"script\"),i=A({type:\"text/javascript\",charset:\"utf-8\"},t);Object.keys(i).forEach((function(t){return function(t,e,r){if(t)return void 0===r?t.getAttribute(e):t.setAttribute(e,r)}(o,t,i[t])})),e&&(o.dataset.tag=e),o.onload=function(){return r()},o.onreadystatechange=function(){var t=o.readyState;[\"complete\",\"loaded\"].includes(t)&&(o.onreadystatechange=null,r())},o.onerror=n,document.body.appendChild(o)}))}!function(t){t[t.equal=0]=\"equal\",t[t.low=-1]=\"low\",t[t.high=1]=\"high\"}(E||(E={}));var U=function(){return(U=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function q(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}function R(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var L=function(){function t(){this.interceptors=[]}return t.prototype.use=function(t,e){return this.interceptors.push({resolved:t,rejected:e}),this.interceptors.length-1},t.prototype.traverse=function(t,e){void 0===e&&(e=!1);var r=Promise.resolve(t);return(e?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,(function(t,e){if(e){var n=e.resolved,o=e.rejected;r=r.then(n,o)}return t}),\"\"),r},t.prototype.eject=function(t){this.interceptors[t]&&(this.interceptors[t]=null)},t}(),B={defaults:{timeout:0,method:\"GET\",mode:\"cors\",redirect:\"follow\",credentials:\"same-origin\"},headers:{common:{Accept:\"application/json, text/plain, */*\"},POST:{\"Content-Type\":\"application/x-www-form-urlencoded\"},PUT:{\"Content-Type\":\"application/x-www-form-urlencoded\"},PATCH:{\"Content-Type\":\"application/x-www-form-urlencoded\"}},baseURL:\"\",polyfillUrl:\"https://vm.gtimg.cn/comps/script/fetch.min.js\",interceptors:{request:new L,response:new L}},J=/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i,M=Object.prototype.toString;function V(t){return q(this,void 0,void 0,(function(){var e;return R(this,(function(r){switch(r.label){case 0:if(window.fetch)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,N({src:t})];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),function(t){if(\"undefined\"!=typeof Image){var e=new Image(1,1),r=U({attaid:\"0f400053130\",token:\"6552374442\",comps:\"@tencent/ovb-request\",version:\"1.1.18\",ua:navigator.userAgent,url:location.href,_dc:Math.random()},t),n=Object.keys(r).map((function(t){return t+\"=\"+encodeURIComponent(r[t])})).join(\"&\");e.src=\"https://h.trace.qq.com/kv?\"+n}}({func:\"loadPolyfill\",result:0,params:t,error_msg:e.message}),new Error(\"加载 polyfill \"+t+\" 失败: \"+e.message);case 4:return[2]}}))}))}function G(t){return[\"Accept\",\"Content-Type\"].forEach((function(e){return r=e,void((n=t.headers)&&Object.keys(n).forEach((function(t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=n[t],delete n[t])})));var r,n})),function(t){if(\"[object Object]\"!==M.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}(t.body)&&(t.body=JSON.stringify(t.body),t.headers&&(t.headers[\"Content-Type\"]=\"application/json;charset=utf-8\")),t}function F(t){return q(this,void 0,void 0,(function(){var e,r,n,o,i,a,s,c,u,l,h,f,p,d,v,y,g;return R(this,(function(m){switch(m.label){case 0:return e=B.baseURL,r=B.defaults,n=B.interceptors,[4,V(B.polyfillUrl)];case 1:return m.sent(),(o=U(U({},r),t)).headers||(o.headers=function(t){void 0===t&&(t=\"GET\");var e=B.headers[t]||{};return U(U({},B.headers.common),e)}(o.method)),G(o),[4,n.request.traverse(o,!0)];case 2:if((i=m.sent())instanceof Error)throw i;return i.url=function(t,e){return!t||J.test(e)?e:t.replace(/\\/+$/,\"\")+\"/\"+e.replace(/^\\/+/,\"\")}(e,i.url),a=i.url,s=i.timeout,c=i.params,u=i.method,l=[\"GET\",\"DELETE\",\"OPTIONS\",\"HEAD\"].includes(void 0===u?\"GET\":u)&&!!c,h=l?T({url:a,query:c}):a,f=[],s&&!i.signal&&(v=new Promise((function(t){p=setTimeout((function(){t(new Error(\"timeout\"))}),s)})),f.push(v),d=new AbortController,i.signal=d.signal),f.push(fetch(h,i).catch((function(t){return t}))),[4,Promise.race(f)];case 3:return y=m.sent(),p&&clearTimeout(p),[4,n.response.traverse(y)];case 4:if((g=m.sent())instanceof Error)throw null==d||d.abort(),g;return[2,g]}}))}))}var Q=function(){function t(t){B.interceptors.request.use((function(r){var n=r.url,o=r.method,i=r.body,a=i;if(t.onReportBeforeSend){var s=t.onReportBeforeSend({url:n,method:o,data:i?JSON.parse(i):null});a=(null==s?void 0:s.data)?JSON.stringify(s.data):null}if(\"GET\"!==o&&!a)throw new Error(\"No data for sdk, cancel.\");return e(e({},r),{body:a})}))}return t.prototype.get=function(t,o){return r(this,void 0,void 0,(function(){var r,i;return n(this,(function(n){switch(n.label){case 0:return[4,F(e({url:t},o))];case 1:return[4,(r=n.sent()).json()];case 2:return i=n.sent(),[2,Promise.resolve({data:i,status:r.status,statusText:r.statusText,headers:r.headers})]}}))}))},t.prototype.post=function(t,o,i){return r(this,void 0,void 0,(function(){var r,a;return n(this,(function(n){switch(n.label){case 0:return[4,F(e({url:t,body:o,method:\"POST\"},i))];case 1:return[4,(r=n.sent()).json()];case 2:return a=n.sent(),[2,Promise.resolve({data:a,status:r.status,statusText:r.statusText,headers:r.headers})]}}))}))},t}(),K=function(){function t(t){this.appkey=t}return t.prototype.getItem=function(t){try{return window.localStorage.getItem(this.getStoreKey(t))}catch(t){return\"\"}},t.prototype.removeItem=function(t){try{window.localStorage.removeItem(this.getStoreKey(t))}catch(t){}},t.prototype.setItem=function(t,e){try{window.localStorage.setItem(this.getStoreKey(t),e)}catch(t){}},t.prototype.setSessionItem=function(t,e){try{window.sessionStorage.setItem(this.getStoreKey(t),e)}catch(t){}},t.prototype.getSessionItem=function(t){try{return window.sessionStorage.getItem(this.getStoreKey(t))}catch(t){return\"\"}},t.prototype.getStoreKey=function(t){return o+this.appkey+\"_\"+t},t.prototype.createDeviceId=function(){try{var t=window.localStorage.getItem(i);return t||(t=function(t){for(var e=\"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789\",r=\"\",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}(32),window.localStorage.setItem(i,t)),t}catch(t){return\"\"}},t.prototype.clear=function(){try{for(var t=window.localStorage.length,e=0;e<t;e++){var r=window.localStorage.key(e);(null==r?void 0:r.substr(0,9))==o&&window.localStorage.removeItem(r)}}catch(t){}},t.prototype.getStoreCount=function(){var t=0;try{t=window.localStorage.length}catch(t){}return t},t}();\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self&&self;var W=function(t){var e={exports:{}};return t(e,e.exports),e.exports}((function(t,e){t.exports=function(){function t(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r,n=(function(t){t=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},i=o.iterator||\"@@iterator\",a=o.asyncIterator||\"@@asyncIterator\",s=o.toStringTag||\"@@toStringTag\";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(r){c=function(t,e,r){return t[e]=r}}function u(t,r,n,o){var i,a,s,c;return r=r&&r.prototype instanceof y?r:y,r=Object.create(r.prototype),o=new k(o||[]),r._invoke=(i=t,a=n,s=o,c=h,function(t,r){if(c===p)throw new Error(\"Generator is already running\");if(c===d){if(\"throw\"===t)throw r;return C()}for(s.method=t,s.arg=r;;){var n=s.delegate;if(n){var o=function t(r,n){var o;if((o=r.iterator[n.method])===e){if(n.delegate=null,\"throw\"===n.method){if(r.iterator.return&&(n.method=\"return\",n.arg=e,t(r,n),\"throw\"===n.method))return v;n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return v}return\"throw\"===(o=l(o,r.iterator,n.arg)).type?(n.method=\"throw\",n.arg=o.arg,n.delegate=null,v):(o=o.arg)?o.done?(n[r.resultName]=o.value,n.next=r.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=e),n.delegate=null,v):o:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}(n,s);if(o){if(o===v)continue;return o}}if(\"next\"===s.method)s.sent=s._sent=s.arg;else if(\"throw\"===s.method){if(c===h)throw c=d,s.arg;s.dispatchException(s.arg)}else\"return\"===s.method&&s.abrupt(\"return\",s.arg);if(c=p,\"normal\"===(o=l(i,a,s)).type){if(c=s.done?d:f,o.arg!==v)return{value:o.arg,done:s.done}}else\"throw\"===o.type&&(c=d,s.method=\"throw\",s.arg=o.arg)}}),r}function l(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=u;var h=\"suspendedStart\",f=\"suspendedYield\",p=\"executing\",d=\"completed\",v={};function y(){}function g(){}function m(){}var w={};w[i]=function(){return this},(o=(o=Object.getPrototypeOf)&&o(o(x([]))))&&o!==r&&n.call(o,i)&&(w=o);var b=m.prototype=y.prototype=Object.create(w);function S(t){[\"next\",\"throw\",\"return\"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){if(\"throw\"!==(o=l(t[o],t,i)).type){var c=o.arg;return(i=c.value)&&\"object\"==typeof i&&n.call(i,\"__await\")?e.resolve(i.__await).then((function(t){r(\"next\",t,a,s)}),(function(t){r(\"throw\",t,a,s)})):e.resolve(i).then((function(t){c.value=t,a(c)}),(function(t){return r(\"throw\",t,a,s)}))}s(o.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(I,this),this.reset(!0)}function x(t){if(t){if(r=t[i])return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r,o=-1;return(r=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r}).next=r}}return{next:C}}function C(){return{value:e,done:!0}}return((g.prototype=b.constructor=m).constructor=g).displayName=c(m,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){return!!(t=\"function\"==typeof t&&t.constructor)&&(t===g||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,\"GeneratorFunction\")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(b),c(b,s,\"Generator\"),b[i]=function(){return this},b.toString=function(){return\"[object Generator]\"},t.keys=function(t){var e,r=[];for(e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type=\"throw\",s.arg=t,r.next=n,o&&(r.method=\"next\",r.arg=e),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],s=a.completion;if(\"root\"===a.tryLoc)return o(\"end\");if(a.tryLoc<=this.prev){var c=n.call(a,\"catchLoc\"),u=n.call(a,\"finallyLoc\");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,\"finallyLoc\")&&this.prev<o.finallyLoc){var i=o;break}}var a=(i=i&&(\"break\"===t||\"continue\"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return a.type=t,a.arg=e,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n,o=r.completion;return\"throw\"===o.type&&(n=o.arg,O(r)),n}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,n){return this.delegate={iterator:x(t),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=t}catch(e){Function(\"r\",\"regeneratorRuntime = r\")(t)}}(r={exports:{}}),r.exports);return function(){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,r),this.version=\"1.0.0\";var e=Array.prototype.map,n=Array.prototype.forEach;t&&(this.hasher=t),this.each=function(t,e,r){if(null!=t)if(n&&t.forEach===n)t.forEach(e,r);else if(t.length===+t.length){for(var o=0,i=t.length;o<i;o++)if(e.call(r,t[o],o,t)==={})return}else for(var a in t)if(t.hasOwnProperty(a)&&e.call(r,t[a],a,t)==={})return},this.map=function(t,r,n){var o=[];return null==t?o:e&&t.map===e?t.map(r,n):(this.each(t,(function(t,e,i){o[o.length]=r.call(n,t,e,i)})),o)}}var o,i,a,s;return o=r,(i=[{key:\"getQimei36\",value:function(t,e){var r=this;this.getHid().then((function(n){var o=\"3BJr\"+t.substring(0,2)+(n&&n.substring(3,7)),i=new XMLHttpRequest;i.open(\"POST\",\"https://snowflake.qq.com/ola/h5\",!0),i.setRequestHeader(\"Content-Type\",\"application/json\"),i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE&&200==i.status)try{e&&e(JSON.parse(i.responseText))}catch(t){e(null)}},i.send(JSON.stringify({appKey:t,hid:n,sign:o,version:r.version}))}))}},{key:\"getHid\",value:(a=n.mark((function t(){var e,r;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=[]).push((n=void 0,(n=[Math.floor(window.screen.width*window.devicePixelRatio),Math.floor(window.screen.height*window.devicePixelRatio)]).sort().reverse(),n.join(\"x\"))),e.push((n=void 0,(n=[Math.floor(window.screen.availWidth*window.devicePixelRatio),Math.floor(window.screen.availHeight*window.devicePixelRatio)]).sort().reverse(),n.join(\"x\"))),e.push(navigator.deviceMemory),e.push(!!window.sessionStorage),e.push(!!window.indexedDB),e.push(navigator.productSub),e.push(navigator.hardwareConcurrency),e.push(this.getWebglVendorAndRenderer()),e.push((new Date).getTimezoneOffset()),t.next=12,this.getFactor();case 12:if(r=t.sent,e.push(r),this.hasher)return t.abrupt(\"return\",this.hasher(e.join(\"###\"),31));t.next=18;break;case 18:return t.abrupt(\"return\",this.x64hash128(e.join(\"###\"),31));case 19:case\"end\":return t.stop()}var n}),t,this)})),s=function(){var e=this,r=arguments;return new Promise((function(n,o){var i=a.apply(e,r);function s(e){t(i,n,o,s,c,\"next\",e)}function c(e){t(i,n,o,s,c,\"throw\",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:\"getUserAgent\",value:function(){return navigator.userAgent}},{key:\"getNative\",value:function(){var t=this;this.getHid().then((function(e){JSInterface.callback(t.version,e,t.getUserAgent())}))}},{key:\"getWebglVendorAndRenderer\",value:function(){try{var t=function(){var t=document.createElement(\"canvas\"),e=null;try{e=t.getContext(\"webgl\")||t.getContext(\"experimental-webgl\")}catch(t){}return e||null}(),e=t.getExtension(\"WEBGL_debug_renderer_info\"),r=[t.getParameter(e.UNMASKED_VENDOR_WEBGL),t.getParameter(e.UNMASKED_RENDERER_WEBGL)].join(\"~\"),n=t.getExtension(\"WEBGL_lose_context\");return null!=n&&n.loseContext(),r}catch(t){return null}}},{key:\"getFactor\",value:function(){return new Promise((function(t,e){var r=window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection;r?function(){var e=new r({iceServers:[]});e.createDataChannel(\"\",{reliable:!1}),e.onicecandidate=function(t){t.candidate&&i(\"a=\".concat(t.candidate.candidate))},e.createOffer((function(t){i(t.sdp),e.setLocalDescription(t)}),(function(t){}));var n=Object.create(null);function o(e){if(!(e in n)){n[e]=!0;for(var r=Object.keys(n).filter((function(t){return n[t]})),o=0;o<r.length;o++)16<r[o].length&&(r.splice(o,1),o--);t(r[0])}}function i(t){(0<arguments.length&&void 0!==t?t:\"\").split(\"\\r\\n\").forEach((function(t,e,r){var n,i;~t.indexOf(\"a=candidate\")?(i=(n=t.split(\" \"))[4],\"host\"===n[7]&&o(i)):~t.indexOf(\"c=\")&&o(t.split(\" \")[2])}))}n[\"0.0.0.0\"]=!1}():t(null)}))}},{key:\"x64hash128\",value:function(t,e){for(var r=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},n=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]},o=function(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:[t[1]<<(e-=32)|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e]},i=function(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},a=function(t,e){return[t[0]^e[0],t[1]^e[1]]},s=function(t){return t=a(t,[0,t[0]>>>1]),t=n(t,[4283543511,3981806797]),t=a(t,[0,t[0]>>>1]),t=n(t,[3301882366,444984403]),a(t,[0,t[0]>>>1])},c=(t=t||\"\").length%16,u=t.length-c,l=[0,e=e||0],h=[0,e],f=[0,0],p=[0,0],d=[2277735313,289559509],v=[1291169091,658871167],y=0;y<u;y+=16)f=[255&t.charCodeAt(y+4)|(255&t.charCodeAt(y+5))<<8|(255&t.charCodeAt(y+6))<<16|(255&t.charCodeAt(y+7))<<24,255&t.charCodeAt(y)|(255&t.charCodeAt(y+1))<<8|(255&t.charCodeAt(y+2))<<16|(255&t.charCodeAt(y+3))<<24],p=[255&t.charCodeAt(y+12)|(255&t.charCodeAt(y+13))<<8|(255&t.charCodeAt(y+14))<<16|(255&t.charCodeAt(y+15))<<24,255&t.charCodeAt(y+8)|(255&t.charCodeAt(y+9))<<8|(255&t.charCodeAt(y+10))<<16|(255&t.charCodeAt(y+11))<<24],f=o(f=n(f,d),31),f=n(f,v),l=r(l=o(l=a(l,f),27),h),l=r(n(l,[0,5]),[0,1390208809]),p=o(p=n(p,v),33),p=n(p,d),h=r(h=o(h=a(h,p),31),l),h=r(n(h,[0,5]),[0,944331445]);switch(f=[0,0],p=[0,0],c){case 15:p=a(p,i([0,t.charCodeAt(y+14)],48));case 14:p=a(p,i([0,t.charCodeAt(y+13)],40));case 13:p=a(p,i([0,t.charCodeAt(y+12)],32));case 12:p=a(p,i([0,t.charCodeAt(y+11)],24));case 11:p=a(p,i([0,t.charCodeAt(y+10)],16));case 10:p=a(p,i([0,t.charCodeAt(y+9)],8));case 9:p=a(p,[0,t.charCodeAt(y+8)]),p=o(p=n(p,v),33),p=n(p,d),h=a(h,p);case 8:f=a(f,i([0,t.charCodeAt(y+7)],56));case 7:f=a(f,i([0,t.charCodeAt(y+6)],48));case 6:f=a(f,i([0,t.charCodeAt(y+5)],40));case 5:f=a(f,i([0,t.charCodeAt(y+4)],32));case 4:f=a(f,i([0,t.charCodeAt(y+3)],24));case 3:f=a(f,i([0,t.charCodeAt(y+2)],16));case 2:f=a(f,i([0,t.charCodeAt(y+1)],8));case 1:f=a(f,[t.charCodeAt(y)]),f=o(f=n(f,d),31),f=n(f,v),l=a(l,f)}return l=a(l,[0,t.length]),h=r(h=a(h,[0,t.length]),l=r(l,h)),l=s(l),h=r(h=s(h),l=r(l,h)),(\"00000000\"+(l[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(l[1]>>>0).toString(16)).slice(-8)+(\"00000000\"+(h[0]>>>0).toString(16)).slice(-8)+(\"00000000\"+(h[1]>>>0).toString(16)).slice(-8)}}])&&e(o.prototype,i),r}()}()})),H=\"logid_start\",z=\"4.5.6-web\";return function(r){function n(t){var e=r.call(this,t)||this;e.qimei36=\"\",e.uselessCycleTaskNum=0,e.underWeakNet=!1,e.send=function(t,r,n){e.storage.setItem(a,Date.now().toString()),e.network.post(e.uploadUrl||e.strategy.getUploadUrl(),t.data).then((function(n){var o;100==(null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.result)?e.delayTime=1e3*n.data.delayTime:e.delayTime=0,r&&r(t.data),t.data.events.forEach((function(t){e.store.removeEvent(t).then((function(){e.removeSendingId(p(t.mapValue))}))})),e.doCustomCycleTask()})).catch((function(r){var o=t.data.events;e.errorReport.reportError(r.code?r.code.toString():\"600\",r.message),n&&n(t.data);var i=JSON.parse(e.storage.getItem(s));o.forEach((function(t){i&&-1!=i.indexOf(p(t))&&e.store.insertEvent(t,(function(t,r){t&&e.errorReport.reportError(\"604\",\"insertEvent fail!\")})),e.removeSendingId(p(t))})),e.monitorUploadFailed()}))};var n,o,i=b();return e.isUnderIE8=i>0&&i<8,e.isUnderIE8||(e.isUnderIE=i>0,t.needInitQimei&&e.initQimei(t.appkey),e.network=new Q(t),e.storage=new K(t.appkey),e.initCommonInfo(t),e.store=new _(t.appkey,e.storage),e.errorReport=new y(e.config,e.commonInfo,\"web\",e.network),e.strategy=new g(e.config,e.commonInfo,e.storage,e.network),e.logidStartTime=e.storage.getItem(H),e.logidStartTime||(e.logidStartTime=Date.now().toString(),e.storage.setItem(H,e.logidStartTime)),n=e.logidStartTime,o=Date.now()-Number.parseFloat(n),Math.floor(o/864e5)>=365&&e.storage.clear(),e.initSession(t),e.onDirectUserAction(\"rqd_js_init\",{}),setTimeout((function(){return e.lifeCycle.emit(\"init\")}),0),e.initDelayTime=t.delay?t.delay:1e3,e.cycleTask(e.initDelayTime)),e}return function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(n,r),n.prototype.initQimei=function(t){var e=this;(new W).getQimei36(t,(function(t){e.qimei36=t.q36}))},n.prototype.initSession=function(t){var e=18e5;t.sessionDuration&&t.sessionDuration>3e4&&(e=t.sessionDuration),this.beaconSession=new w(this.storage,e,this)},n.prototype.initCommonInfo=function(t){var e=Number(this.storage.getItem(a));try{var r=JSON.parse(this.storage.getItem(s));(Date.now()-e>3e4||!r)&&this.storage.setItem(s,JSON.stringify([]))}catch(t){}t.uploadUrl&&(this.uploadUrl=t.uploadUrl+\"?appkey=\"+t.appkey);var n=[window.screen.width,window.screen.height];window.devicePixelRatio&&n.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||\"zh_CN\",query:window.location.search,userAgent:navigator.userAgent,pixel:n.join(\"*\"),channelID:t.channelID?String(t.channelID):\"\",openid:t.openid?String(t.openid):\"\",unid:t.unionid?String(t.unionid):\"\",sdkVersion:z},this.config.appVersion=t.versionCode?String(t.versionCode):\"\",this.config.strictMode=t.strictMode},n.prototype.cycleTask=function(t){var e=this;this.intervalID=window.setInterval((function(){e.store.getEvents().then((function(t){var r=[],n=JSON.parse(e.storage.getItem(s));n||(n=[]),t&&t.forEach((function(t){var e=p(t.mapValue);-1==n.indexOf(e)&&(r.push(t),n.push(e))})),0!=r.length&&(e.storage.setItem(s,JSON.stringify(n)),e._normalLogPipeline(e.assembleData(r)))})).catch((function(t){}))}),t)},n.prototype.onReport=function(t,e,r){var n=this;if(this.isUnderIE8)this.errorReport.reportError(\"601\",\"UnderIE8\");else{var o=this.generateData(t,e,r);if(r&&0==this.delayTime&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(o));else{var i=o.shift();i&&this.store.insertEvent(i,(function(t){t&&n.errorReport.reportError(\"604\",\"insertEvent fail!\")})).catch((function(t){n._normalLogPipeline(n.assembleData(o))}))}}},n.prototype.onSendBeacon=function(t,e){if(this.isUnderIE)this.errorReport.reportError(\"605\",\"UnderIE\");else{var r=this.assembleData(this.generateData(t,e,!0));\"function\"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(r))}},n.prototype.generateData=function(t,r,n){var o=[],i=\"4.5.6-web_\"+(n?\"direct_log_id\":\"normal_log_id\"),a=Number(this.storage.getItem(i));return a=a||1,r=e(e({},r),{A99:n?\"Y\":\"N\",A100:a.toString(),A72:z,A88:this.logidStartTime}),a++,this.storage.setItem(i,a.toString()),o.push({eventCode:t,eventTime:Date.now().toString(),mapValue:h(r,this.config.strictMode)}),o},n.prototype.assembleData=function(t){var r=this.beaconSession.getSession();return{appVersion:this.config.appVersion?f(this.config.appVersion):\"\",sdkId:\"js\",sdkVersion:z,mainAppKey:this.config.appkey,platformId:3,common:h(e(e({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:r.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:t}},n.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},n.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},n}(v)}));\r\n","/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\n        p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n            32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,\n                2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},\n        r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);\n            a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new s.HMAC.init(a,\n        d)).finalize(b)}}});var s=e.algo={};return e}(Math);\n(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^\ng)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=b[0]+n|0;b[1]=b[1]+j|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+l|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();\n(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;\"string\"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=\n    this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();\n\n\n(function () {\n    // Shortcuts\n    var C = CryptoJS;\n    var C_lib = C.lib;\n    var WordArray = C_lib.WordArray;\n    var C_enc = C.enc;\n\n    /**\n     * Base64 encoding strategy.\n     */\n    var Base64 = C_enc.Base64 = {\n        /**\n         * Converts a word array to a Base64 string.\n         *\n         * @param {WordArray} wordArray The word array.\n         *\n         * @return {string} The Base64 string.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n         */\n        stringify: function (wordArray) {\n            // Shortcuts\n            var words = wordArray.words;\n            var sigBytes = wordArray.sigBytes;\n            var map = this._map;\n\n            // Clamp excess bits\n            wordArray.clamp();\n\n            // Convert\n            var base64Chars = [];\n            for (var i = 0; i < sigBytes; i += 3) {\n                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n                }\n            }\n\n            // Add padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                while (base64Chars.length % 4) {\n                    base64Chars.push(paddingChar);\n                }\n            }\n\n            return base64Chars.join('');\n        },\n\n        /**\n         * Converts a Base64 string to a word array.\n         *\n         * @param {string} base64Str The Base64 string.\n         *\n         * @return {WordArray} The word array.\n         *\n         * @static\n         *\n         * @example\n         *\n         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n         */\n        parse: function (base64Str) {\n            // Shortcuts\n            var base64StrLength = base64Str.length;\n            var map = this._map;\n\n            // Ignore padding\n            var paddingChar = map.charAt(64);\n            if (paddingChar) {\n                var paddingIndex = base64Str.indexOf(paddingChar);\n                if (paddingIndex != -1) {\n                    base64StrLength = paddingIndex;\n                }\n            }\n\n            // Convert\n            var words = [];\n            var nBytes = 0;\n            for (var i = 0; i < base64StrLength; i++) {\n                if (i % 4) {\n                    var bits1 = map.indexOf(base64Str.charAt(i - 1)) << ((i % 4) * 2);\n                    var bits2 = map.indexOf(base64Str.charAt(i)) >>> (6 - (i % 4) * 2);\n                    words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n                    nBytes++;\n                }\n            }\n\n            return WordArray.create(words, nBytes);\n        },\n\n        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n    };\n}());\n\nif(typeof module === 'object'){\n    module.exports = CryptoJS;\n}else{\n    window.CryptoJS = CryptoJS;\n}\n","//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\n\nvar element_start_char =\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function (obj) {\n    var l = [];\n    if (obj instanceof Object) {\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                l.push(k);\n            }\n        }\n    }\n    return l;\n};\nvar process_to_xml = function (node_data, options) {\n\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n        if (options.removeIllegalNameCharacters) {\n            name = name.replace(element_replace, '_');\n        }\n\n        var node = [indent, '<', name, (attributes || '')];\n        if (content && content.length > 0) {\n            node.push('>')\n            node.push(content);\n            hasSubNodes && node.push(indent);\n            node.push('</');\n            node.push(name);\n            node.push('>');\n        } else {\n            node.push('/>');\n        }\n        return node.join('');\n    };\n\n    return (function fn(node_data, node_descriptor, level) {\n        var type = typeof node_data;\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\n            type = 'array';\n        } else if (node_data instanceof Date) {\n            type = 'date';\n        }\n\n        switch (type) {\n            //if value is an array create child nodes from values\n            case 'array':\n                var ret = [];\n                node_data.map(function (v) {\n                    ret.push(fn(v, 1, level + 1));\n                    //entries that are values of an array are the only ones that can be special node descriptors\n                });\n                options.prettyPrint && ret.push('\\n');\n                return ret.join('');\n                break;\n\n            case 'date':\n                // cast dates to ISO 8601 date (soap likes it)\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\n                break;\n\n            case 'object':\n                var nodes = [];\n                for (var name in node_data) {\n                    if (node_data.hasOwnProperty(name)) {\n                        if (node_data[name] instanceof Array) {\n                            for (var j = 0; j < node_data[name].length; j++) {\n                                if (node_data[name].hasOwnProperty(j)) {\n                                    nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                                }\n                            }\n                        } else {\n                            nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n                        }\n                    }\n                }\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n                return nodes.join('');\n                break;\n\n            case 'function':\n                return node_data();\n                break;\n\n            default:\n                return options.escape ? esc(node_data) : '' + node_data;\n        }\n\n    }(node_data, 0, 0))\n};\n\n\nvar xml_header = function (standalone) {\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n    if (standalone) {\n        ret.push(' standalone=\"yes\"');\n    }\n    ret.push('?>');\n\n    return ret.join('');\n};\n\nfunction esc(str) {\n    return ('' + str).replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/'/g, '&apos;')\n        .replace(/\"/g, '&quot;')\n        .replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n    if (!options) {\n        options = {\n            xmlHeader: {\n                standalone: true\n            },\n            prettyPrint: true,\n            indent: \"  \",\n            escape: true,\n        };\n    }\n\n    if (typeof obj == 'string') {\n        try {\n            obj = JSON.parse(obj.toString());\n        } catch (e) {\n            return false;\n        }\n    }\n\n    var xmlheader = '';\n    var docType = '';\n    if (options) {\n        if (typeof options == 'object') {\n            // our config is an object\n\n            if (options.xmlHeader) {\n                // the user wants an xml header\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\n            }\n\n            if (typeof options.docType != 'undefined') {\n                docType = '<!DOCTYPE ' + options.docType + '>'\n            }\n        } else {\n            // our config is a boolean value, so just add xml header\n            xmlheader = xml_header();\n        }\n    }\n    options = options || {}\n\n    var ret = [\n        xmlheader,\n        (options.prettyPrint && docType ? '\\n' : ''),\n        docType,\n        process_to_xml(obj, options)\n    ];\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};","/* https://github.com/emn178/js-md5 */\r\n(function () {\r\n    'use strict';\r\n\r\n    var ERROR = 'input is invalid type';\r\n    var WINDOW = typeof window === 'object';\r\n    var root = WINDOW ? window : {};\r\n    if (root.JS_MD5_NO_WINDOW) {\r\n        WINDOW = false;\r\n    }\r\n    var WEB_WORKER = !WINDOW && typeof self === 'object';\r\n    var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\r\n    if (NODE_JS) {\r\n        root = global;\r\n    } else if (WEB_WORKER) {\r\n        root = self;\r\n    }\r\n    var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && typeof module === 'object' && module.exports;\r\n    var AMD = typeof define === 'function' && define.amd;\r\n    var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\r\n    var HEX_CHARS = '0123456789abcdef'.split('');\r\n    var EXTRA = [128, 32768, 8388608, -2147483648];\r\n    var SHIFT = [0, 8, 16, 24];\r\n    var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\r\n    var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\r\n\r\n    var blocks = [], buffer8;\r\n    if (ARRAY_BUFFER) {\r\n        var buffer = new ArrayBuffer(68);\r\n        buffer8 = new Uint8Array(buffer);\r\n        blocks = new Uint32Array(buffer);\r\n    }\r\n\r\n    if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\r\n        Array.isArray = function (obj) {\r\n            return Object.prototype.toString.call(obj) === '[object Array]';\r\n        };\r\n    }\r\n\r\n    if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\r\n        ArrayBuffer.isView = function (obj) {\r\n            return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @method hex\r\n     * @memberof md5\r\n     * @description Output hash as hex string\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {String} Hex string\r\n     * @example\r\n     * md5.hex('The quick brown fox jumps over the lazy dog');\r\n     * // equal to\r\n     * md5('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method digest\r\n     * @memberof md5\r\n     * @description Output hash as bytes array\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Array} Bytes array\r\n     * @example\r\n     * md5.digest('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method array\r\n     * @memberof md5\r\n     * @description Output hash as bytes array\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Array} Bytes array\r\n     * @example\r\n     * md5.array('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method arrayBuffer\r\n     * @memberof md5\r\n     * @description Output hash as ArrayBuffer\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @example\r\n     * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method buffer\r\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n     * @memberof md5\r\n     * @description Output hash as ArrayBuffer\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @example\r\n     * md5.buffer('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method base64\r\n     * @memberof md5\r\n     * @description Output hash as base64 string\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {String} base64 string\r\n     * @example\r\n     * md5.base64('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    var createOutputMethod = function (outputType) {\r\n        return function (message, isBinStr) {\r\n            return new Md5(true).update(message, isBinStr)[outputType]();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @method create\r\n     * @memberof md5\r\n     * @description Create Md5 object\r\n     * @returns {Md5} Md5 object.\r\n     * @example\r\n     * var hash = md5.create();\r\n     */\r\n    /**\r\n     * @method update\r\n     * @memberof md5\r\n     * @description Create and update Md5 object\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Md5} Md5 object.\r\n     * @example\r\n     * var hash = md5.update('The quick brown fox jumps over the lazy dog');\r\n     * // equal to\r\n     * var hash = md5.create();\r\n     * hash.update('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    var createMethod = function () {\r\n        var method = createOutputMethod('hex');\r\n        if (NODE_JS) {\r\n            method = nodeWrap(method);\r\n        }\r\n        method.getCtx = method.create = function () {\r\n            return new Md5();\r\n        };\r\n        method.update = function (message) {\r\n            return method.create().update(message);\r\n        };\r\n        for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\r\n            var type = OUTPUT_TYPES[i];\r\n            method[type] = createOutputMethod(type);\r\n        }\r\n        return method;\r\n    };\r\n\r\n    var nodeWrap = function (method) {\r\n        var crypto = eval(\"require('crypto')\");\r\n        var Buffer = eval(\"require('buffer').Buffer\");\r\n        var nodeMethod = function (message) {\r\n            if (typeof message === 'string') {\r\n                return crypto.createHash('md5').update(message, 'utf8').digest('hex');\r\n            } else {\r\n                if (message === null || message === undefined) {\r\n                    throw ERROR;\r\n                } else if (message.constructor === ArrayBuffer) {\r\n                    message = new Uint8Array(message);\r\n                }\r\n            }\r\n            if (Array.isArray(message) || ArrayBuffer.isView(message) ||\r\n                message.constructor === Buffer) {\r\n                return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\r\n            } else {\r\n                return method(message);\r\n            }\r\n        };\r\n        return nodeMethod;\r\n    };\r\n\r\n    /**\r\n     * Md5 class\r\n     * @class Md5\r\n     * @description This is internal class.\r\n     * @see {@link md5.create}\r\n     */\r\n    function Md5(sharedMemory) {\r\n        if (sharedMemory) {\r\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n            this.blocks = blocks;\r\n            this.buffer8 = buffer8;\r\n        } else {\r\n            if (ARRAY_BUFFER) {\r\n                var buffer = new ArrayBuffer(68);\r\n                this.buffer8 = new Uint8Array(buffer);\r\n                this.blocks = new Uint32Array(buffer);\r\n            } else {\r\n                this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n            }\r\n        }\r\n        this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\r\n        this.finalized = this.hashed = false;\r\n        this.first = true;\r\n    }\r\n\r\n    /**\r\n     * @method update\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Update hash\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Md5} Md5 object.\r\n     * @see {@link md5.update}\r\n     */\r\n    Md5.prototype.update = function (message, isBinStr) {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n\r\n        var code, index = 0, i, length = message.length, blocks = this.blocks;\r\n        var buffer8 = this.buffer8;\r\n\r\n        while (index < length) {\r\n            if (this.hashed) {\r\n                this.hashed = false;\r\n                blocks[0] = blocks[16];\r\n                blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                    blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                            blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n            }\r\n\r\n            if (ARRAY_BUFFER) {\r\n                for (i = this.start; index < length && i < 64; ++index) {\r\n                    code = message.charCodeAt(index);\r\n                    if (isBinStr || code < 0x80) {\r\n                        buffer8[i++] = code;\r\n                    } else if (code < 0x800) {\r\n                        buffer8[i++] = 0xc0 | (code >> 6);\r\n                        buffer8[i++] = 0x80 | (code & 0x3f);\r\n                    } else if (code < 0xd800 || code >= 0xe000) {\r\n                        buffer8[i++] = 0xe0 | (code >> 12);\r\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\r\n                        buffer8[i++] = 0x80 | (code & 0x3f);\r\n                    } else {\r\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\r\n                        buffer8[i++] = 0xf0 | (code >> 18);\r\n                        buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);\r\n                        buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\r\n                        buffer8[i++] = 0x80 | (code & 0x3f);\r\n                    }\r\n                }\r\n            } else {\r\n                for (i = this.start; index < length && i < 64; ++index) {\r\n                    code = message.charCodeAt(index);\r\n                    if (isBinStr || code < 0x80) {\r\n                        blocks[i >> 2] |= code << SHIFT[i++ & 3];\r\n                    } else if (code < 0x800) {\r\n                        blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                    } else if (code < 0xd800 || code >= 0xe000) {\r\n                        blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                    } else {\r\n                        code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\r\n                        blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\r\n                        blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                    }\r\n                }\r\n            }\r\n            this.lastByteIndex = i;\r\n            this.bytes += i - this.start;\r\n            if (i >= 64) {\r\n                this.start = i - 64;\r\n                this.hash();\r\n                this.hashed = true;\r\n            } else {\r\n                this.start = i;\r\n            }\r\n        }\r\n        if (this.bytes > 4294967295) {\r\n            this.hBytes += this.bytes / 4294967296 << 0;\r\n            this.bytes = this.bytes % 4294967296;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Md5.prototype.finalize = function () {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        var blocks = this.blocks, i = this.lastByteIndex;\r\n        blocks[i >> 2] |= EXTRA[i & 3];\r\n        if (i >= 56) {\r\n            if (!this.hashed) {\r\n                this.hash();\r\n            }\r\n            blocks[0] = blocks[16];\r\n            blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n        }\r\n        blocks[14] = this.bytes << 3;\r\n        blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\r\n        this.hash();\r\n    };\r\n\r\n    Md5.prototype.hash = function () {\r\n        var a, b, c, d, bc, da, blocks = this.blocks;\r\n\r\n        if (this.first) {\r\n            a = blocks[0] - 680876937;\r\n            a = (a << 7 | a >>> 25) - 271733879 << 0;\r\n            d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\r\n            d = (d << 12 | d >>> 20) + a << 0;\r\n            c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;\r\n            c = (c << 17 | c >>> 15) + d << 0;\r\n            b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;\r\n            b = (b << 22 | b >>> 10) + c << 0;\r\n        } else {\r\n            a = this.h0;\r\n            b = this.h1;\r\n            c = this.h2;\r\n            d = this.h3;\r\n            a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;\r\n            a = (a << 7 | a >>> 25) + b << 0;\r\n            d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;\r\n            d = (d << 12 | d >>> 20) + a << 0;\r\n            c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;\r\n            c = (c << 17 | c >>> 15) + d << 0;\r\n            b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;\r\n            b = (b << 22 | b >>> 10) + c << 0;\r\n        }\r\n\r\n        a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[5] - 378558;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[8] - 2022574463;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[11] + 1839030562;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[14] - 35309556;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[1] - 1530992060;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[4] + 1272893353;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[7] - 155497632;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[10] - 1094730640;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[13] + 681279174;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[0] - 358537222;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[3] - 722521979;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[6] + 76029189;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[9] - 640364487;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[12] - 421815835;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[15] + 530742520;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[2] - 995338651;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[0] - 198630844;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[5] - 57434055;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[10] - 1051523;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[15] - 30611744;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[4] - 145523070;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[2] + 718787259;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[9] - 343485551;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n\r\n        if (this.first) {\r\n            this.h0 = a + 1732584193 << 0;\r\n            this.h1 = b - 271733879 << 0;\r\n            this.h2 = c - 1732584194 << 0;\r\n            this.h3 = d + 271733878 << 0;\r\n            this.first = false;\r\n        } else {\r\n            this.h0 = this.h0 + a << 0;\r\n            this.h1 = this.h1 + b << 0;\r\n            this.h2 = this.h2 + c << 0;\r\n            this.h3 = this.h3 + d << 0;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @method hex\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as hex string\r\n     * @returns {String} Hex string\r\n     * @see {@link md5.hex}\r\n     * @example\r\n     * hash.hex();\r\n     */\r\n    Md5.prototype.hex = function () {\r\n        this.finalize();\r\n\r\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\r\n\r\n        return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\r\n            HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\r\n            HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\r\n            HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\r\n            HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];\r\n    };\r\n\r\n    /**\r\n     * @method toString\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as hex string\r\n     * @returns {String} Hex string\r\n     * @see {@link md5.hex}\r\n     * @example\r\n     * hash.toString();\r\n     */\r\n    Md5.prototype.toString = Md5.prototype.hex;\r\n\r\n    /**\r\n     * @method digest\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as bytes array\r\n     * @returns {Array} Bytes array\r\n     * @see {@link md5.digest}\r\n     * @example\r\n     * hash.digest();\r\n     */\r\n    Md5.prototype.digest = function (format) {\r\n        if (format === 'hex') return this.hex();\r\n        this.finalize();\r\n\r\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\r\n        var res = [\r\n            h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,\r\n            h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,\r\n            h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,\r\n            h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF\r\n        ];\r\n        return res;\r\n    };\r\n\r\n    /**\r\n     * @method array\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as bytes array\r\n     * @returns {Array} Bytes array\r\n     * @see {@link md5.array}\r\n     * @example\r\n     * hash.array();\r\n     */\r\n    Md5.prototype.array = Md5.prototype.digest;\r\n\r\n    /**\r\n     * @method arrayBuffer\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as ArrayBuffer\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @see {@link md5.arrayBuffer}\r\n     * @example\r\n     * hash.arrayBuffer();\r\n     */\r\n    Md5.prototype.arrayBuffer = function () {\r\n        this.finalize();\r\n\r\n        var buffer = new ArrayBuffer(16);\r\n        var blocks = new Uint32Array(buffer);\r\n        blocks[0] = this.h0;\r\n        blocks[1] = this.h1;\r\n        blocks[2] = this.h2;\r\n        blocks[3] = this.h3;\r\n        return buffer;\r\n    };\r\n\r\n    /**\r\n     * @method buffer\r\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as ArrayBuffer\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @see {@link md5.buffer}\r\n     * @example\r\n     * hash.buffer();\r\n     */\r\n    Md5.prototype.buffer = Md5.prototype.arrayBuffer;\r\n\r\n    /**\r\n     * @method base64\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as base64 string\r\n     * @returns {String} base64 string\r\n     * @see {@link md5.base64}\r\n     * @example\r\n     * hash.base64();\r\n     */\r\n    Md5.prototype.base64 = function () {\r\n        var v1, v2, v3, base64Str = '', bytes = this.array();\r\n        for (var i = 0; i < 15;) {\r\n            v1 = bytes[i++];\r\n            v2 = bytes[i++];\r\n            v3 = bytes[i++];\r\n            base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\r\n                BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +\r\n                BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +\r\n                BASE64_ENCODE_CHAR[v3 & 63];\r\n        }\r\n        v1 = bytes[i];\r\n        base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\r\n            BASE64_ENCODE_CHAR[(v1 << 4) & 63] +\r\n            '==';\r\n        return base64Str;\r\n    };\r\n\r\n    var exports = createMethod();\r\n\r\n    if (COMMON_JS) {\r\n        module.exports = exports;\r\n    } else {\r\n        /**\r\n         * @method md5\b\r\n         * @description Md5 hash function, export to global in browsers.\r\n         * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n         * @returns {String} md5 hashes\r\n         * @example\r\n         * md5(''); // d41d8cd98f00b204e9800998ecf8427e\r\n         * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\r\n         * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\r\n         *\r\n         * // It also supports UTF-8 encoding\r\n         * md5('中文'); // a7bac2239fcdcb3a067903d8077c4a07\r\n         *\r\n         * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\r\n         * md5([]); // d41d8cd98f00b204e9800998ecf8427e\r\n         * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\r\n         */\r\n        root.md5 = exports;\r\n        if (AMD) {\r\n            define(function () {\r\n                return exports;\r\n            });\r\n        }\r\n    }\r\n})();\r\n","var stringifyPrimitive = function(v) {\r\n    switch (typeof v) {\r\n        case 'string':\r\n            return v;\r\n        case 'boolean':\r\n            return v ? 'true' : 'false';\r\n        case 'number':\r\n            return isFinite(v) ? v : '';\r\n        default:\r\n            return '';\r\n    }\r\n};\r\n\r\nvar queryStringify = function(obj, sep, eq, name) {\r\n    sep = sep || '&';\r\n    eq = eq || '=';\r\n    if (obj === null) {\r\n        obj = undefined;\r\n    }\r\n    if (typeof obj === 'object') {\r\n        return Object.keys(obj).map(function(k) {\r\n            var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\r\n            if (Array.isArray(obj[k])) {\r\n                return obj[k].map(function(v) {\r\n                    return ks + encodeURIComponent(stringifyPrimitive(v));\r\n                }).join(sep);\r\n            } else {\r\n                return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\r\n            }\r\n        }).filter(Boolean).join(sep);\r\n\r\n    }\r\n    if (!name) return '';\r\n    return encodeURIComponent(stringifyPrimitive(name)) + eq +\r\n        encodeURIComponent(stringifyPrimitive(obj));\r\n};\r\n\r\nvar xhrRes = function (err, xhr, body) {\r\n    var headers = {};\r\n    xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\r\n        if (item) {\r\n            var index = item.indexOf(':');\r\n            var key = item.substr(0, index).trim().toLowerCase();\r\n            var val = item.substr(index + 1).trim();\r\n            headers[key] = val;\r\n        }\r\n    });\r\n    return {\r\n        error: err,\r\n        statusCode: xhr.status,\r\n        statusMessage: xhr.statusText,\r\n        headers: headers,\r\n        body: body,\r\n    };\r\n};\r\n\r\nvar xhrBody = function (xhr, dataType) {\r\n    return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\r\n};\r\n\r\nvar request = function (opt, callback) {\r\n\r\n    // method\r\n    var method = (opt.method || 'GET').toUpperCase();\r\n\r\n    // url、qs\r\n    var url = opt.url;\r\n    if (opt.qs) {\r\n        var qsStr = queryStringify(opt.qs);\r\n        if (qsStr) {\r\n            url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\r\n        }\r\n    }\r\n\r\n    // 创建 ajax 实例\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(method, url, true);\r\n    xhr.responseType = opt.dataType || 'text';\r\n\r\n    // 处理 xhrFields 属性\r\n    if (opt.xhrFields) {\r\n        for (var xhrField in opt.xhrFields) {\r\n            xhr[xhrField] = opt.xhrFields[xhrField]\r\n        }\r\n    }\r\n\r\n    // 处理 headers\r\n    var headers = opt.headers;\r\n    if (headers) {\r\n        for (var key in headers) {\r\n            if (headers.hasOwnProperty(key) &&\r\n                key.toLowerCase() !== 'content-length' &&\r\n                key.toLowerCase() !== 'user-agent' &&\r\n                key.toLowerCase() !== 'origin' &&\r\n                key.toLowerCase() !== 'host') {\r\n                xhr.setRequestHeader(key, headers[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    // onprogress\r\n    if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\r\n    if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress;\r\n\r\n    // timeout\r\n    if (opt.timeout) xhr.timeout = opt.timeout;\r\n    xhr.ontimeout = function(event){\r\n        var error = new Error('timeout');\r\n        callback(xhrRes(error, xhr));\r\n    };\r\n\r\n    // success 2xx/3xx/4xx\r\n    xhr.onload = function () {\r\n        callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\r\n    };\r\n\r\n    // error 5xx/0 (网络错误、跨域报错、Https connect-src 限制的报错时 statusCode 为 0)\r\n    xhr.onerror = function (err) {\r\n        var body = xhrBody(xhr, opt.dataType);\r\n        if (body) { // 5xx\r\n            callback(xhrRes(null, xhr, body));\r\n        } else { // 0\r\n            var error = xhr.statusText;\r\n            if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\r\n            callback(xhrRes(error, xhr, body));\r\n        }\r\n    };\r\n\r\n    // send\r\n    xhr.send(opt.body || '');\r\n\r\n    // 返回 ajax 实例，用于外部调用 xhr.abort\r\n    return xhr;\r\n};\r\n\r\nmodule.exports = request;\r\n","/* Copyright 2015 William Summers, MetaTribal LLC\r\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\r\n *\r\n * Licensed under the MIT License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     https://opensource.org/licenses/MIT\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @author William Summers\r\n * https://github.com/metatribal/xmlToJSON\r\n */\r\nvar DOMParser = require('@xmldom/xmldom').DOMParser;\r\n\r\nvar xmlToJSON = (function () {\r\n\r\n    this.version = \"1.3.5\";\r\n\r\n    var options = { // set up the default options\r\n        mergeCDATA: true, // extract cdata and merge with text\r\n        normalize: true, // collapse multiple spaces to single space\r\n        stripElemPrefix: true, // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\r\n    };\r\n\r\n    var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\r\n    var trimMatch = new RegExp(/^\\s+|\\s+$/g);\r\n\r\n    this.grokType = function (sValue) {\r\n        if (/^\\s*$/.test(sValue)) {\r\n            return null;\r\n        }\r\n        if (/^(?:true|false)$/i.test(sValue)) {\r\n            return sValue.toLowerCase() === \"true\";\r\n        }\r\n        if (isFinite(sValue)) {\r\n            return parseFloat(sValue);\r\n        }\r\n        return sValue;\r\n    };\r\n\r\n    this.parseString = function (xmlString, opt) {\r\n        if (xmlString) {\r\n            var xml = this.stringToXML(xmlString);\r\n            if (xml.getElementsByTagName('parsererror').length) {\r\n                return null;\r\n            } else {\r\n                return this.parseXML(xml, opt);\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    this.parseXML = function (oXMLParent, opt) {\r\n\r\n        // initialize options\r\n        for (var key in opt) {\r\n            options[key] = opt[key];\r\n        }\r\n\r\n        var vResult = {},\r\n            nLength = 0,\r\n            sCollectedTxt = \"\";\r\n\r\n        // iterate over the children\r\n        var childNum = oXMLParent.childNodes.length;\r\n        if (childNum) {\r\n            for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\r\n                oNode = oXMLParent.childNodes.item(nItem);\r\n\r\n                if (oNode.nodeType === 4) {\r\n                    if (options.mergeCDATA) {\r\n                        sCollectedTxt += oNode.nodeValue;\r\n                    }\r\n                } /* nodeType is \"CDATASection\" (4) */\r\n                else if (oNode.nodeType === 3) {\r\n                    sCollectedTxt += oNode.nodeValue;\r\n                } /* nodeType is \"Text\" (3) */\r\n                else if (oNode.nodeType === 1) { /* nodeType is \"Element\" (1) */\r\n\r\n                    if (nLength === 0) {\r\n                        vResult = {};\r\n                    }\r\n\r\n                    // using nodeName to support browser (IE) implementation with no 'localName' property\r\n                    if (options.stripElemPrefix) {\r\n                        sProp = oNode.nodeName.replace(prefixMatch, '');\r\n                    } else {\r\n                        sProp = oNode.nodeName;\r\n                    }\r\n\r\n                    vContent = xmlToJSON.parseXML(oNode);\r\n\r\n                    if (vResult.hasOwnProperty(sProp)) {\r\n                        if (vResult[sProp].constructor !== Array) {\r\n                            vResult[sProp] = [vResult[sProp]];\r\n                        }\r\n                        vResult[sProp].push(vContent);\r\n\r\n                    } else {\r\n                        vResult[sProp] = vContent;\r\n                        nLength++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!Object.keys(vResult).length) {\r\n            // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu 修复 getBucket返回的 Key 是 \" /\" 这种场景\r\n            vResult = sCollectedTxt || '';\r\n        }\r\n\r\n        return vResult;\r\n    };\r\n\r\n    // Convert xmlDocument to a string\r\n    // Returns null on failure\r\n    this.xmlToString = function (xmlDoc) {\r\n        try {\r\n            var xmlString = xmlDoc.xml ? xmlDoc.xml : (new XMLSerializer()).serializeToString(xmlDoc);\r\n            return xmlString;\r\n        } catch (err) {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // Convert a string to XML Node Structure\r\n    // Returns null on failure\r\n    this.stringToXML = function (xmlString) {\r\n        try {\r\n            var xmlDoc = null;\r\n\r\n            if (window.DOMParser) {\r\n\r\n                var parser = new DOMParser();\r\n                xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\r\n\r\n                return xmlDoc;\r\n            } else {\r\n                xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n                xmlDoc.async = false;\r\n                xmlDoc.loadXML(xmlString);\r\n\r\n                return xmlDoc;\r\n            }\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    return this;\r\n\r\n}).call({});\r\n\r\nvar xml2json = function (xmlString) {\r\n    return xmlToJSON.parseString(xmlString);\r\n};\r\n\r\nmodule.exports = xml2json;\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use strict'\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n","var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n","var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\t\t\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","var freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"À\",\n       Aacute: \"Á\",\n       Acirc: \"Â\",\n       Atilde: \"Ã\",\n       Auml: \"Ä\",\n       Aring: \"Å\",\n       AElig: \"Æ\",\n       Ccedil: \"Ç\",\n       Egrave: \"È\",\n       Eacute: \"É\",\n       Ecirc: \"Ê\",\n       Euml: \"Ë\",\n       Igrave: \"Ì\",\n       Iacute: \"Í\",\n       Icirc: \"Î\",\n       Iuml: \"Ï\",\n       ETH: \"Ð\",\n       Ntilde: \"Ñ\",\n       Ograve: \"Ò\",\n       Oacute: \"Ó\",\n       Ocirc: \"Ô\",\n       Otilde: \"Õ\",\n       Ouml: \"Ö\",\n       Oslash: \"Ø\",\n       Ugrave: \"Ù\",\n       Uacute: \"Ú\",\n       Ucirc: \"Û\",\n       Uuml: \"Ü\",\n       Yacute: \"Ý\",\n       THORN: \"Þ\",\n       szlig: \"ß\",\n       agrave: \"à\",\n       aacute: \"á\",\n       acirc: \"â\",\n       atilde: \"ã\",\n       auml: \"ä\",\n       aring: \"å\",\n       aelig: \"æ\",\n       ccedil: \"ç\",\n       egrave: \"è\",\n       eacute: \"é\",\n       ecirc: \"ê\",\n       euml: \"ë\",\n       igrave: \"ì\",\n       iacute: \"í\",\n       icirc: \"î\",\n       iuml: \"ï\",\n       eth: \"ð\",\n       ntilde: \"ñ\",\n       ograve: \"ò\",\n       oacute: \"ó\",\n       ocirc: \"ô\",\n       otilde: \"õ\",\n       ouml: \"ö\",\n       oslash: \"ø\",\n       ugrave: \"ù\",\n       uacute: \"ú\",\n       ucirc: \"û\",\n       uuml: \"ü\",\n       yacute: \"ý\",\n       thorn: \"þ\",\n       yuml: \"ÿ\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"¡\",\n       cent: \"¢\",\n       pound: \"£\",\n       curren: \"¤\",\n       yen: \"¥\",\n       brvbar: \"¦\",\n       sect: \"§\",\n       uml: \"¨\",\n       copy: \"©\",\n       ordf: \"ª\",\n       laquo: \"«\",\n       not: \"¬\",\n       shy: \"­­\",\n       reg: \"®\",\n       macr: \"¯\",\n       deg: \"°\",\n       plusmn: \"±\",\n       sup2: \"²\",\n       sup3: \"³\",\n       acute: \"´\",\n       micro: \"µ\",\n       para: \"¶\",\n       middot: \"·\",\n       cedil: \"¸\",\n       sup1: \"¹\",\n       ordm: \"º\",\n       raquo: \"»\",\n       frac14: \"¼\",\n       frac12: \"½\",\n       frac34: \"¾\",\n       iquest: \"¿\",\n       times: \"×\",\n       divide: \"÷\",\n       forall: \"∀\",\n       part: \"∂\",\n       exist: \"∃\",\n       empty: \"∅\",\n       nabla: \"∇\",\n       isin: \"∈\",\n       notin: \"∉\",\n       ni: \"∋\",\n       prod: \"∏\",\n       sum: \"∑\",\n       minus: \"−\",\n       lowast: \"∗\",\n       radic: \"√\",\n       prop: \"∝\",\n       infin: \"∞\",\n       ang: \"∠\",\n       and: \"∧\",\n       or: \"∨\",\n       cap: \"∩\",\n       cup: \"∪\",\n       'int': \"∫\",\n       there4: \"∴\",\n       sim: \"∼\",\n       cong: \"≅\",\n       asymp: \"≈\",\n       ne: \"≠\",\n       equiv: \"≡\",\n       le: \"≤\",\n       ge: \"≥\",\n       sub: \"⊂\",\n       sup: \"⊃\",\n       nsub: \"⊄\",\n       sube: \"⊆\",\n       supe: \"⊇\",\n       oplus: \"⊕\",\n       otimes: \"⊗\",\n       perp: \"⊥\",\n       sdot: \"⋅\",\n       Alpha: \"Α\",\n       Beta: \"Β\",\n       Gamma: \"Γ\",\n       Delta: \"Δ\",\n       Epsilon: \"Ε\",\n       Zeta: \"Ζ\",\n       Eta: \"Η\",\n       Theta: \"Θ\",\n       Iota: \"Ι\",\n       Kappa: \"Κ\",\n       Lambda: \"Λ\",\n       Mu: \"Μ\",\n       Nu: \"Ν\",\n       Xi: \"Ξ\",\n       Omicron: \"Ο\",\n       Pi: \"Π\",\n       Rho: \"Ρ\",\n       Sigma: \"Σ\",\n       Tau: \"Τ\",\n       Upsilon: \"Υ\",\n       Phi: \"Φ\",\n       Chi: \"Χ\",\n       Psi: \"Ψ\",\n       Omega: \"Ω\",\n       alpha: \"α\",\n       beta: \"β\",\n       gamma: \"γ\",\n       delta: \"δ\",\n       epsilon: \"ε\",\n       zeta: \"ζ\",\n       eta: \"η\",\n       theta: \"θ\",\n       iota: \"ι\",\n       kappa: \"κ\",\n       lambda: \"λ\",\n       mu: \"μ\",\n       nu: \"ν\",\n       xi: \"ξ\",\n       omicron: \"ο\",\n       pi: \"π\",\n       rho: \"ρ\",\n       sigmaf: \"ς\",\n       sigma: \"σ\",\n       tau: \"τ\",\n       upsilon: \"υ\",\n       phi: \"φ\",\n       chi: \"χ\",\n       psi: \"ψ\",\n       omega: \"ω\",\n       thetasym: \"ϑ\",\n       upsih: \"ϒ\",\n       piv: \"ϖ\",\n       OElig: \"Œ\",\n       oelig: \"œ\",\n       Scaron: \"Š\",\n       scaron: \"š\",\n       Yuml: \"Ÿ\",\n       fnof: \"ƒ\",\n       circ: \"ˆ\",\n       tilde: \"˜\",\n       ensp: \" \",\n       emsp: \" \",\n       thinsp: \" \",\n       zwnj: \"‌\",\n       zwj: \"‍\",\n       lrm: \"‎\",\n       rlm: \"‏\",\n       ndash: \"–\",\n       mdash: \"—\",\n       lsquo: \"‘\",\n       rsquo: \"’\",\n       sbquo: \"‚\",\n       ldquo: \"“\",\n       rdquo: \"”\",\n       bdquo: \"„\",\n       dagger: \"†\",\n       Dagger: \"‡\",\n       bull: \"•\",\n       hellip: \"…\",\n       permil: \"‰\",\n       prime: \"′\",\n       Prime: \"″\",\n       lsaquo: \"‹\",\n       rsaquo: \"›\",\n       oline: \"‾\",\n       euro: \"€\",\n       trade: \"™\",\n       larr: \"←\",\n       uarr: \"↑\",\n       rarr: \"→\",\n       darr: \"↓\",\n       harr: \"↔\",\n       crarr: \"↵\",\n       lceil: \"⌈\",\n       rceil: \"⌉\",\n       lfloor: \"⌊\",\n       rfloor: \"⌋\",\n       loz: \"◊\",\n       spades: \"♠\",\n       clubs: \"♣\",\n       hearts: \"♥\",\n       diams: \"♦\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n","var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n","var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix)\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//忘记闭合\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var session = require('./session');\r\nvar Async = require('./async');\r\nvar EventProxy = require('./event').EventProxy;\r\nvar util = require('./util');\r\nvar Tracker = require('./tracker');\r\n\r\n// 文件分块上传全过程，暴露的分块上传接口\r\nfunction sliceUploadFile(params, callback) {\r\n    var self = this;\r\n    var ep = new EventProxy();\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var Body = params.Body;\r\n    var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\r\n    var AsyncLimit = params.AsyncLimit;\r\n    var StorageClass = params.StorageClass;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var FileSize;\r\n\r\n    var onProgress;\r\n    var onHashProgress = params.onHashProgress;\r\n    \r\n    var tracker = params.tracker;\r\n    tracker && tracker.setParams({ chunkSize: ChunkSize });\r\n\r\n    // 上传过程中出现错误，返回错误\r\n    ep.on('error', function (err) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        err.UploadId = params.UploadData.UploadId || '';\r\n        return callback(err);\r\n    });\r\n\r\n    // 上传分块完成，开始 uploadSliceComplete 操作\r\n    ep.on('upload_complete', function (UploadCompleteData) {\r\n        var _UploadCompleteData = util.extend({\r\n          UploadId: params.UploadData.UploadId || ''\r\n        }, UploadCompleteData);\r\n        callback(null, _UploadCompleteData);\r\n    });\r\n\r\n    // 上传分块完成，开始 uploadSliceComplete 操作\r\n    ep.on('upload_slice_complete', function (UploadData) {\r\n        var metaHeaders = {};\r\n        util.each(params.Headers, function (val, k) {\r\n            var shortKey = k.toLowerCase();\r\n            if (shortKey.indexOf('x-cos-meta-') === 0 || shortKey === 'pic-operations') metaHeaders[k] = val;\r\n        });\r\n        uploadSliceComplete.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadData.UploadId,\r\n            SliceList: UploadData.SliceList,\r\n            Headers: metaHeaders,\r\n            tracker: tracker,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            session.removeUsing(UploadData.UploadId);\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return ep.emit('error', err);\r\n            }\r\n            session.removeUploadId.call(self, UploadData.UploadId);\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            ep.emit('upload_complete', data);\r\n        });\r\n    });\r\n\r\n    // 获取 UploadId 完成，开始上传每个分片\r\n    ep.on('get_upload_data_finish', function (UploadData) {\r\n\r\n        // 处理 UploadId 缓存\r\n        var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\r\n        uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\r\n        session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\r\n\r\n        // 获取 UploadId\r\n        onProgress(null, true); // 任务状态开始 uploading\r\n        uploadSliceList.call(self, {\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Body: Body,\r\n            FileSize: FileSize,\r\n            SliceSize: ChunkSize,\r\n            AsyncLimit: AsyncLimit,\r\n            ServerSideEncryption: ServerSideEncryption,\r\n            UploadData: UploadData,\r\n            Headers: params.Headers,\r\n            onProgress: onProgress,\r\n            tracker: tracker,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return ep.emit('error', err);\r\n            }\r\n            ep.emit('upload_slice_complete', data);\r\n        });\r\n    });\r\n\r\n    // 开始获取文件 UploadId，里面会视情况计算 ETag，并比对，保证文件一致性，也优化上传\r\n    ep.on('get_file_size_finish', function () {\r\n\r\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n        if (params.UploadData.UploadId) {\r\n            ep.emit('get_upload_data_finish', params.UploadData);\r\n        } else {\r\n            var _params = util.extend({\r\n                TaskId: TaskId,\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                Headers: params.Headers,\r\n                StorageClass: StorageClass,\r\n                Body: Body,\r\n                FileSize: FileSize,\r\n                SliceSize: ChunkSize,\r\n                onHashProgress: onHashProgress,\r\n                tracker: tracker,\r\n            }, params);\r\n            getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) return ep.emit('error', err);\r\n                params.UploadData.UploadId = UploadData.UploadId;\r\n                params.UploadData.PartList = UploadData.PartList;\r\n                ep.emit('get_upload_data_finish', params.UploadData);\r\n            });\r\n        }\r\n    });\r\n\r\n    // 获取上传文件大小\r\n    FileSize = params.ContentLength;\r\n    delete params.ContentLength;\r\n    !params.Headers && (params.Headers = {});\r\n    util.each(params.Headers, function (item, key) {\r\n        if (key.toLowerCase() === 'content-length') {\r\n            delete params.Headers[key];\r\n        }\r\n    });\r\n\r\n    // 控制分片大小\r\n    (function () {\r\n        var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\r\n        var AutoChunkSize = 1024 * 1024;\r\n        for (var i = 0; i < SIZE.length; i++) {\r\n            AutoChunkSize = SIZE[i] * 1024 * 1024;\r\n            if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\r\n        }\r\n        params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\r\n    })();\r\n\r\n    // 开始上传\r\n    if (FileSize === 0) {\r\n        params.Body = '';\r\n        params.ContentLength = 0;\r\n        params.SkipTask = true;\r\n        self.putObject(params, callback);\r\n    } else {\r\n        ep.emit('get_file_size_finish');\r\n    }\r\n\r\n}\r\n\r\n// 获取上传任务的 UploadId\r\nfunction getUploadIdAndPartList(params, callback) {\r\n\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var StorageClass = params.StorageClass;\r\n    var self = this;\r\n\r\n    // 计算 ETag\r\n    var ETagMap = {};\r\n    var FileSize = params.FileSize;\r\n    var SliceSize = params.SliceSize;\r\n    var SliceCount = Math.ceil(FileSize / SliceSize);\r\n    var FinishSliceCount = 0;\r\n    var FinishSize = 0;\r\n    var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\r\n    var getChunkETag = function (PartNumber, callback) {\r\n        var start = SliceSize * (PartNumber - 1);\r\n        var end = Math.min(start + SliceSize, FileSize);\r\n        var ChunkSize = end - start;\r\n\r\n        if (ETagMap[PartNumber]) {\r\n            callback(null, {\r\n                PartNumber: PartNumber,\r\n                ETag: ETagMap[PartNumber],\r\n                Size: ChunkSize\r\n            });\r\n        } else {\r\n            util.fileSlice(params.Body, start, end, false, function (chunkItem) {\r\n                util.getFileMd5(chunkItem, function (err, md5) {\r\n                    if (err) return callback(util.error(err));\r\n                    var ETag = '\"' + md5 + '\"';\r\n                    ETagMap[PartNumber] = ETag;\r\n                    FinishSliceCount += 1;\r\n                    FinishSize += ChunkSize;\r\n                    onHashProgress({loaded: FinishSize, total: FileSize});\r\n                    callback(null, {\r\n                        PartNumber: PartNumber,\r\n                        ETag: ETag,\r\n                        Size: ChunkSize\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    // 通过和文件的 md5 对比，判断 UploadId 是否可用\r\n    var isAvailableUploadList = function (PartList, callback) {\r\n        var PartCount = PartList.length;\r\n        // 如果没有分片，通过\r\n        if (PartCount === 0) {\r\n            return callback(null, true);\r\n        }\r\n        // 检查分片数量\r\n        if (PartCount > SliceCount) {\r\n            return callback(null, false);\r\n        }\r\n        // 检查分片大小\r\n        if (PartCount > 1) {\r\n            var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\r\n            if (PartSliceSize !== SliceSize) {\r\n                return callback(null, false);\r\n            }\r\n        }\r\n        // 逐个分片计算并检查 ETag 是否一致\r\n        var next = function (index) {\r\n            if (index < PartCount) {\r\n                var Part = PartList[index];\r\n                getChunkETag(Part.PartNumber, function (err, chunk) {\r\n                    if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\r\n                        next(index + 1);\r\n                    } else {\r\n                        callback(null, false);\r\n                    }\r\n                });\r\n            } else {\r\n                callback(null, true);\r\n            }\r\n        };\r\n        next(0);\r\n    };\r\n\r\n    var ep = new EventProxy();\r\n    ep.on('error', function (errData) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        return callback(errData);\r\n    });\r\n\r\n    // 存在 UploadId\r\n    ep.on('upload_id_available', function (UploadData) {\r\n        // 转换成 map\r\n        var map = {};\r\n        var list = [];\r\n        util.each(UploadData.PartList, function (item) {\r\n            map[item.PartNumber] = item;\r\n        });\r\n        for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\r\n            var item = map[PartNumber];\r\n            if (item) {\r\n                item.PartNumber = PartNumber;\r\n                item.Uploaded = true;\r\n            } else {\r\n                item = {\r\n                    PartNumber: PartNumber,\r\n                    ETag: null,\r\n                    Uploaded: false\r\n                };\r\n            }\r\n            list.push(item);\r\n        }\r\n        UploadData.PartList = list;\r\n        callback(null, UploadData);\r\n    });\r\n\r\n    // 不存在 UploadId, 初始化生成 UploadId\r\n    ep.on('no_available_upload_id', function () {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        var _params = util.extend({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Query: util.clone(params.Query),\r\n            StorageClass: StorageClass,\r\n            Body: params.Body,\r\n            calledBySdk: 'sliceUploadFile',\r\n            tracker: params.tracker,\r\n        }, params);\r\n        var headers = util.clone(params.Headers)\r\n        delete headers['x-cos-mime-limit'];\r\n        _params.Headers = headers;\r\n        self.multipartInit(_params, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) return ep.emit('error', err);\r\n            var UploadId = data.UploadId;\r\n            if (!UploadId) {\r\n                return callback(util.error(new Error('no such upload id')));\r\n            }\r\n            ep.emit('upload_id_available', {UploadId: UploadId, PartList: []});\r\n        });\r\n    });\r\n\r\n    // 如果已存在 UploadId，找一个可以用的 UploadId\r\n    ep.on('has_and_check_upload_id', function (UploadIdList) {\r\n        // 串行地，找一个内容一致的 UploadId\r\n        UploadIdList = UploadIdList.reverse();\r\n        Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            // 如果正在上传，跳过\r\n            if (session.using[UploadId]) {\r\n                asyncCallback(); // 检查下一个 UploadId\r\n                return;\r\n            }\r\n            // 判断 UploadId 是否可用\r\n            wholeMultipartListPart.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadId,\r\n                tracker: params.tracker,\r\n            }, function (err, PartListData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) {\r\n                    session.removeUsing(UploadId);\r\n                    return ep.emit('error', err);\r\n                }\r\n                var PartList = PartListData.PartList;\r\n                PartList.forEach(function (item) {\r\n                    item.PartNumber *= 1;\r\n                    item.Size *= 1;\r\n                    item.ETag = item.ETag || '';\r\n                });\r\n                isAvailableUploadList(PartList, function (err, isAvailable) {\r\n                    if (!self._isRunningTask(TaskId)) return;\r\n                    if (err) return ep.emit('error', err);\r\n                    if (isAvailable) {\r\n                        asyncCallback({\r\n                            UploadId: UploadId,\r\n                            PartList: PartList\r\n                        }); // 马上结束\r\n                    } else {\r\n                        asyncCallback(); // 检查下一个 UploadId\r\n                    }\r\n                });\r\n            });\r\n        }, function (AvailableUploadData) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            onHashProgress(null, true);\r\n            if (AvailableUploadData && AvailableUploadData.UploadId) {\r\n                ep.emit('upload_id_available', AvailableUploadData);\r\n            } else {\r\n                ep.emit('no_available_upload_id');\r\n            }\r\n        });\r\n    });\r\n\r\n    // 在本地缓存找可用的 UploadId\r\n    ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\r\n        // 在本地找可用的 UploadId\r\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\r\n        var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\r\n        if (!uuid || !LocalUploadIdList) {\r\n            ep.emit('has_and_check_upload_id', RemoteUploadIdList);\r\n            return;\r\n        }\r\n        var next = function (index) {\r\n            // 如果本地找不到可用 UploadId，再一个个遍历校验远端\r\n            if (index >= LocalUploadIdList.length) {\r\n                ep.emit('has_and_check_upload_id', RemoteUploadIdList);\r\n                return;\r\n            }\r\n            var UploadId = LocalUploadIdList[index];\r\n            // 如果不在远端 UploadId 列表里，跳过并删除\r\n            if (!util.isInArray(RemoteUploadIdList, UploadId)) {\r\n                session.removeUploadId.call(self, UploadId);\r\n                next(index + 1);\r\n                return;\r\n            }\r\n            // 如果正在上传，跳过\r\n            if (session.using[UploadId]) {\r\n                next(index + 1);\r\n                return;\r\n            }\r\n            // 判断 UploadId 是否存在线上\r\n            wholeMultipartListPart.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadId,\r\n                tracker: params.tracker,\r\n            }, function (err, PartListData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) {\r\n                    // 如果 UploadId 获取会出错，跳过并删除\r\n                    session.removeUploadId.call(self, UploadId);\r\n                    next(index + 1);\r\n                } else {\r\n                    // 找到可用 UploadId\r\n                    ep.emit('upload_id_available', {\r\n                        UploadId: UploadId,\r\n                        PartList: PartListData.PartList,\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        next(0);\r\n    });\r\n\r\n    // 获取线上 UploadId 列表\r\n    ep.on('get_remote_upload_id_list', function () {\r\n        // 获取符合条件的 UploadId 列表，因为同一个文件可以有多个上传任务。\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            tracker: params.tracker,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) return ep.emit('error', err);\r\n            // 整理远端 UploadId 列表\r\n            var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\r\n                return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\r\n            }).reverse().map(function (item) {\r\n                return item.UploadId || item.UploadID;\r\n            });\r\n            if (RemoteUploadIdList.length) {\r\n                ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\r\n            } else {\r\n                // 远端没有 UploadId，清理缓存的 UploadId\r\n                var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key), LocalUploadIdList;\r\n                if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\r\n                    util.each(LocalUploadIdList, function (UploadId) {\r\n                        session.removeUploadId.call(self, UploadId);\r\n                    });\r\n                }\r\n                ep.emit('no_available_upload_id');\r\n            }\r\n        });\r\n    });\r\n\r\n    // 开始找可用 UploadId\r\n    ep.emit('get_remote_upload_id_list');\r\n\r\n}\r\n\r\n// 获取符合条件的全部上传任务 (条件包括 Bucket, Region, Prefix)\r\nfunction wholeMultipartList(params, callback) {\r\n\r\n    var self = this;\r\n    var UploadList = [];\r\n    var sendParams = {\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Prefix: params.Key,\r\n        calledBySdk: params.calledBySdk || 'sliceUploadFile',\r\n        tracker: params.tracker,\r\n    };\r\n    var next = function () {\r\n        self.multipartList(sendParams, function (err, data) {\r\n            if (err) return callback(err);\r\n            UploadList.push.apply(UploadList, data.Upload || []);\r\n            if (data.IsTruncated === 'true') { // 列表不完整\r\n                sendParams.KeyMarker = data.NextKeyMarker;\r\n                sendParams.UploadIdMarker = data.NextUploadIdMarker;\r\n                next();\r\n            } else {\r\n                callback(null, {UploadList: UploadList});\r\n            }\r\n        });\r\n    };\r\n    next();\r\n}\r\n\r\n// 获取指定上传任务的分块列表\r\nfunction wholeMultipartListPart(params, callback) {\r\n    var self = this;\r\n    var PartList = [];\r\n    var sendParams = {\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        UploadId: params.UploadId,\r\n        calledBySdk: 'sliceUploadFile',\r\n        tracker: params.tracker,\r\n    };\r\n    var next = function () {\r\n        self.multipartListPart(sendParams, function (err, data) {\r\n            if (err) return callback(err);\r\n            PartList.push.apply(PartList, data.Part || []);\r\n            if (data.IsTruncated === 'true') { // 列表不完整\r\n                sendParams.PartNumberMarker = data.NextPartNumberMarker;\r\n                next();\r\n            } else {\r\n                callback(null, {PartList: PartList});\r\n            }\r\n        });\r\n    };\r\n    next();\r\n}\r\n\r\n// 上传文件分块，包括\r\n/*\r\n UploadId (上传任务编号)\r\n AsyncLimit (并发量)，\r\n SliceList (上传的分块数组)，\r\n FilePath (本地文件的位置)，\r\n SliceSize (文件分块大小)\r\n FileSize (文件大小)\r\n onProgress (上传成功之后的回调函数)\r\n */\r\nfunction uploadSliceList(params, cb) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadData = params.UploadData;\r\n    var FileSize = params.FileSize;\r\n    var SliceSize = params.SliceSize;\r\n    var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\r\n    var Body = params.Body;\r\n    var SliceCount = Math.ceil(FileSize / SliceSize);\r\n    var FinishSize = 0;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var Headers = params.Headers;\r\n    var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\r\n        if (SliceItem['Uploaded']) {\r\n            FinishSize += SliceItem['PartNumber'] >= SliceCount ? (FileSize % SliceSize || SliceSize) : SliceSize;\r\n        }\r\n        return !SliceItem['Uploaded'];\r\n    });\r\n    var onProgress = params.onProgress;\r\n\r\n    Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        var PartNumber = SliceItem['PartNumber'];\r\n        var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\r\n        var preAddSize = 0;\r\n        uploadSliceItem.call(self, {\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            SliceSize: SliceSize,\r\n            FileSize: FileSize,\r\n            PartNumber: PartNumber,\r\n            ServerSideEncryption: ServerSideEncryption,\r\n            Body: Body,\r\n            UploadData: UploadData,\r\n            Headers: Headers,\r\n            onProgress: function (data) {\r\n                FinishSize += data.loaded - preAddSize;\r\n                preAddSize = data.loaded;\r\n                onProgress({loaded: FinishSize, total: FileSize});\r\n            },\r\n            tracker: params.tracker,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (!err && !data.ETag) err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )';\r\n            if (err) {\r\n                FinishSize -= preAddSize;\r\n            } else {\r\n                FinishSize += currentSize - preAddSize;\r\n                SliceItem.ETag = data.ETag;\r\n            }\r\n            onProgress({loaded: FinishSize, total: FileSize});\r\n            asyncCallback(err || null, data);\r\n        });\r\n    }, function (err) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        if (err) return cb(err);\r\n        cb(null, {\r\n            UploadId: UploadData.UploadId,\r\n            SliceList: UploadData.PartList\r\n        });\r\n    });\r\n}\r\n\r\n// 上传指定分片\r\nfunction uploadSliceItem(params, callback) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var FileSize = params.FileSize;\r\n    var FileBody = params.Body;\r\n    var PartNumber = params.PartNumber * 1;\r\n    var SliceSize = params.SliceSize;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var UploadData = params.UploadData;\r\n    var Headers = params.Headers || {};\r\n    var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\r\n\r\n    var start = SliceSize * (PartNumber - 1);\r\n\r\n    var ContentLength = SliceSize;\r\n\r\n    var end = start + SliceSize;\r\n\r\n    if (end > FileSize) {\r\n        end = FileSize;\r\n        ContentLength = end - start;\r\n    }\r\n\r\n    var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\r\n    var headers = {};\r\n    util.each(Headers, function(v, k) {\r\n        if (headersWhiteList.indexOf(k) > -1) {\r\n            headers[k] = v;\r\n        }\r\n    });\r\n\r\n    var PartItem = UploadData.PartList[PartNumber - 1];\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        util.fileSlice(FileBody, start, end, true, function (Body) {\r\n            self.multipartUpload({\r\n                TaskId: TaskId,\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                ContentLength: ContentLength,\r\n                PartNumber: PartNumber,\r\n                UploadId: UploadData.UploadId,\r\n                ServerSideEncryption: ServerSideEncryption,\r\n                Body: Body,\r\n                Headers: headers,\r\n                onProgress: params.onProgress,\r\n                calledBySdk: 'sliceUploadFile',\r\n                tracker: params.tracker,\r\n            }, function (err, data) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) return tryCallback(err);\r\n                PartItem.Uploaded = true;\r\n                return tryCallback(null, data);\r\n            });\r\n        });\r\n    }, function (err, data) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        return callback(err, data);\r\n    });\r\n}\r\n\r\n\r\n// 完成分块上传\r\nfunction uploadSliceComplete(params, callback) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadId = params.UploadId;\r\n    var SliceList = params.SliceList;\r\n    var self = this;\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n    var Headers = params.Headers;\r\n    var Parts = SliceList.map(function (item) {\r\n        return {\r\n            PartNumber: item.PartNumber,\r\n            ETag: item.ETag\r\n        };\r\n    });\r\n    // 完成上传的请求也做重试\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        self.multipartComplete({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadId,\r\n            Parts: Parts,\r\n            Headers: Headers,\r\n            calledBySdk: 'sliceUploadFile',\r\n            tracker: params.tracker,\r\n        }, tryCallback);\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n// 抛弃分块上传任务\r\n/*\r\n AsyncLimit (抛弃上传任务的并发量)，\r\n UploadId (上传任务的编号，当 Level 为 task 时候需要)\r\n Level (抛弃分块上传任务的级别，task : 抛弃指定的上传任务，file ： 抛弃指定的文件对应的上传任务，其他值 ：抛弃指定Bucket 的全部上传任务)\r\n */\r\nfunction abortUploadTask(params, callback) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadId = params.UploadId;\r\n    var Level = params.Level || 'task';\r\n    var AsyncLimit = params.AsyncLimit;\r\n    var self = this;\r\n\r\n    var ep = new EventProxy();\r\n\r\n    ep.on('error', function (errData) {\r\n        return callback(errData);\r\n    });\r\n\r\n    // 已经获取到需要抛弃的任务列表\r\n    ep.on('get_abort_array', function (AbortArray) {\r\n        abortUploadTaskArray.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: params.Headers,\r\n            AsyncLimit: AsyncLimit,\r\n            AbortArray: AbortArray\r\n        }, callback);\r\n    });\r\n\r\n    if (Level === 'bucket') {\r\n        // Bucket 级别的任务抛弃，抛弃该 Bucket 下的全部上传任务\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            calledBySdk: 'abortUploadTask',\r\n        }, function (err, data) {\r\n            if (err) return callback(err);\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'file') {\r\n        // 文件级别的任务抛弃，抛弃该文件的全部上传任务\r\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            calledBySdk: 'abortUploadTask',\r\n        }, function (err, data) {\r\n            if (err) return callback(err);\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'task') {\r\n        // 单个任务级别的任务抛弃，抛弃指定 UploadId 的上传任务\r\n        if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\r\n        if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\r\n        ep.emit('get_abort_array', [{\r\n            Key: Key,\r\n            UploadId: UploadId\r\n        }]);\r\n    } else {\r\n        return callback(util.error(new Error('abort_unknown_level')));\r\n    }\r\n}\r\n\r\n// 批量抛弃分块上传任务\r\nfunction abortUploadTaskArray(params, callback) {\r\n\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var AbortArray = params.AbortArray;\r\n    var AsyncLimit = params.AsyncLimit || 1;\r\n    var self = this;\r\n\r\n    var index = 0;\r\n    var resultList = new Array(AbortArray.length);\r\n    Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\r\n        var eachIndex = index;\r\n        if (Key && Key !== AbortItem.Key) {\r\n            resultList[eachIndex] = {error: {KeyNotMatch: true}};\r\n            nextItem(null);\r\n            return;\r\n        }\r\n        var UploadId = AbortItem.UploadId || AbortItem.UploadID;\r\n\r\n        self.multipartAbort({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: AbortItem.Key,\r\n            Headers: params.Headers,\r\n            UploadId: UploadId,\r\n        }, function (err) {\r\n            var task = {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: AbortItem.Key,\r\n                UploadId: UploadId\r\n            };\r\n            resultList[eachIndex] = {error: err, task: task};\r\n            nextItem(null);\r\n        });\r\n        index++;\r\n\r\n    }, function (err) {\r\n        if (err) return callback(err);\r\n\r\n        var successList = [];\r\n        var errorList = [];\r\n\r\n        for (var i = 0, len = resultList.length; i < len; i++) {\r\n            var item = resultList[i];\r\n            if (item['task']) {\r\n                if (item['error']) {\r\n                    errorList.push(item['task']);\r\n                } else {\r\n                    successList.push(item['task']);\r\n                }\r\n            }\r\n        }\r\n\r\n        return callback(null, {\r\n            successList: successList,\r\n            errorList: errorList\r\n        });\r\n    });\r\n}\r\n\r\n// 高级上传\r\nfunction uploadFile(params, callback) {\r\n    var self = this;\r\n\r\n    // 判断多大的文件使用分片上传\r\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\r\n\r\n    var taskList = [];\r\n\r\n    var Body = params.Body;\r\n    var FileSize = Body.size || Body.length || 0;\r\n    var fileInfo = {TaskId: ''};\r\n\r\n        // 上传链路\r\n    if (self.options.EnableTracker) {\r\n      const accelerate = self.options.UseAccelerate || self.options.Domain.includes('accelerate.');\r\n      params.tracker = new Tracker({\r\n        bucket: params.Bucket,\r\n        region: params.Region,\r\n        apiName: 'uploadFile',\r\n        fileKey: params.Key,\r\n        fileSize: FileSize,\r\n        accelerate,\r\n        deepTracker: self.options.DeepTracker,\r\n        customId: self.options.CustomId,\r\n        delay: self.options.TrackerDelay,\r\n      });\r\n    }\r\n\r\n    // 整理 option，用于返回给回调\r\n    util.each(params, function (v, k) {\r\n        if (typeof v !== 'object' && typeof v !== 'function') {\r\n            fileInfo[k] = v;\r\n        }\r\n    });\r\n\r\n    // 处理文件 TaskReady\r\n    var _onTaskReady = params.onTaskReady;\r\n    var onTaskReady = function (tid) {\r\n        fileInfo.TaskId = tid;\r\n        _onTaskReady && _onTaskReady(tid);\r\n    };\r\n    params.onTaskReady = onTaskReady;\r\n\r\n    // 添加上传任务,超过阈值使用分块上传，小于等于则简单上传\r\n    var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\r\n\r\n    // 处理文件完成\r\n    var _onFileFinish = params.onFileFinish;\r\n    var onFileFinish = function (err, data) {\r\n       // 格式化上报参数并上报\r\n       params.tracker && params.tracker.formatResult(err, data);\r\n        _onFileFinish && _onFileFinish(err, data, fileInfo);\r\n        callback && callback(err, data);\r\n    };\r\n\r\n    \r\n    taskList.push({\r\n        api: api,\r\n        params: params,\r\n        callback: onFileFinish,\r\n    });\r\n\r\n    self._addTasks(taskList);\r\n}\r\n\r\n// 批量上传文件\r\nfunction uploadFiles(params, callback) {\r\n\r\n    var self = this;\r\n\r\n    // 判断多大的文件使用分片上传\r\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\r\n\r\n    // 汇总返回进度\r\n    var TotalSize = 0;\r\n    var TotalFinish = 0;\r\n    var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress);\r\n\r\n    // 汇总返回回调\r\n    var unFinishCount = params.files.length;\r\n    var _onTotalFileFinish = params.onFileFinish;\r\n    var resultList = Array(unFinishCount);\r\n    var onTotalFileFinish = function (err, data, options) {\r\n        onTotalProgress(null, true);\r\n        _onTotalFileFinish && _onTotalFileFinish(err, data, options);\r\n        resultList[options.Index] = {\r\n            options: options,\r\n            error: err,\r\n            data: data\r\n        };\r\n        if (--unFinishCount <= 0 && callback) {\r\n            callback(null, {files: resultList});\r\n        }\r\n    };\r\n\r\n    // 开始处理每个文件\r\n    var taskList = [];\r\n    util.each(params.files, function (fileParams, index) {\r\n        (function () { // 对齐 nodejs 缩进\r\n\r\n            var Body = fileParams.Body;\r\n            var FileSize = Body.size || Body.length || 0;\r\n            var fileInfo = {Index: index, TaskId: ''};\r\n\r\n            // 更新文件总大小\r\n            TotalSize += FileSize;\r\n\r\n            // 单个文件上传链路\r\n            if (self.options.EnableTracker) {\r\n              const accelerate = self.options.UseAccelerate || self.options.Domain.includes('accelerate.');\r\n              fileParams.tracker = new Tracker({\r\n                  bucket: fileParams.Bucket,\r\n                  region: fileParams.Region,\r\n                  apiName: 'uploadFiles',\r\n                  fileKey: fileParams.Key,\r\n                  fileSize: FileSize,\r\n                  accelerate,\r\n                  deepTracker: self.options.DeepTracker,\r\n                  customId: self.options.CustomId,\r\n                  delay: self.options.TrackerDelay,\r\n              });\r\n            }\r\n\r\n            // 整理 option，用于返回给回调\r\n            util.each(fileParams, function (v, k) {\r\n                if (typeof v !== 'object' && typeof v !== 'function') {\r\n                    fileInfo[k] = v;\r\n                }\r\n            });\r\n\r\n            // 处理单个文件 TaskReady\r\n            var _onTaskReady = fileParams.onTaskReady;\r\n            var onTaskReady = function (tid) {\r\n                fileInfo.TaskId = tid;\r\n                _onTaskReady && _onTaskReady(tid);\r\n            };\r\n            fileParams.onTaskReady = onTaskReady;\r\n\r\n            // 处理单个文件进度\r\n            var PreAddSize = 0;\r\n            var _onProgress = fileParams.onProgress;\r\n            var onProgress = function (info) {\r\n                TotalFinish = TotalFinish - PreAddSize + info.loaded;\r\n                PreAddSize = info.loaded;\r\n                _onProgress && _onProgress(info);\r\n                onTotalProgress({loaded: TotalFinish, total: TotalSize});\r\n            };\r\n            fileParams.onProgress = onProgress;\r\n\r\n            // 添加上传任务\r\n            var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\r\n\r\n            // 处理单个文件完成\r\n            var _onFileFinish = fileParams.onFileFinish;\r\n            var onFileFinish = function (err, data) {\r\n                // 格式化上报参数并上报\r\n                fileParams.tracker && fileParams.tracker.formatResult(err, data);\r\n                _onFileFinish && _onFileFinish(err, data);\r\n                onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\r\n            };\r\n\r\n            taskList.push({\r\n                api: api,\r\n                params: fileParams,\r\n                callback: onFileFinish,\r\n            });\r\n        })();\r\n    });\r\n    self._addTasks(taskList);\r\n}\r\n\r\n// 分片复制文件\r\nfunction sliceCopyFile(params, callback) {\r\n    var ep = new EventProxy();\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var m = util.getSourceParams.call(this, CopySource);\r\n    if (!m) {\r\n        callback(util.error(new Error('CopySource format error')));\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m.Bucket;\r\n    var SourceRegion = m.Region;\r\n    var SourceKey = decodeURIComponent(m.Key);\r\n    var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\r\n    CopySliceSize = Math.max(0, CopySliceSize);\r\n\r\n    var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\r\n    var ChunkParallel = this.options.CopyChunkParallelLimit;\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n\r\n    var ChunkCount = 0;\r\n    var FinishSize = 0;\r\n    var FileSize;\r\n    var onProgress;\r\n    var SourceResHeaders = {};\r\n    var SourceHeaders = {};\r\n    var TargetHeader = {};\r\n\r\n    // 分片复制完成，开始 multipartComplete 操作\r\n    ep.on('copy_slice_complete', function (UploadData) {\r\n        var metaHeaders = {};\r\n        util.each(params.Headers, function (val, k) {\r\n            if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\r\n        });\r\n        var Parts = util.map(UploadData.PartList, function (item) {\r\n            return {\r\n                PartNumber: item.PartNumber,\r\n                ETag: item.ETag,\r\n            };\r\n        });\r\n        // 完成上传的请求也做重试\r\n        Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n            self.multipartComplete({\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadData.UploadId,\r\n                Parts: Parts,\r\n                calledBySdk: 'sliceCopyFile',\r\n            }, tryCallback);\r\n        }, function (err, data) {\r\n            session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            session.removeUploadId(UploadData.UploadId);\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            callback(null, data);\r\n        });\r\n    });\r\n\r\n    ep.on('get_copy_data_finish',function (UploadData) {\r\n        // 处理 UploadId 缓存\r\n        var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\r\n        uuid && session.saveUploadId(uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\r\n        session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\r\n\r\n        var needCopySlices = util.filter(UploadData.PartList, function (SliceItem) {\r\n            if (SliceItem['Uploaded']) {\r\n                FinishSize += SliceItem['PartNumber'] >= ChunkCount ? (FileSize % ChunkSize || ChunkSize) : ChunkSize;\r\n            }\r\n            return !SliceItem['Uploaded'];\r\n        });\r\n        Async.eachLimit(needCopySlices, ChunkParallel, function (SliceItem, asyncCallback) {\r\n            var PartNumber = SliceItem.PartNumber;\r\n            var CopySourceRange = SliceItem.CopySourceRange;\r\n            var currentSize = SliceItem.end - SliceItem.start;\r\n            Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n                copySliceItem.call(self, {\r\n                    Bucket: Bucket,\r\n                    Region: Region,\r\n                    Key: Key,\r\n                    CopySource: CopySource,\r\n                    UploadId: UploadData.UploadId,\r\n                    PartNumber: PartNumber,\r\n                    CopySourceRange: CopySourceRange,\r\n                }, tryCallback);\r\n            }, function (err,data) {\r\n                if (err) return asyncCallback(err);\r\n                FinishSize += currentSize;\r\n                onProgress({loaded: FinishSize, total: FileSize});\r\n                SliceItem.ETag = data.ETag;\r\n                asyncCallback(err || null, data);\r\n            });\r\n        }, function (err) {\r\n            if (err) {\r\n                session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            ep.emit('copy_slice_complete', UploadData);\r\n        });\r\n    });\r\n\r\n    ep.on('get_chunk_size_finish', function () {\r\n        var createNewUploadId = function () {\r\n            self.multipartInit({\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                Headers: TargetHeader,\r\n            }, function (err,data) {\r\n                if (err) return callback(err);\r\n                params.UploadId = data.UploadId;\r\n                ep.emit('get_copy_data_finish', {UploadId: params.UploadId, PartList: params.PartList});\r\n            });\r\n        };\r\n\r\n        // 在本地找可用的 UploadId\r\n        var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\r\n        var LocalUploadIdList = session.getUploadIdList(uuid);\r\n        if (!uuid || !LocalUploadIdList) return createNewUploadId();\r\n\r\n        var next = function (index) {\r\n            // 如果本地找不到可用 UploadId，再一个个遍历校验远端\r\n            if (index >= LocalUploadIdList.length) return createNewUploadId();\r\n            var UploadId = LocalUploadIdList[index];\r\n            // 如果正在被使用，跳过\r\n            if (session.using[UploadId]) return next(index + 1);\r\n            // 判断 UploadId 是否存在线上\r\n            wholeMultipartListPart.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadId,\r\n            }, function (err, PartListData) {\r\n                if (err) {\r\n                    // 如果 UploadId 获取会出错，跳过并删除\r\n                    session.removeUploadId(UploadId);\r\n                    next(index + 1);\r\n                } else {\r\n                    // 如果异步回来 UploadId 已经被用了，也跳过\r\n                    if (session.using[UploadId]) return next(index + 1);\r\n                    // 找到可用 UploadId\r\n                    var finishETagMap = {};\r\n                    var offset = 0;\r\n                    util.each(PartListData.PartList, function (PartItem) {\r\n                        var size = parseInt(PartItem.Size);\r\n                        var end = offset + size - 1;\r\n                        finishETagMap[PartItem.PartNumber + '|' + offset + '|' + end] = PartItem.ETag;\r\n                        offset += size;\r\n                    });\r\n                    util.each(params.PartList, function (PartItem) {\r\n                        var ETag = finishETagMap[PartItem.PartNumber + '|' + PartItem.start + '|' + PartItem.end];\r\n                        if (ETag) {\r\n                            PartItem.ETag = ETag;\r\n                            PartItem.Uploaded = true;\r\n                        }\r\n                    });\r\n                    ep.emit('get_copy_data_finish', {UploadId: UploadId, PartList: params.PartList});\r\n                }\r\n            });\r\n        };\r\n        next(0);\r\n    });\r\n\r\n    ep.on('get_file_size_finish', function () {\r\n        // 控制分片大小\r\n        (function () {\r\n            var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\r\n            var AutoChunkSize = 1024 * 1024;\r\n            for (var i = 0; i < SIZE.length; i++) {\r\n                AutoChunkSize = SIZE[i] * 1024 * 1024;\r\n                if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\r\n            }\r\n            params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\r\n            ChunkCount = Math.ceil(FileSize / ChunkSize);\r\n\r\n            var list = [];\r\n            for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\r\n                var start = (partNumber - 1) * ChunkSize;\r\n                var end = partNumber * ChunkSize < FileSize ? (partNumber * ChunkSize - 1) : FileSize - 1;\r\n                var item = {\r\n                    PartNumber: partNumber,\r\n                    start: start,\r\n                    end: end,\r\n                    CopySourceRange: \"bytes=\" + start + \"-\" + end,\r\n                };\r\n                list.push(item);\r\n            }\r\n            params.PartList = list;\r\n        })();\r\n\r\n        if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\r\n            TargetHeader = params.Headers;\r\n        } else {\r\n            TargetHeader = SourceHeaders;\r\n        }\r\n        TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\r\n        TargetHeader = util.clearKey(TargetHeader);\r\n        /**\r\n         * 对于归档存储的对象，如果未恢复副本，则不允许 Copy\r\n         */\r\n        if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\r\n            var restoreHeader = SourceHeaders['x-cos-restore'];\r\n            if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\r\n                callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\r\n                return;\r\n            }\r\n        }\r\n        /**\r\n         * 去除一些无用的头部，规避 multipartInit 出错\r\n         * 这些头部通常是在 putObjectCopy 时才使用\r\n         */\r\n        delete TargetHeader['x-cos-copy-source'];\r\n        delete TargetHeader['x-cos-metadata-directive'];\r\n        delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\r\n        delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\r\n        delete TargetHeader['x-cos-copy-source-If-Match'];\r\n        delete TargetHeader['x-cos-copy-source-If-None-Match'];\r\n        ep.emit('get_chunk_size_finish');\r\n    });\r\n\r\n    // 获取远端复制源文件的大小\r\n    self.headObject({\r\n        Bucket: SourceBucket,\r\n        Region: SourceRegion,\r\n        Key: SourceKey,\r\n    },function(err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                callback(util.error(err, {ErrorStatus: SourceKey + ' Not Exist'}));\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        FileSize = params.FileSize = data.headers['content-length'];\r\n        if (FileSize === undefined || !FileSize) {\r\n            callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));\r\n            return;\r\n        }\r\n\r\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n        // 开始上传\r\n        if (FileSize <= CopySliceSize) {\r\n            if (!params.Headers['x-cos-metadata-directive']) {\r\n                params.Headers['x-cos-metadata-directive'] = 'Copy';\r\n            }\r\n            self.putObjectCopy(params, function (err, data) {\r\n                if (err) {\r\n                    onProgress(null, true);\r\n                    return callback(err);\r\n                }\r\n                onProgress({loaded: FileSize, total: FileSize}, true);\r\n                callback(err, data);\r\n            });\r\n        } else {\r\n            var resHeaders = data.headers;\r\n            SourceResHeaders = resHeaders;\r\n            SourceHeaders = {\r\n                'Cache-Control': resHeaders['cache-control'],\r\n                'Content-Disposition': resHeaders['content-disposition'],\r\n                'Content-Encoding': resHeaders['content-encoding'],\r\n                'Content-Type': resHeaders['content-type'],\r\n                'Expires': resHeaders['expires'],\r\n                'x-cos-storage-class': resHeaders['x-cos-storage-class'],\r\n            };\r\n            util.each(resHeaders, function (v, k) {\r\n                var metaPrefix = 'x-cos-meta-';\r\n                if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\r\n                    SourceHeaders[k] = v;\r\n                }\r\n            });\r\n            ep.emit('get_file_size_finish');\r\n        }\r\n    });\r\n}\r\n\r\n// 复制指定分片\r\nfunction copySliceItem(params, callback) {\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var UploadId = params.UploadId;\r\n    var PartNumber = params.PartNumber * 1;\r\n    var CopySourceRange = params.CopySourceRange;\r\n\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n    var self = this;\r\n\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        self.uploadPartCopy({\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            CopySource: CopySource,\r\n            UploadId: UploadId,\r\n            PartNumber:PartNumber,\r\n            CopySourceRange:CopySourceRange,\r\n        },function (err,data) {\r\n            tryCallback(err || null, data);\r\n        })\r\n    }, function (err, data) {\r\n        return callback(err, data);\r\n    });\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    sliceUploadFile: sliceUploadFile,\r\n    abortUploadTask: abortUploadTask,\r\n    uploadFile: uploadFile,\r\n    uploadFiles: uploadFiles,\r\n    sliceCopyFile: sliceCopyFile,\r\n};\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n    });\r\n};\r\n","var eachLimit = function (arr, limit, iterator, callback) {\n    callback = callback || function () {};\n    if (!arr.length || limit <= 0) {\n        return callback();\n    }\n\n    var completed = 0;\n    var started = 0;\n    var running = 0;\n\n    (function replenish () {\n        if (completed >= arr.length) {\n            return callback();\n        }\n\n        while (running < limit && started < arr.length) {\n            started += 1;\n            running += 1;\n            iterator(arr[started - 1], function (err) {\n\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                } else {\n                    completed += 1;\n                    running -= 1;\n                    if (completed >= arr.length) {\n                        callback();\n                    } else {\n                        replenish();\n                    }\n                }\n            });\n        }\n    })();\n};\n\nvar retry = function (times, iterator, callback) {\n    var next = function (index) {\n        iterator(function (err, data) {\n            if (err && index < times) {\n                next(index + 1);\n            } else {\n                callback(err, data);\n            }\n        });\n    };\n    if (times < 1) {\n        callback();\n    } else {\n        next(1);\n    }\n};\n\nvar async = {\n    eachLimit: eachLimit,\n    retry: retry\n};\n\nmodule.exports = async;","var REQUEST = require('../lib/request');\r\nvar util = require('./util');\r\n\r\n\r\n// Bucket 相关\r\n\r\n/**\r\n * 获取用户的 bucket 列表\r\n * @param  {Object}  params         回调函数，必须，下面为参数列表\r\n * 无特殊参数\r\n * @param  {Function}  callback     回调函数，必须\r\n */\r\nfunction getService(params, callback) {\r\n\r\n    if (typeof params === 'function') {\r\n        callback = params;\r\n        params = {};\r\n    }\r\n    var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\r\n    var domain = this.options.ServiceDomain;\r\n    var appId = params.AppId || this.options.appId;\r\n    var region = params.Region;\r\n    if (domain) {\r\n        domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '')\r\n            .replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\r\n        if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n            domain = protocol + '//' + domain;\r\n        }\r\n        if (domain.slice(-1) === '/') {\r\n            domain = domain.slice(0, -1);\r\n        }\r\n    } else if (region) {\r\n        domain = protocol + '//cos.' + region + '.myqcloud.com';\r\n    } else {\r\n        domain = protocol + '//service.cos.myqcloud.com';\r\n    }\r\n\r\n    var SignHost = '';\r\n    var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\r\n    var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\r\n    if (standardHost === urlHost) SignHost = standardHost;\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetService',\r\n        url: domain,\r\n        method: 'GET',\r\n        headers: params.Headers,\r\n        SignHost: SignHost,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var buckets = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets\r\n            && data.ListAllMyBucketsResult.Buckets.Bucket) || [];\r\n        buckets = util.isArray(buckets) ? buckets : [buckets];\r\n        var owner = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner) || {};\r\n        callback(null, {\r\n            Buckets: buckets,\r\n            Owner: owner,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 创建 Bucket，并初始化访问权限\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {String}  data.Location             操作地址\r\n */\r\nfunction putBucket(params, callback) {\r\n\r\n    var self = this;\r\n\r\n    var xml = '';\r\n    if(params['BucketAZConfig']){\r\n        var CreateBucketConfiguration = {\r\n            BucketAZConfig: params.BucketAZConfig\r\n        };\r\n        xml = util.json2xml({CreateBucketConfiguration: CreateBucketConfiguration});\r\n    }\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucket',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var url = getUrl({\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            isLocation: true,\r\n        });\r\n        callback(null, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 查看是否存在该Bucket，是否有权限访问\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @return  {Object}  err                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                      返回的数据\r\n *     @return  {Boolean}  data.BucketExist     Bucket是否存在\r\n *     @return  {Boolean}  data.BucketAuth      是否有 Bucket 的访问权限\r\n */\r\nfunction headBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'HEAD',\r\n    }, callback);\r\n}\r\n\r\n/**\r\n * 获取 Bucket 下的 object 列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Prefix              前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.Delimiter           定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，非必须\r\n *     @param  {String}  params.Marker              默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n *     @param  {String}  params.MaxKeys             单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.EncodingType        规定返回值的编码方式，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.ListBucketResult     返回的 object 列表信息\r\n */\r\nfunction getBucket(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['marker'] = params['Marker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucket',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListBucketResult = data.ListBucketResult || {};\r\n        var Contents = ListBucketResult.Contents || [];\r\n        var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\r\n\r\n        Contents = util.isArray(Contents) ? Contents : [Contents];\r\n        CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\r\n\r\n        var result = util.clone(ListBucketResult);\r\n        util.extend(result, {\r\n            Contents: Contents,\r\n            CommonPrefixes: CommonPrefixes,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n *     @return  {String}  data.Location     操作地址\r\n */\r\nfunction deleteBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'DELETE',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n */\r\nfunction putBucketAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header 去重\r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: headers,\r\n        action: 'acl',\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  访问权限信息\r\n */\r\nfunction getBucketAcl(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的 跨域设置\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {Object}  params.CORSConfiguration       相关的跨域设置，必须\r\n * @param  {Array}  params.CORSConfiguration.CORSRules  对应的跨域规则\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n */\r\nfunction putBucketCors(params, callback) {\r\n\r\n    var CORSConfiguration = params['CORSConfiguration'] || {};\r\n    var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\r\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n    util.each(CORSRules, function (rule) {\r\n        util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\r\n            var sKey = key + 's';\r\n            var val = rule[sKey] || rule[key] || [];\r\n            delete rule[sKey];\r\n            rule[key] = util.isArray(val) ? val : [val];\r\n        });\r\n    });\r\n\r\n    var Conf = {CORSRule: CORSRules};\r\n    if (params.ResponseVary) Conf.ResponseVary = params.ResponseVary;\r\n\r\n    var xml = util.json2xml({CORSConfiguration: Conf});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketCORS',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'cors',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 跨域设置\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.CORSRules            Bucket的跨域设置\r\n */\r\nfunction getBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketCORS',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\r\n                var result = {\r\n                    CORSRules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var CORSConfiguration = data.CORSConfiguration || {};\r\n        var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\r\n        CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n        var ResponseVary = CORSConfiguration.ResponseVary;\r\n\r\n        util.each(CORSRules, function (rule) {\r\n            util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\r\n                var sKey = key + 's';\r\n                var val = rule[sKey] || rule[key] || [];\r\n                delete rule[key];\r\n                rule[sKey] = util.isArray(val) ? val : [val];\r\n            });\r\n        });\r\n\r\n        callback(null, {\r\n            CORSRules: CORSRules,\r\n            ResponseVary: ResponseVary,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\r\nfunction deleteBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketCORS',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 地域信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据，包含地域信息 LocationConstraint\r\n */\r\nfunction getBucketLocation(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLocation',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'location',\r\n    }, callback);\r\n}\r\n\r\nfunction putBucketPolicy(params, callback) {\r\n    var Policy = params['Policy'];\r\n    try {\r\n        if (typeof Policy === 'string') Policy = JSON.parse(Policy);\r\n    } catch (e) {\r\n    }\r\n    if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\r\n    var PolicyStr = JSON.stringify(Policy);\r\n    if (!Policy.version) Policy.version = '2.0';\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/json';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketPolicy',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'policy',\r\n        body: PolicyStr,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的读取权限策略\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketPolicy',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback(util.error(err, {ErrorStatus: 'Access Denied'}));\r\n            }\r\n            if (err.statusCode && err.statusCode === 405) {\r\n                return callback(util.error(err, {ErrorStatus: 'Method Not Allowed'}));\r\n            }\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                return callback(util.error(err, {ErrorStatus: 'Policy Not Found'}));\r\n            }\r\n            return callback(err);\r\n        }\r\n        var Policy = {};\r\n        try {\r\n            Policy = JSON.parse(data.body);\r\n        } catch (e) {\r\n        }\r\n        callback(null, {\r\n            Policy: Policy,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\r\nfunction deleteBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketPolicy',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的标签\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {Array}   params.TagSet  标签设置，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction putBucketTagging(params, callback) {\r\n\r\n    var Tagging = params['Tagging'] || {};\r\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\r\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketTagging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'tagging',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketTagging(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketTagging',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\r\n                var result = {\r\n                    Tags: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Tags = [];\r\n        try {\r\n            Tags = data.Tagging.TagSet.Tag || [];\r\n        } catch (e) {\r\n        }\r\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n        callback(null, {\r\n            Tags: Tags,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的 标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction deleteBucketTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketTagging',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketLifecycle(params, callback) {\r\n\r\n    var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\r\n    var Rules = LifecycleConfiguration.Rules || params.Rules || [];\r\n    Rules = util.clone(Rules);\r\n    var xml = util.json2xml({LifecycleConfiguration: {Rule: Rules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketLifecycle',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'lifecycle',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLifecycle',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\r\n                var result = {\r\n                    Rules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Rules = [];\r\n        try {\r\n            Rules = data.LifecycleConfiguration.Rule || [];\r\n        } catch (e) {\r\n        }\r\n        Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\r\n        callback(null, {\r\n            Rules: Rules,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction deleteBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketLifecycle',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketVersioning(params, callback) {\r\n\r\n    if (!params['VersioningConfiguration']) {\r\n        callback(util.error(new Error('missing param VersioningConfiguration')));\r\n        return;\r\n    }\r\n    var VersioningConfiguration = params['VersioningConfiguration'] || {};\r\n    var xml = util.json2xml({VersioningConfiguration: VersioningConfiguration});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketVersioning',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'versioning',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketVersioning(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketVersioning',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'versioning',\r\n    }, function (err, data) {\r\n        if (!err) {\r\n            !data.VersioningConfiguration && (data.VersioningConfiguration = {});\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction putBucketReplication(params, callback) {\r\n    var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\r\n    var xml = util.json2xml({ReplicationConfiguration: ReplicationConfiguration});\r\n    xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\r\n    xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketReplication',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'replication',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketReplication',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\r\n                var result = {\r\n                    ReplicationConfiguration: {Rules: []},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\r\n        if (data.ReplicationConfiguration.Rule) {\r\n            data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\r\n            delete data.ReplicationConfiguration.Rule;\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction deleteBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketReplication',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 静态网站配置信息\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {Object}  params.WebsiteConfiguration                        地域名称，必须\r\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            索引文档，必须\r\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            错误文档，非必须\r\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    重定向所有请求，非必须\r\n *         @param  {Array}   params.RoutingRules                            重定向规则，非必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketWebsite(params, callback) {\r\n\r\n    if (!params['WebsiteConfiguration']) {\r\n        callback(util.error(new Error('missing param WebsiteConfiguration')));\r\n        return;\r\n    }\r\n\r\n    var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\r\n    var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\r\n    RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\r\n    delete WebsiteConfiguration.RoutingRule;\r\n    delete WebsiteConfiguration.RoutingRules;\r\n    if (RoutingRules.length) WebsiteConfiguration.RoutingRules = { RoutingRule: RoutingRules };\r\n    var xml = util.json2xml({ WebsiteConfiguration: WebsiteConfiguration });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketWebsite',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'website',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的静态网站配置信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketWebsite(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketWebsite',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'website',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration'){\r\n                var result = {\r\n                    WebsiteConfiguration: {},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        var WebsiteConfiguration = data.WebsiteConfiguration || {};\r\n        if (WebsiteConfiguration['RoutingRules']) {\r\n            var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\r\n            RoutingRules = util.makeArray(RoutingRules);\r\n            WebsiteConfiguration.RoutingRules = RoutingRules;\r\n        }\r\n\r\n        callback(null, {\r\n            WebsiteConfiguration: WebsiteConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的静态网站配置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction deleteBucketWebsite(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketWebsite',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'website',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的防盗链白名单或者黑名单\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {Object}  params.RefererConfiguration                        地域名称，必须\r\n *         @param  {String}   RefererConfiguration.Status                   是否开启防盗链，枚举值：Enabled、Disabled\r\n *         @param  {String}   RefererConfiguration.RefererType              防盗链类型，枚举值：Black-List、White-List，必须\r\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         生效域名，必须\r\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  ，非必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketReferer(params, callback) {\r\n\r\n    if (!params['RefererConfiguration']) {\r\n        callback(util.error(new Error('missing param RefererConfiguration')));\r\n        return;\r\n    }\r\n\r\n    var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\r\n    var DomainList = RefererConfiguration['DomainList'] || {};\r\n    var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\r\n    Domains = util.isArray(Domains) ? Domains : [Domains];\r\n    if (Domains.length) RefererConfiguration.DomainList = {Domain: Domains};\r\n    var xml = util.json2xml({ RefererConfiguration: RefererConfiguration });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketReferer',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'referer',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的防盗链白名单或者黑名单\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketReferer(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketReferer',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'referer',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration'){\r\n                var result = {\r\n                    WebsiteConfiguration: {},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        var RefererConfiguration = data.RefererConfiguration || {};\r\n        if (RefererConfiguration['DomainList']) {\r\n            var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\r\n            RefererConfiguration.DomainList = {Domains: Domains};\r\n        }\r\n\r\n        callback(null, {\r\n            RefererConfiguration: RefererConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 自定义域名\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketDomain(params, callback) {\r\n\r\n    var DomainConfiguration = params['DomainConfiguration'] || {};\r\n    var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\r\n    DomainRule = util.clone(DomainRule);\r\n    var xml = util.json2xml({DomainConfiguration: {DomainRule: DomainRule}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketDomain',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'domain',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的自定义域名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketDomain(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketDomain',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'domain',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var DomainRule = [];\r\n        try {\r\n            DomainRule = data.DomainConfiguration.DomainRule || [];\r\n        } catch (e) {\r\n        }\r\n        DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\r\n        callback(null, {\r\n            DomainRule: DomainRule,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 自定义域名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction deleteBucketDomain(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketDomain',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'domain',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的回源\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketOrigin(params, callback){\r\n    var OriginConfiguration = params['OriginConfiguration'] || {};\r\n    var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\r\n    OriginRule = util.clone(OriginRule);\r\n    var xml = util.json2xml({OriginConfiguration: {OriginRule: OriginRule}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketOrigin',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'origin',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的回源\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketOrigin(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketOrigin',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'origin',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var OriginRule = [];\r\n        try {\r\n            OriginRule = data.OriginConfiguration.OriginRule || [];\r\n        } catch (e) {\r\n        }\r\n        OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\r\n        callback(null, {\r\n            OriginRule: OriginRule,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的回源\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction deleteBucketOrigin(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketOrigin',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'origin',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的日志记录\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         说明日志记录配置的状态，如果无子节点信息则意为关闭日志记录，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketLogging(params, callback) {\r\n    var xml = util.json2xml({\r\n        BucketLoggingStatus: params['BucketLoggingStatus'] || ''\r\n    });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketLogging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'logging',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的日志记录\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketLogging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLogging',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'logging',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            BucketLoggingStatus: data.BucketLoggingStatus,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 创建/编辑 Bucket 的清单任务\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {String}  params.Id                                          清单任务的名称，必须\r\n *     @param  {Object}  params.InventoryConfiguration                      包含清单的配置参数，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\r\nfunction putBucketInventory(params, callback) {\r\n    var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\r\n\r\n    if (InventoryConfiguration.OptionalFields) {\r\n        var Field = InventoryConfiguration.OptionalFields || [];\r\n        InventoryConfiguration.OptionalFields = {\r\n            Field: Field\r\n        };\r\n    }\r\n\r\n    if (InventoryConfiguration.Destination\r\n        && InventoryConfiguration.Destination.COSBucketDestination\r\n        && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n    ) {\r\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n        if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\r\n            Encryption['SSE-COS'] = Encryption['SSECOS'];\r\n            delete Encryption['SSECOS'];\r\n        }\r\n    }\r\n\r\n    var xml = util.json2xml({\r\n        InventoryConfiguration: InventoryConfiguration\r\n    });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketInventory',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        },\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的清单任务信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Id      清单任务的名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketInventory',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        }\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var InventoryConfiguration = data['InventoryConfiguration'];\r\n        if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\r\n            var Field = InventoryConfiguration.OptionalFields.Field;\r\n            if (!util.isArray(Field)) {\r\n                Field = [Field];\r\n            }\r\n            InventoryConfiguration.OptionalFields = Field;\r\n        }\r\n        if (InventoryConfiguration.Destination\r\n            && InventoryConfiguration.Destination.COSBucketDestination\r\n            && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n        ) {\r\n            var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n            if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\r\n                Encryption['SSECOS'] = Encryption['SSE-COS'];\r\n                delete Encryption['SSE-COS'];\r\n            }\r\n        }\r\n\r\n        callback(null, {\r\n            InventoryConfiguration: InventoryConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的清单任务信息\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {String}  params.ContinuationToken       当 COS 响应体中 IsTruncated 为 true，且 NextContinuationToken 节点中存在参数值时，您可以将这个参数作为 continuation-token 参数值，以获取下一页的清单任务信息，非必须\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回数据\r\n */\r\nfunction listBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListBucketInventory',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            'continuation-token': params['ContinuationToken']\r\n        }\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\r\n        var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\r\n        InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\r\n        delete ListInventoryConfigurationResult['InventoryConfiguration'];\r\n        util.each(InventoryConfigurations, function (InventoryConfiguration) {\r\n            if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\r\n                var Field = InventoryConfiguration.OptionalFields.Field;\r\n                if (!util.isArray(Field)) {\r\n                    Field = [Field];\r\n                }\r\n                InventoryConfiguration.OptionalFields = Field;\r\n            }\r\n\r\n            if (InventoryConfiguration.Destination\r\n                && InventoryConfiguration.Destination.COSBucketDestination\r\n                && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n            ) {\r\n                var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n                if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\r\n                    Encryption['SSECOS'] = Encryption['SSE-COS'];\r\n                    delete Encryption['SSE-COS'];\r\n                }\r\n            }\r\n        });\r\n        ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\r\n        util.extend(ListInventoryConfigurationResult, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, ListInventoryConfigurationResult);\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的清单任务\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Id      清单任务的名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction deleteBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketInventory',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        }\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/* 全球加速 */\r\nfunction putBucketAccelerate(params, callback) {\r\n\r\n    if (!params['AccelerateConfiguration']) {\r\n        callback(util.error(new Error('missing param AccelerateConfiguration')));\r\n        return;\r\n    }\r\n\r\n    var configuration = { AccelerateConfiguration: params.AccelerateConfiguration || {} };\r\n\r\n    var xml = util.json2xml(configuration);\r\n\r\n    var headers = {};\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketAccelerate',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'accelerate',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketAccelerate(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketAccelerate',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'accelerate',\r\n    }, function (err, data) {\r\n        if (!err) {\r\n            !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction putBucketEncryption(params, callback) {\r\n    var conf = params.ServerSideEncryptionConfiguration || {};\r\n    var Rules = conf.Rule || conf.Rules || [];\r\n    var xml = util.json2xml({ServerSideEncryptionConfiguration: {Rule:Rules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketEncryption',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'encryption',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketEncryption(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketEncryption',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'encryption',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\r\n                var result = {\r\n                    EncryptionConfiguration: {Rules: []},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\r\n        data.EncryptionConfiguration = {Rules: Rules};\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction deleteBucketEncryption(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketReplication',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'encryption',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n// Object 相关\r\n\r\n/**\r\n * 取回对应Object的元数据，Head的权限与Get的权限一致\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 文件名称，必须\r\n *     @param  {String}  params.IfModifiedSince     当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          为指定 object 的元数据，如果设置了 IfModifiedSince ，且文件未修改，则返回一个对象，NotModified 属性为 true\r\n *     @return  {Boolean}  data.NotModified         是否在 IfModifiedSince 时间点之后未修改该 object，则为 true\r\n */\r\nfunction headObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadObject',\r\n        method: 'HEAD',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true,\r\n                    statusCode: statusCode,\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        data.ETag = util.attr(data.headers, 'etag', '');\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n\r\nfunction listObjectVersions(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['version-id-marker'] = params['VersionIdMarker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketObjectVersions',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'versions',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListVersionsResult = data.ListVersionsResult || {};\r\n        var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\r\n        DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\r\n        var Versions = ListVersionsResult.Version || [];\r\n        Versions = util.isArray(Versions) ? Versions : [Versions];\r\n\r\n        var result = util.clone(ListVersionsResult);\r\n        delete result.DeleteMarker;\r\n        delete result.Version;\r\n        util.extend(result, {\r\n            DeleteMarkers: DeleteMarkers,\r\n            Versions: Versions,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 下载 object\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         文件名称，必须\r\n *     @param  {WriteStream}  params.Output                 文件写入流，非必须\r\n *     @param  {String}  params.IfModifiedSince             当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n *     @param  {String}  params.IfUnmodifiedSince           如果文件修改时间早于或等于指定时间，才返回文件内容。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfMatch                     当 ETag 与指定的内容一致，才返回文件。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfNoneMatch                 当 ETag 与指定的内容不一致，才返回文件。否则返回304 (not modified)，非必须\r\n *     @param  {String}  params.ResponseContentType         设置返回头部中的 Content-Type 参数，非必须\r\n *     @param  {String}  params.ResponseContentLanguage     设置返回头部中的 Content-Language 参数，非必须\r\n *     @param  {String}  params.ResponseExpires             设置返回头部中的 Content-Expires 参数，非必须\r\n *     @param  {String}  params.ResponseCacheControl        设置返回头部中的 Cache-Control 参数，非必须\r\n *     @param  {String}  params.ResponseContentDisposition  设置返回头部中的 Content-Disposition 参数，非必须\r\n *     @param  {String}  params.ResponseContentEncoding     设置返回头部中的 Content-Encoding 参数，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @param  {Object}  err                                    请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                                   为对应的 object 数据，包括 body 和 headers\r\n */\r\nfunction getObject(params, callback) {\r\n    var reqParams = params.Query || {};\r\n    var reqParamsStr = params.QueryString || '';\r\n    var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\r\n    var tracker = params.tracker;\r\n    tracker && tracker.setParams({ signStartTime: new Date().getTime() });\r\n\r\n    reqParams['response-content-type'] = params['ResponseContentType'];\r\n    reqParams['response-content-language'] = params['ResponseContentLanguage'];\r\n    reqParams['response-expires'] = params['ResponseExpires'];\r\n    reqParams['response-cache-control'] = params['ResponseCacheControl'];\r\n    reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\r\n    reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\r\n\r\n    // 如果用户自己传入了 output\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObject',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        DataType: params.DataType,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        qsStr: reqParamsStr,\r\n        rawBody: true,\r\n        onDownloadProgress: onProgress,\r\n        tracker: tracker,\r\n    }, function (err, data) {\r\n        onProgress(null, true);\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            Body: data.body,\r\n            ETag: util.attr(data.headers, 'etag', ''),\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * 上传 object\r\n * @param  {Object} params                                          参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 文件名称，必须\r\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串，必须\r\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\r\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\r\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\r\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\r\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\r\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {Function}  params.onProgress                        上传进度回调函数\r\n * @param  {Function}  callback                                     回调函数，必须\r\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                          为对应的 object 数据\r\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\r\n */\r\nfunction putObject(params, callback) {\r\n    var self = this;\r\n    var FileSize = params.ContentLength;\r\n    var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n    // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\r\n    var headers = params.Headers;\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\r\n    var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\r\n    \r\n    var tracker = params.tracker;\r\n    needCalcMd5 && tracker && tracker.setParams({ md5StartTime: new Date().getTime() });\r\n\r\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\r\n        if (md5) {\r\n            tracker && tracker.setParams({ md5EndTime: new Date().getTime() });\r\n            if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\r\n            if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\r\n        }\r\n        if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\r\n        onProgress(null, true); // 任务状态开始 uploading\r\n        submitRequest.call(self, {\r\n            Action: 'name/cos:PutObject',\r\n            TaskId: params.TaskId,\r\n            method: 'PUT',\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            headers: params.Headers,\r\n            qs: params.Query,\r\n            body: params.Body,\r\n            onProgress: onProgress,\r\n            tracker: tracker,\r\n        }, function (err, data) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            var url = getUrl({\r\n                ForcePathStyle: self.options.ForcePathStyle,\r\n                protocol: self.options.Protocol,\r\n                domain: self.options.Domain,\r\n                bucket: params.Bucket,\r\n                region: !self.options.UseAccelerate ? params.Region : 'accelerate',\r\n                object: params.Key,\r\n            });\r\n            url = url.substr(url.indexOf('://') + 3);\r\n            data.Location = url;\r\n            data.ETag = util.attr(data.headers, 'etag', '');\r\n            callback(null, data);\r\n        });\r\n    }, params.onHashProgress);\r\n}\r\n\r\n/**\r\n * 删除 object\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n *     @param  {String}  params.Key             object名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @param  {Object}  err                        请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                       删除操作成功之后返回的数据\r\n */\r\nfunction deleteObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteObject',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        VersionId: params.VersionId,\r\n        action: params.Recursive ? 'recursive' : '',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (statusCode && statusCode === 404) {\r\n                return callback(null, {BucketNotFound: true, statusCode: statusCode,});\r\n            } else {\r\n                return callback(err);\r\n            }\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 object 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 object名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  权限列表\r\n */\r\nfunction getObjectAcl(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObjectACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        delete result.GrantWrite;\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 object 的 权限列表\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction putObjectAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header 去重\r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutObjectACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        action: 'acl',\r\n        headers: headers,\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Options Object请求实现跨域访问的预请求。即发出一个 OPTIONS 请求给服务器以确认是否可以进行跨域操作。\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction optionsObject(params, callback) {\r\n\r\n    var headers = params.Headers;\r\n    headers['Origin'] = params['Origin'];\r\n    headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\r\n    headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:OptionsObject',\r\n        method: 'OPTIONS',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback(null, {\r\n                    OptionsForbidden: true,\r\n                    statusCode: err.statusCode\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n\r\n        var headers = data.headers || {};\r\n        callback(null, {\r\n            AccessControlAllowOrigin: headers['access-control-allow-origin'],\r\n            AccessControlAllowMethods: headers['access-control-allow-methods'],\r\n            AccessControlAllowHeaders: headers['access-control-allow-headers'],\r\n            AccessControlExposeHeaders: headers['access-control-expose-headers'],\r\n            AccessControlMaxAge: headers['access-control-max-age'],\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * @param  {Object}                                     参数列表\r\n *     @param  {String}  Bucket                         Bucket 名称\r\n *     @param  {String}  Region                         地域名称\r\n *     @param  {String}  Key                            文件名称\r\n *     @param  {String}  CopySource                     源文件URL绝对路径，可以通过versionid子资源指定历史版本\r\n *     @param  {String}  ACL                            允许用户自定义文件权限。有效值：private，public-read默认值：private。\r\n *     @param  {String}  GrantRead                      赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantWrite                     赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantFullControl               赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  MetadataDirective              是否拷贝元数据，枚举值：Copy, Replaced，默认值Copy。假如标记为Copy，忽略Header中的用户元数据信息直接复制；假如标记为Replaced，按Header信息修改元数据。当目标路径和原路径一致，即用户试图修改元数据时，必须为Replaced\r\n *     @param  {String}  CopySourceIfModifiedSince      当Object在指定时间后被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-None-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfUnmodifiedSince    当Object在指定时间后未被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfMatch              当Object的ETag和给定一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Unmodified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfNoneMatch          当Object的ETag和给定不一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Modified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  StorageClass                   存储级别，枚举值：存储级别，枚举值：Standard, Standard_IA，Archive；默认值：Standard\r\n *     @param  {String}  CacheControl                   指定所有缓存机制在整个请求/响应链中必须服从的指令。\r\n *     @param  {String}  ContentDisposition             MIME 协议的扩展，MIME 协议指示 MIME 用户代理如何显示附加的文件\r\n *     @param  {String}  ContentEncoding                HTTP 中用来对「采用何种编码格式传输正文」进行协定的一对头部字段\r\n *     @param  {String}  ContentLength                  设置响应消息的实体内容的大小，单位为字节\r\n *     @param  {String}  ContentType                    RFC 2616 中定义的 HTTP 请求内容类型（MIME），例如text/plain\r\n *     @param  {String}  Expect                         请求的特定的服务器行为\r\n *     @param  {String}  Expires                        响应过期的日期和时间\r\n *     @param  {String}  params.ServerSideEncryption   支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String}  ContentLanguage                指定内容语言\r\n *     @param  {String}  x-cos-meta-*                   允许用户自定义的头部信息，将作为 Object 元数据返回。大小限制2K。\r\n */\r\nfunction putObjectCopy(params, callback) {\r\n\r\n    // 特殊处理 Cache-Control\r\n    var self = this;\r\n    var headers = params.Headers;\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n\r\n    var CopySource = params.CopySource || '';\r\n    var m = util.getSourceParams.call(this, CopySource);\r\n    if (!m) {\r\n        callback(util.error(new Error('CopySource format error')));\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var result = util.clone(data.CopyObjectResult || {});\r\n        var url = getUrl({\r\n            ForcePathStyle: self.options.ForcePathStyle,\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            object: params.Key,\r\n            isLocation: true,\r\n        });\r\n        util.extend(result, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction uploadPartCopy(params, callback) {\r\n\r\n    var CopySource = params.CopySource || '';\r\n    var m = util.getSourceParams.call(this, CopySource);\r\n    if (!m) {\r\n        callback(util.error(new Error('CopySource format error')));\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        qs: {\r\n            partNumber: params['PartNumber'],\r\n            uploadId: params['UploadId'],\r\n        },\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var result = util.clone(data.CopyPartResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction deleteMultipleObject(params, callback) {\r\n    var Objects = params.Objects || [];\r\n    var Quiet = params.Quiet;\r\n    Objects = util.isArray(Objects) ? Objects : [Objects];\r\n\r\n    var xml = util.json2xml({Delete: {Object: Objects, Quiet: Quiet || false}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    var Scope = util.map(Objects, function (v) {\r\n        return {\r\n            action: 'name/cos:DeleteObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: v.Key,\r\n        };\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Scope: Scope,\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'delete',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var DeleteResult = data.DeleteResult || {};\r\n        var Deleted = DeleteResult.Deleted || [];\r\n        var Errors = DeleteResult.Error || [];\r\n\r\n        Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\r\n        Errors = util.isArray(Errors) ? Errors : [Errors];\r\n\r\n        var result = util.clone(DeleteResult);\r\n        util.extend(result, {\r\n            Error: Errors,\r\n            Deleted: Deleted,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction restoreObject(params, callback) {\r\n    var headers = params.Headers;\r\n    if (!params['RestoreRequest']) {\r\n        callback(util.error(new Error('missing param RestoreRequest')));\r\n        return;\r\n    }\r\n\r\n    var RestoreRequest = params.RestoreRequest || {};\r\n    var xml = util.json2xml({RestoreRequest: RestoreRequest});\r\n\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:RestoreObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        body: xml,\r\n        action: 'restore',\r\n        headers: headers,\r\n    }, callback);\r\n}\r\n\r\n/**\r\n * 设置 Object 的标签\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Object名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {Array}   params.TagSet  标签设置，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction putObjectTagging(params, callback) {\r\n\r\n    var Tagging = params['Tagging'] || {};\r\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\r\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutObjectTagging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Key: params.Key,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'tagging',\r\n        headers: headers,\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Object 的标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getObjectTagging(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObjectTagging',\r\n        method: 'GET',\r\n        Key: params.Key,\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\r\n                var result = {\r\n                    Tags: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Tags = [];\r\n        try {\r\n            Tags = data.Tagging.TagSet.Tag || [];\r\n        } catch (e) {\r\n        }\r\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n        callback(null, {\r\n            Tags: Tags,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Object 的 标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Object名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction deleteObjectTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteObjectTagging',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 使用 SQL 语句从指定对象（CSV 格式或者 JSON 格式）中检索内容\r\n * @param  {Object}  params                   参数对象，必须\r\n *     @param  {String}  params.Bucket        Object名称，必须\r\n *     @param  {String}  params.Region        地域名称，必须\r\n *     @param  {Object}  params.SelectRequest 地域名称，必须\r\n * @param  {Function}  callback               回调函数，必须\r\n * @return  {Object}  err                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data                    返回的数据\r\n */\r\nfunction selectObjectContent(params, callback) {\r\n    var SelectType = params['SelectType'];\r\n    if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\r\n\r\n    var SelectRequest = params['SelectRequest'] || {};\r\n    var xml = util.json2xml({SelectRequest: SelectRequest});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'select',\r\n        qs: {\r\n            'select-type': params['SelectType'],\r\n        },\r\n        VersionId: params.VersionId,\r\n        body: xml,\r\n        DataType: 'arraybuffer',\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        var result = util.parseSelectPayload(data.body);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n            Body: result.body,\r\n            Payload: result.payload,\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// 分块上传\r\n\r\n\r\n/**\r\n * 初始化分块上传\r\n * @param  {Object}  params                                     参数对象，必须\r\n *     @param  {String}  params.Bucket                          Bucket名称，必须\r\n *     @param  {String}  params.Region                          地域名称，必须\r\n *     @param  {String}  params.Key                             object名称，必须\r\n *     @param  {String}  params.UploadId                        object名称，必须\r\n *     @param  {String}  params.CacheControl                    RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition              RFC 2616 中定义的文件名称，将作为 Object 元数据保存    ，非必须\r\n *     @param  {String}  params.ContentEncoding                 RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentType                     RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expires                         RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                             允许用户自定义文件权限，非必须\r\n *     @param  {String}  params.GrantRead                       赋予被授权者读的权限 ，非必须\r\n *     @param  {String}  params.GrantWrite                      赋予被授权者写的权限 ，非必须\r\n *     @param  {String}  params.GrantFullControl                赋予被授权者读写权限 ，非必须\r\n *     @param  {String}  params.StorageClass                    设置Object的存储级别，枚举值：Standard，Standard_IA，Archive，非必须\r\n *     @param  {String}  params.ServerSideEncryption           支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n * @param  {Function}  callback                                 回调函数，必须\r\n * @return  {Object}  err                                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                      返回的数据\r\n */\r\nfunction multipartInit(params, callback) {\r\n    var self = this;\r\n    // 特殊处理 Cache-Control\r\n    var headers = params.Headers;\r\n    var tracker = params.tracker;\r\n    \r\n\r\n    // 特殊处理 Cache-Control、Content-Type\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\r\n\r\n    var needCalcMd5 = params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5);\r\n    needCalcMd5 && tracker && tracker.setParams({ md5StartTime: new Date().getTime() });\r\n\r\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\r\n        if (md5) params.Headers['x-cos-meta-md5'] = md5;\r\n        needCalcMd5 && tracker && tracker.setParams({ md5EndTime: new Date().getTime() });\r\n        submitRequest.call(self, {\r\n            Action: 'name/cos:InitiateMultipartUpload',\r\n            method: 'POST',\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            action: 'uploads',\r\n            headers: params.Headers,\r\n            qs: params.Query,\r\n            tracker: tracker,\r\n        }, function (err, data) {\r\n          if (err) {\r\n            tracker && tracker.parent && tracker.parent.setParams({ errorNode: 'multipartInit' });\r\n            return callback(err);\r\n          }\r\n            data = util.clone(data || {});\r\n            if (data && data.InitiateMultipartUploadResult) {\r\n                return callback(null, util.extend(data.InitiateMultipartUploadResult, {\r\n                    statusCode: data.statusCode,\r\n                    headers: data.headers,\r\n                }));\r\n            }\r\n            callback(null, data);\r\n        });\r\n    }, params.onHashProgress);\r\n}\r\n\r\n/**\r\n * 分块上传\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {File || Blob || String}  params.Body        上传文件对象或字符串\r\n *     @param  {String} params.ContentLength                RFC 2616 中定义的 HTTP 请求内容长度（字节），非必须\r\n *     @param  {String} params.Expect                       当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String} params.ServerSideEncryption         支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String} params.ContentSha1                  RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验值，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n *     @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.ETag                         返回的文件分块 sha1 值\r\n */\r\nfunction multipartUpload(params, callback) {\r\n\r\n    var self = this;\r\n    util.getFileSize('multipartUpload', params, function () {\r\n        var tracker = params.tracker;\r\n        var needCalcMd5 = self.options.UploadCheckContentMd5;\r\n        needCalcMd5 && tracker && tracker.setParams({ md5StartTime: new Date().getTime() });\r\n        util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\r\n            if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\r\n            needCalcMd5 && tracker && tracker.setParams({ md5EndTime: new Date().getTime() });\r\n            tracker && tracker.setParams({ partNumber: params.PartNumber });\r\n            submitRequest.call(self, {\r\n                Action: 'name/cos:UploadPart',\r\n                TaskId: params.TaskId,\r\n                method: 'PUT',\r\n                Bucket: params.Bucket,\r\n                Region: params.Region,\r\n                Key: params.Key,\r\n                qs: {\r\n                    partNumber: params['PartNumber'],\r\n                    uploadId: params['UploadId'],\r\n                },\r\n                headers: params.Headers,\r\n                onProgress: params.onProgress,\r\n                body: params.Body || null,\r\n                tracker: tracker,\r\n            }, function (err, data) {\r\n              if (err) {\r\n                tracker && tracker.parent && tracker.parent.setParams({ errorNode: 'multipartUpload' });\r\n                return callback(err);\r\n              }\r\n                callback(null, {\r\n                    ETag: util.attr(data.headers, 'etag', ''),\r\n                    statusCode: data.statusCode,\r\n                    headers: data.headers,\r\n                });\r\n            });\r\n        });\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * 完成分块上传\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {String}  params.Key                     object名称，必须\r\n *     @param  {Array}   params.Parts                   分块信息列表，必须\r\n *     @param  {String}  params.Parts[i].PartNumber     块编号，必须\r\n *     @param  {String}  params.Parts[i].ETag           分块的 sha1 校验值\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.CompleteMultipartUpload  完成分块上传后的文件信息，包括Location, Bucket, Key 和 ETag\r\n */\r\nfunction multipartComplete(params, callback) {\r\n    var self = this;\r\n\r\n    var UploadId = params.UploadId;\r\n\r\n    var Parts = params['Parts'];\r\n\r\n    var tracker = params.tracker;\r\n\r\n    for (var i = 0, len = Parts.length; i < len; i++) {\r\n        if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\r\n            continue;\r\n        }\r\n        Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\r\n    }\r\n\r\n    var xml = util.json2xml({CompleteMultipartUpload: {Part: Parts}});\r\n    // CSP/ceph CompleteMultipartUpload 接口 body 写死了限制 1MB，这里醉倒 10000 片时，xml 字符串去掉空格853KB\r\n    xml = xml.replace(/\\n\\s*/g, '');\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:CompleteMultipartUpload',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        qs: {\r\n            uploadId: UploadId\r\n        },\r\n        body: xml,\r\n        headers: headers,\r\n        tracker: tracker,\r\n    }, function (err, data) {\r\n      if (err) {\r\n        tracker && tracker.parent && tracker.parent.setParams({ errorNode: 'multipartComplete' });\r\n        return callback(err);\r\n      }\r\n        var url = getUrl({\r\n            ForcePathStyle: self.options.ForcePathStyle,\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            object: params.Key,\r\n            isLocation: true,\r\n        });\r\n        var res = data.CompleteMultipartUploadResult || {};\r\n        if (res.ProcessResults) {\r\n            if (res && res.ProcessResults) {\r\n                res.UploadResult = {\r\n                    OriginalInfo: {\r\n                        Key: res.Key,\r\n                        Location: url,\r\n                        ETag: res.ETag,\r\n                        ImageInfo: res.ImageInfo,\r\n                    },\r\n                    ProcessResults: res.ProcessResults,\r\n                };\r\n                delete res.ImageInfo;\r\n                delete res.ProcessResults;\r\n            }\r\n        }\r\n        var result = util.extend(res, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 分块上传任务列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Delimiter                   定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，定义为Common Prefix，然后列出所有Common Prefix。如果没有Prefix，则从路径起点开始，非必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.Prefix                      前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.MaxUploads                  单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.KeyMarker                   与upload-id-marker一起使用 </Br>当upload-id-marker未被指定时，ObjectName字母顺序大于key-marker的条目将被列出 </Br>当upload-id-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n *     @param  {String}  params.UploadIdMarker              与key-marker一起使用 </Br>当key-marker未被指定时，upload-id-marker将被忽略 </Br>当key-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块上传任务信息\r\n */\r\nfunction multipartList(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n\r\n    reqParams['max-uploads'] = params['MaxUploads'];\r\n\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['upload-id-marker'] = params['UploadIdMarker'];\r\n\r\n    reqParams = util.clearKey(reqParams);\r\n\r\n    var tracker = params.tracker;\r\n    tracker && tracker.setParams({ signStartTime: new Date().getTime() });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListMultipartUploads',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'uploads',\r\n        tracker: tracker,\r\n    }, function (err, data) {\r\n      if (err) {\r\n        tracker && tracker.parent && tracker.parent.setParams({ errorNode: 'multipartList' });\r\n        return callback(err);\r\n      }\r\n\r\n        if (data && data.ListMultipartUploadsResult) {\r\n            var Upload = data.ListMultipartUploadsResult.Upload || [];\r\n            Upload = util.isArray(Upload) ? Upload : [Upload];\r\n            data.ListMultipartUploadsResult.Upload = Upload;\r\n        }\r\n        var result = util.clone(data.ListMultipartUploadsResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 上传的分块列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {String}  params.UploadId                    标示本次分块上传的ID，必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.MaxParts                    单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.PartNumberMarker            默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块信息\r\n */\r\nfunction multipartListPart(params, callback) {\r\n    var reqParams = {};\r\n    var tracker = params.tracker\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['max-parts'] = params['MaxParts'];\r\n    reqParams['part-number-marker'] = params['PartNumberMarker'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListParts',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) {\r\n          tracker && tracker.parent && tracker.parent.setParams({ errorNode: 'multipartListPart' });\r\n          return callback(err);\r\n        }\r\n        var ListPartsResult = data.ListPartsResult || {};\r\n        var Part = ListPartsResult.Part || [];\r\n        Part = util.isArray(Part) ? Part : [Part];\r\n\r\n        ListPartsResult.Part = Part;\r\n        var result = util.clone(ListPartsResult);\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 抛弃分块上传\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\r\nfunction multipartAbort(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:AbortMultipartUpload',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 抛弃分块上传\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\r\nfunction request(params, callback) {\r\n    submitRequest.call(this, {\r\n        method: params.Method,\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        action: params.Action,\r\n        headers: params.Headers,\r\n        qs: params.Query,\r\n        body: params.Body,\r\n        Url: params.Url,\r\n        rawBody: params.RawBody,\r\n        DataType: params.DataType,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        if (data && data.body) {\r\n            data.Body = data.body;\r\n            delete data.body;\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 追加上传\r\n * @param  {Object}  params                                         参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 object名称，必须\r\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串\r\n *     @param  {Number}  params.Position                            追加操作的起始点，单位为字节，必须\r\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\r\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\r\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\r\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\r\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\r\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n * @param  {Function}  callback                                     回调函数，必须\r\n *     @return  {Object}    err                                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data                                    返回的数据\r\n */\r\nfunction appendObject(params, callback) {\r\n    // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\r\n    var headers = params.Headers;\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:AppendObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'append',\r\n        Key: params.Key,\r\n        body: params.Body,\r\n        qs: {\r\n          position: params.Position\r\n        },\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 获取签名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Method  请求方法，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n *     @param  {String}  params.Expires 名超时时间，单位秒，可选\r\n * @return  {String}  data              返回签名字符串\r\n */\r\nfunction getAuth(params) {\r\n    var self = this;\r\n    return util.getAuth({\r\n        SecretId: params.SecretId || this.options.SecretId || '',\r\n        SecretKey: params.SecretKey || this.options.SecretKey || '',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Method: params.Method,\r\n        Key: params.Key,\r\n        Query: params.Query,\r\n        Headers: params.Headers,\r\n        Expires: params.Expires,\r\n        UseRawKey: self.options.UseRawKey,\r\n        SystemClockOffset: self.options.SystemClockOffset,\r\n    });\r\n}\r\n\r\n/**\r\n * 获取文件下载链接\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.Method      请求的方法，可选\r\n *     @param  {String}  params.Expires     签名超时时间，单位秒，可选\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\r\nfunction getObjectUrl(params, callback) {\r\n    var self = this;\r\n    var useAccelerate = params.UseAccelerate === undefined ? self.options.UseAccelerate : params.UseAccelerate;\r\n    var url = getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: params.Protocol || self.options.Protocol,\r\n        domain: params.Domain || self.options.Domain,\r\n        bucket: params.Bucket,\r\n        region: useAccelerate ? 'accelerate' : params.Region,\r\n        object: params.Key,\r\n    });\r\n\r\n    var queryParamsStr = '';\r\n    if(params.Query){\r\n      queryParamsStr += util.obj2str(params.Query);\r\n    }\r\n    if(params.QueryString){\r\n      queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\r\n    }\r\n\r\n    var syncUrl = url;\r\n    if (params.Sign !== undefined && !params.Sign) {\r\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\r\n        callback(null, {Url: syncUrl});\r\n        return syncUrl;\r\n    }\r\n\r\n    // 签名加上 Host，避免跨桶访问\r\n    var SignHost = getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, UseAccelerate: params.UseAccelerate, Url: url});\r\n    var AuthData = getAuthorizationAsync.call(this, {\r\n        Action: ((params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject'),\r\n        Bucket: params.Bucket || '',\r\n        Region: params.Region || '',\r\n        Method: params.Method || 'get',\r\n        Key: params.Key,\r\n        Expires: params.Expires,\r\n        Headers: params.Headers,\r\n        Query: params.Query,\r\n        SignHost: SignHost,\r\n        ForceSignHost: params.ForceSignHost === false ? false : self.options.ForceSignHost, // getObjectUrl支持传参ForceSignHost\r\n    }, function (err, AuthData) {\r\n        if (!callback) return;\r\n        if (err) {\r\n            callback(err);\r\n            return;\r\n        }\r\n\r\n        // 兼容万象url qUrlParamList需要再encode一次\r\n        var replaceUrlParamList = function(url) {\r\n            var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\r\n            var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\r\n            var reg = new RegExp(urlParams, 'g');\r\n            var replacedUrl = url.replace(reg, encodedParams);\r\n            return replacedUrl;\r\n        }\r\n\r\n        var signUrl = url;\r\n        signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ?\r\n          replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\r\n        AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\r\n        AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\r\n        AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\r\n        AuthData.Token && (signUrl += '&token=' + AuthData.Token);\r\n        queryParamsStr && (signUrl += '&' + queryParamsStr);\r\n        setTimeout(function () {\r\n            callback(null, {Url: signUrl});\r\n        });\r\n    });\r\n    if (AuthData) {\r\n        syncUrl += '?' + AuthData.Authorization +\r\n            (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\r\n        queryParamsStr && (syncUrl += '&' + queryParamsStr);\r\n    } else{\r\n        queryParamsStr && (syncUrl += '?' + queryParamsStr);\r\n    }\r\n    return syncUrl;\r\n}\r\n\r\n/**\r\n * 私有方法\r\n */\r\nfunction decodeAcl(AccessControlPolicy) {\r\n    var result = {\r\n        GrantFullControl: [],\r\n        GrantWrite: [],\r\n        GrantRead: [],\r\n        GrantReadAcp: [],\r\n        GrantWriteAcp: [],\r\n        ACL: '',\r\n    };\r\n    var GrantMap = {\r\n        'FULL_CONTROL': 'GrantFullControl',\r\n        'WRITE': 'GrantWrite',\r\n        'READ': 'GrantRead',\r\n        'READ_ACP': 'GrantReadAcp',\r\n        'WRITE_ACP': 'GrantWriteAcp',\r\n    };\r\n    var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\r\n    var Grant = AccessControlList.Grant;\r\n    if (Grant) {\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n    }\r\n    var PublicAcl = {READ: 0, WRITE: 0, FULL_CONTROL: 0};\r\n    Grant && Grant.length && util.each(Grant, function (item) {\r\n        if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\r\n            PublicAcl[item.Permission] = 1;\r\n        } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\r\n            result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\r\n        }\r\n    });\r\n    if (PublicAcl.FULL_CONTROL || (PublicAcl.WRITE && PublicAcl.READ)) {\r\n        result.ACL = 'public-read-write';\r\n    } else if (PublicAcl.READ) {\r\n        result.ACL = 'public-read';\r\n    } else {\r\n        result.ACL = 'private';\r\n    }\r\n    util.each(GrantMap, function (item) {\r\n        result[item] = uniqGrant(result[item].join(','));\r\n    });\r\n    return result;\r\n}\r\n\r\n// Grant 去重\r\nfunction uniqGrant(str) {\r\n    var arr = str.split(',');\r\n    var exist = {};\r\n    var i, item;\r\n    for (i = 0; i < arr.length; ) {\r\n        item = arr[i].trim();\r\n        if (exist[item]) {\r\n            arr.splice(i, 1);\r\n        } else {\r\n            exist[item] = true;\r\n            arr[i] = item;\r\n            i++;\r\n        }\r\n    }\r\n    return arr.join(',');\r\n}\r\n\r\n// 生成操作 url\r\nfunction getUrl(params) {\r\n    var region = params.region || '';\r\n    var longBucket = params.bucket || '';\r\n    var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\r\n    var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\r\n    var domain = params.domain;\r\n    var object = params.object;\r\n    if (typeof domain === 'function') {\r\n        domain = domain({Bucket: longBucket, Region: region});\r\n    }\r\n    var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\r\n    if (!domain) {\r\n        if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\r\n            domain = '{Region}.myqcloud.com';\r\n        } else {\r\n            domain = 'cos.{Region}.myqcloud.com';\r\n        }\r\n        if (!params.ForcePathStyle) {\r\n            domain = '{Bucket}.' + domain;\r\n        }\r\n    }\r\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId)\r\n        .replace(/\\{\\{Bucket\\}\\}/ig, shortBucket)\r\n        .replace(/\\{\\{Region\\}\\}/ig, region)\r\n        .replace(/\\{\\{.*?\\}\\}/ig, '');\r\n    domain = domain.replace(/\\{AppId\\}/ig, appId)\r\n        .replace(/\\{BucketName\\}/ig, shortBucket)\r\n        .replace(/\\{Bucket\\}/ig, longBucket)\r\n        .replace(/\\{Region\\}/ig, region)\r\n        .replace(/\\{.*?\\}/ig, '');\r\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n        domain = protocol + '//' + domain;\r\n    }\r\n\r\n    // 去掉域名最后的斜杆\r\n    if (domain.slice(-1) === '/') {\r\n        domain = domain.slice(0, -1);\r\n    }\r\n    var url = domain;\r\n\r\n    if (params.ForcePathStyle) {\r\n        url += '/' + longBucket;\r\n    }\r\n    url += '/';\r\n    if (object) {\r\n        url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\r\n    }\r\n\r\n    if (params.isLocation) {\r\n        url = url.replace(/^https?:\\/\\//, '');\r\n    }\r\n    return url;\r\n}\r\n\r\nvar getSignHost = function (opt) {\r\n    if (!opt.Bucket || !opt.Region) return '';\r\n    var useAccelerate = opt.UseAccelerate === undefined ? this.options.UseAccelerate : opt.UseAccelerate;\r\n    var url = opt.Url || getUrl({\r\n        ForcePathStyle: this.options.ForcePathStyle,\r\n        protocol: this.options.Protocol,\r\n        domain: this.options.Domain,\r\n        bucket: opt.Bucket,\r\n        region: useAccelerate ? 'accelerate' : opt.Region,\r\n    });\r\n    var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\r\n    var standardHostReg = new RegExp('^([a-z\\\\d-]+-\\\\d+\\\\.)?(cos|cosv6|ci|pic)\\\\.([a-z\\\\d-]+)\\\\.myqcloud\\\\.com$');\r\n    if (standardHostReg.test(urlHost)) return urlHost;\r\n    return '';\r\n}\r\n\r\n\r\n// 异步获取签名\r\nfunction getAuthorizationAsync(params, callback) {\r\n    var headers = util.clone(params.Headers);\r\n    var headerHost = '';\r\n    util.each(headers, function (v, k) {\r\n        (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\r\n        if (k.toLowerCase() === 'host') headerHost = v;\r\n    });\r\n    // ForceSignHost明确传入false才不加入host签名\r\n    var forceSignHost = params.ForceSignHost === false ? false : true;\r\n\r\n    // Host 加入签名计算\r\n    if (!headerHost && params.SignHost && forceSignHost) headers.Host = params.SignHost;\r\n\r\n    // 获取凭证的回调，避免用户 callback 多次\r\n    var cbDone = false;\r\n    var cb = function (err, AuthData) {\r\n        if (cbDone) return;\r\n        cbDone = true;\r\n        if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\r\n            AuthData = util.clone(AuthData);\r\n            AuthData.SecurityToken = AuthData.XCosSecurityToken;\r\n            delete AuthData.XCosSecurityToken;\r\n        }\r\n        callback && callback(err, AuthData);\r\n    };\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket || '';\r\n    var Region = params.Region || '';\r\n\r\n    // PathName\r\n    var KeyName = params.Key || '';\r\n    if (self.options.ForcePathStyle && Bucket) {\r\n        KeyName = Bucket + '/' + KeyName;\r\n    }\r\n    var Pathname = '/' + KeyName;\r\n\r\n    // Action、ResourceKey\r\n    var StsData = {};\r\n    var Scope = params.Scope;\r\n    if (!Scope) {\r\n        var Action = params.Action || '';\r\n        var ResourceKey = params.ResourceKey || params.Key || '';\r\n        Scope = params.Scope || [{\r\n            action: Action,\r\n            bucket: Bucket,\r\n            region: Region,\r\n            prefix: ResourceKey,\r\n        }];\r\n    }\r\n    var ScopeKey  = util.md5(JSON.stringify(Scope));\r\n\r\n    // STS\r\n    self._StsCache = self._StsCache ||[];\r\n    (function () {\r\n        var i, AuthData;\r\n        for (i = self._StsCache.length - 1; i >= 0; i--) {\r\n            AuthData = self._StsCache[i];\r\n            var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\r\n            if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\r\n                self._StsCache.splice(i, 1);\r\n                continue;\r\n            }\r\n            if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\r\n                StsData = AuthData;\r\n                break;\r\n            }\r\n        }\r\n    })();\r\n\r\n    var calcAuthByTmpKey = function () {\r\n        var KeyTime = '';\r\n        if (StsData.StartTime && params.Expires) KeyTime = StsData.StartTime + ';' + (StsData.StartTime + params.Expires * 1);\r\n        else if (StsData.StartTime && StsData.ExpiredTime) KeyTime = StsData.StartTime + ';' + StsData.ExpiredTime;\r\n        var Authorization = util.getAuth({\r\n            SecretId: StsData.TmpSecretId,\r\n            SecretKey: StsData.TmpSecretKey,\r\n            Method: params.Method,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Expires: params.Expires,\r\n            UseRawKey: self.options.UseRawKey,\r\n            SystemClockOffset: self.options.SystemClockOffset,\r\n            KeyTime: KeyTime,\r\n            ForceSignHost: forceSignHost,\r\n        });\r\n        var AuthData = {\r\n            Authorization: Authorization,\r\n            SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\r\n            Token: StsData.Token || '',\r\n            ClientIP: StsData.ClientIP || '',\r\n            ClientUA: StsData.ClientUA || '',\r\n        };\r\n        cb(null, AuthData);\r\n    };\r\n    var checkAuthError = function (AuthData) {\r\n        if (AuthData.Authorization) {\r\n            // 检查签名格式\r\n            var formatAllow = false;\r\n            var auth = AuthData.Authorization;\r\n            if (auth) {\r\n                if (auth.indexOf(' ') > -1) {\r\n                    formatAllow = false;\r\n                } else if (auth.indexOf('q-sign-algorithm=') > -1 &&\r\n                    auth.indexOf('q-ak=') > -1 &&\r\n                    auth.indexOf('q-sign-time=') > -1 &&\r\n                    auth.indexOf('q-key-time=') > -1 &&\r\n                    auth.indexOf('q-url-param-list=') > -1) {\r\n                    formatAllow = true;\r\n                } else {\r\n                    try {\r\n                        auth = atob(auth);\r\n                        if (auth.indexOf('a=') > -1 &&\r\n                            auth.indexOf('k=') > -1 &&\r\n                            auth.indexOf('t=') > -1 &&\r\n                            auth.indexOf('r=') > -1 &&\r\n                            auth.indexOf('b=') > -1) {\r\n                            formatAllow = true;\r\n                        }\r\n                    } catch (e) {}\r\n                }\r\n            }\r\n            if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\r\n        } else {\r\n            if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\r\n            if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\r\n            if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\r\n            if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\r\n            if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\r\n            if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // 先判断是否有临时密钥\r\n    if (StsData.ExpiredTime && StsData.ExpiredTime - (util.getSkewTime(self.options.SystemClockOffset) / 1000) > 60) { // 如果缓存的临时密钥有效，并还有超过60秒有效期就直接使用\r\n        calcAuthByTmpKey();\r\n    } else if (self.options.getAuthorization) { // 外部计算签名或获取临时密钥\r\n        self.options.getAuthorization.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Method: params.Method,\r\n            Key: KeyName,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Scope: Scope,\r\n            SystemClockOffset: self.options.SystemClockOffset,\r\n            ForceSignHost: forceSignHost,\r\n        }, function (AuthData) {\r\n            if (typeof AuthData === 'string') AuthData = {Authorization: AuthData};\r\n            var AuthError = checkAuthError(AuthData);\r\n            if (AuthError) return cb(AuthError);\r\n            if (AuthData.Authorization) {\r\n                cb(null, AuthData);\r\n            } else {\r\n                StsData = AuthData || {};\r\n                StsData.Scope = Scope;\r\n                StsData.ScopeKey = ScopeKey;\r\n                self._StsCache.push(StsData);\r\n                calcAuthByTmpKey();\r\n            }\r\n        });\r\n    } else if (self.options.getSTS) { // 外部获取临时密钥\r\n        self.options.getSTS.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n        }, function (data) {\r\n            StsData = data || {};\r\n            StsData.Scope = Scope;\r\n            StsData.ScopeKey = ScopeKey;\r\n            if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\r\n            if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\r\n            var AuthError = checkAuthError(StsData);\r\n            if (AuthError) return cb(AuthError);\r\n            self._StsCache.push(StsData);\r\n            calcAuthByTmpKey();\r\n        });\r\n    } else { // 内部计算获取签名\r\n        return (function () {\r\n            var Authorization = util.getAuth({\r\n                SecretId: params.SecretId || self.options.SecretId,\r\n                SecretKey: params.SecretKey || self.options.SecretKey,\r\n                Method: params.Method,\r\n                Pathname: Pathname,\r\n                Query: params.Query,\r\n                Headers: headers,\r\n                Expires: params.Expires,\r\n                UseRawKey: self.options.UseRawKey,\r\n                SystemClockOffset: self.options.SystemClockOffset,\r\n                ForceSignHost: forceSignHost,\r\n            });\r\n            var AuthData = {\r\n                Authorization: Authorization,\r\n                SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken,\r\n            };\r\n            cb(null, AuthData);\r\n            return AuthData;\r\n        })();\r\n    }\r\n    return '';\r\n}\r\n\r\n// 调整时间偏差\r\nfunction allowRetry(err) {\r\n    var allowRetry = false;\r\n    var isTimeError = false;\r\n    var serverDate = (err.headers && (err.headers.date || err.headers.Date)) || (err.error && err.error.ServerTime);\r\n    try {\r\n        var errorCode = err.error.Code;\r\n        var errorMessage = err.error.Message;\r\n        if (errorCode === 'RequestTimeTooSkewed' ||\r\n            (errorCode === 'AccessDenied' && errorMessage === 'Request has expired')) {\r\n            isTimeError = true;\r\n        }\r\n    } catch (e) {\r\n    }\r\n    if (err) {\r\n        if (isTimeError && serverDate) {\r\n            var serverTime = Date.parse(serverDate);\r\n            if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\r\n                console.error('error: Local time is too skewed.');\r\n                this.options.SystemClockOffset = serverTime - Date.now();\r\n                allowRetry = true;\r\n            }\r\n        } else if (Math.floor(err.statusCode / 100) === 5) {\r\n            allowRetry = true;\r\n        }\r\n    }\r\n    return allowRetry;\r\n}\r\n\r\n// 获取签名并发起请求\r\nfunction submitRequest(params, callback) {\r\n    var self = this;\r\n\r\n    // 处理 headers\r\n    !params.headers && (params.headers = {});\r\n\r\n    // 处理 query\r\n    !params.qs && (params.qs = {});\r\n    params.VersionId && (params.qs.versionId = params.VersionId);\r\n    params.qs = util.clearKey(params.qs);\r\n\r\n    // 清理 undefined 和 null 字段\r\n    params.headers && (params.headers = util.clearKey(params.headers));\r\n    params.qs && (params.qs = util.clearKey(params.qs));\r\n\r\n    var Query = util.clone(params.qs);\r\n    params.action && (Query[params.action] = '');\r\n\r\n    var paramsUrl = params.url || params.Url;\r\n    var SignHost = params.SignHost || getSignHost.call(this, {Bucket: params.Bucket, Region: params.Region, Url: paramsUrl});\r\n    var tracker = params.tracker;\r\n    var next = function (tryTimes) {\r\n        var oldClockOffset = self.options.SystemClockOffset;\r\n        tracker && tracker.setParams({ signStartTime: new Date().getTime(), retryTimes: tryTimes - 1 });\r\n        getAuthorizationAsync.call(self, {\r\n            Bucket: params.Bucket || '',\r\n            Region: params.Region || '',\r\n            Method: params.method,\r\n            Key: params.Key,\r\n            Query: Query,\r\n            Headers: params.headers,\r\n            SignHost: SignHost,\r\n            Action: params.Action,\r\n            ResourceKey: params.ResourceKey,\r\n            Scope: params.Scope,\r\n            ForceSignHost: self.options.ForceSignHost,\r\n        }, function (err, AuthData) {\r\n            if (err) {\r\n                callback(err);\r\n                return;\r\n            }\r\n            tracker && tracker.setParams({ signEndTime: new Date().getTime(), httpStartTime: new Date().getTime() });\r\n            params.AuthData = AuthData;\r\n            _submitRequest.call(self, params, function (err, data) {\r\n              tracker && tracker.setParams({ httpEndTime: new Date().getTime() });\r\n                if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\r\n                    if (params.headers) {\r\n                        delete params.headers.Authorization;\r\n                        delete params.headers['token'];\r\n                        delete params.headers['clientIP'];\r\n                        delete params.headers['clientUA'];\r\n                        params.headers['x-cos-security-token'] && (delete params.headers['x-cos-security-token']);\r\n                        params.headers['x-ci-security-token'] && (delete params.headers['x-ci-security-token']);\r\n                    }\r\n                    next(tryTimes + 1);\r\n                } else {\r\n                    callback(err, data);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    next(1);\r\n\r\n}\r\n\r\n// 发起请求\r\nfunction _submitRequest(params, callback) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    if (TaskId && !self._isRunningTask(TaskId)) return;\r\n\r\n    var bucket = params.Bucket;\r\n    var region = params.Region;\r\n    var object = params.Key;\r\n    var method = params.method || 'GET';\r\n    var url = params.Url || params.url;\r\n    var body = params.body;\r\n    var rawBody = params.rawBody;\r\n\r\n    // url\r\n    if (self.options.UseAccelerate) {\r\n        region = 'accelerate';\r\n    }\r\n    url = url || getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: self.options.Protocol,\r\n        domain: self.options.Domain,\r\n        bucket: bucket,\r\n        region: region,\r\n        object: object,\r\n    });\r\n    if (params.action) {\r\n        url = url + '?' + params.action;\r\n    }\r\n    if (params.qsStr) {\r\n        if(url.indexOf('?') > -1){\r\n          url = url + '&' + params.qsStr;\r\n        }else{\r\n          url = url + '?' + params.qsStr;\r\n        }\r\n    }\r\n\r\n    var opt = {\r\n        method: method,\r\n        url: url,\r\n        headers: params.headers,\r\n        qs: params.qs,\r\n        body: body,\r\n    };\r\n\r\n    // 兼容ci接口\r\n    var token = 'x-cos-security-token';\r\n    if (util.isCIHost(url)) {\r\n        token = 'x-ci-security-token';\r\n    }\r\n\r\n    // 获取签名\r\n    opt.headers.Authorization = params.AuthData.Authorization;\r\n    params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\r\n    params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\r\n    params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\r\n    params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken);\r\n\r\n    // 清理 undefined 和 null 字段\r\n    opt.headers && (opt.headers = util.clearKey(opt.headers));\r\n    opt = util.clearKey(opt);\r\n\r\n    // progress\r\n    if (params.onProgress && typeof params.onProgress === 'function') {\r\n        var contentLength = body && (body.size || body.length) || 0;\r\n        opt.onProgress = function (e) {\r\n            if (TaskId && !self._isRunningTask(TaskId)) return;\r\n            var loaded = e ? e.loaded : 0;\r\n            params.onProgress({loaded: loaded, total: contentLength});\r\n        };\r\n    }\r\n    if (params.onDownloadProgress) {\r\n        opt.onDownloadProgress = params.onDownloadProgress;\r\n    }\r\n    if (params.DataType) {\r\n        opt.dataType = params.DataType;\r\n    }\r\n    if (this.options.Timeout) {\r\n        opt.timeout = this.options.Timeout;\r\n    }\r\n\r\n    self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\r\n    self.emit('before-send', opt);\r\n    var useAccelerate = opt.url.includes('accelerate.');\r\n    var queryString = opt.qs ? Object.keys(opt.qs).map(key => `${key}=${opt.qs[key]}`).join('&') : '';\r\n    var fullUrl = queryString ? (opt.url + '?' + queryString) : opt.url;\r\n    params.tracker && params.tracker.setParams({ reqUrl: fullUrl, accelerate: useAccelerate ? 'Y' : 'N' });\r\n    // 分块上传时给父级tracker设置url信息\r\n    params.tracker && params.tracker.parent && params.tracker.parent.setParams({ reqUrl: fullUrl, accelerate: useAccelerate ? 'Y' : 'N' });\r\n    var sender = (self.options.Request || REQUEST)(opt, function (r) {\r\n        if (r.error === 'abort') return;\r\n\r\n        var receive = {\r\n            options: opt,\r\n            error: err,\r\n            statusCode: response && response.statusCode || 0,\r\n            headers: response && response.headers || {},\r\n            body: body,\r\n        };\r\n        self.emit('after-receive', receive);\r\n        err = receive.error;\r\n        body = receive.body;\r\n        response = {\r\n            statusCode: receive.statusCode,\r\n            headers: receive.headers,\r\n        };\r\n\r\n        // 抛出事件，允许修改返回值的 error、statusCode、statusMessage、body\r\n        self.emit('after-receive', r);\r\n        var response = {statusCode: r.statusCode, statusMessage: r.statusMessage, headers: r.headers};\r\n        var err = r.error;\r\n        var body = r.body;\r\n\r\n        // 返回内容添加 状态码 和 headers\r\n        var hasReturned;\r\n        var cb = function (err, data) {\r\n            TaskId && self.off('inner-kill-task', killTask);\r\n            if (hasReturned) return;\r\n            hasReturned = true;\r\n            var attrs = {};\r\n            response && response.statusCode && (attrs.statusCode = response.statusCode);\r\n            response && response.headers && (attrs.headers = response.headers);\r\n\r\n            if (err) {\r\n                err = util.extend(err || {}, attrs)\r\n                callback(err, null);\r\n            } else {\r\n                data = util.extend(data || {}, attrs);\r\n                callback(null, data);\r\n            }\r\n            sender = null;\r\n        };\r\n\r\n        // 请求错误，发生网络错误\r\n        if (err) return cb(util.error(err));\r\n\r\n        // 请求返回码不为 200\r\n        var statusCode = response.statusCode;\r\n        var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\r\n\r\n        // 不对 body 进行转换，body 直接挂载返回\r\n        if (rawBody && statusSuccess) return cb(null, {body: body});\r\n\r\n        // 解析 xml body\r\n        var json;\r\n        try {\r\n            json = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\r\n        } catch (e) {\r\n            json = {};\r\n        }\r\n\r\n        // 处理返回值\r\n        var xmlError = json && json.Error;\r\n        if (statusSuccess) { // 正确返回，状态码 2xx 时，body 不会有 Error\r\n            cb(null, json);\r\n        } else if (xmlError) { // 正常返回了 xml body，且有 Error 节点\r\n            cb(util.error(new Error(xmlError.Message), {code: xmlError.Code, error: xmlError}));\r\n        } else if (statusCode) { // 有错误的状态码\r\n            cb(util.error(new Error(response.statusMessage), {code: '' + statusCode}));\r\n        } else if (statusCode) { // 无状态码，或者获取不到状态码\r\n            cb(util.error(new Error('statusCode error')));\r\n        }\r\n    });\r\n\r\n    // kill task\r\n    var killTask = function (data) {\r\n        if (data.TaskId === TaskId) {\r\n            sender && sender.abort && sender.abort();\r\n            self.off('inner-kill-task', killTask);\r\n        }\r\n    };\r\n    TaskId && self.on('inner-kill-task', killTask);\r\n\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    // Bucket 相关方法\r\n    getService: getService,                      // Bucket\r\n    putBucket: putBucket,\r\n    headBucket: headBucket,                      // Bucket\r\n    getBucket: getBucket,\r\n    deleteBucket: deleteBucket,\r\n    putBucketAcl: putBucketAcl,                  // BucketACL\r\n    getBucketAcl: getBucketAcl,\r\n    putBucketCors: putBucketCors,                // BucketCors\r\n    getBucketCors: getBucketCors,\r\n    deleteBucketCors: deleteBucketCors,\r\n    getBucketLocation: getBucketLocation,        // BucketLocation\r\n    getBucketPolicy: getBucketPolicy,            // BucketPolicy\r\n    putBucketPolicy: putBucketPolicy,\r\n    deleteBucketPolicy: deleteBucketPolicy,\r\n    putBucketTagging: putBucketTagging,          // BucketTagging\r\n    getBucketTagging: getBucketTagging,\r\n    deleteBucketTagging: deleteBucketTagging,\r\n    putBucketLifecycle: putBucketLifecycle,      // BucketLifecycle\r\n    getBucketLifecycle: getBucketLifecycle,\r\n    deleteBucketLifecycle: deleteBucketLifecycle,\r\n    putBucketVersioning: putBucketVersioning,    // BucketVersioning\r\n    getBucketVersioning: getBucketVersioning,\r\n    putBucketReplication: putBucketReplication,  // BucketReplication\r\n    getBucketReplication: getBucketReplication,\r\n    deleteBucketReplication: deleteBucketReplication,\r\n    putBucketWebsite: putBucketWebsite,          // BucketWebsite\r\n    getBucketWebsite: getBucketWebsite,\r\n    deleteBucketWebsite: deleteBucketWebsite,\r\n    putBucketReferer: putBucketReferer,          // BucketReferer\r\n    getBucketReferer: getBucketReferer,\r\n    putBucketDomain: putBucketDomain,            // BucketDomain\r\n    getBucketDomain: getBucketDomain,\r\n    deleteBucketDomain: deleteBucketDomain,\r\n    putBucketOrigin: putBucketOrigin,            // BucketOrigin\r\n    getBucketOrigin: getBucketOrigin,\r\n    deleteBucketOrigin: deleteBucketOrigin,\r\n    putBucketLogging: putBucketLogging,             // BucketLogging\r\n    getBucketLogging: getBucketLogging,\r\n    putBucketInventory: putBucketInventory,         // BucketInventory\r\n    getBucketInventory: getBucketInventory,\r\n    listBucketInventory: listBucketInventory,\r\n    deleteBucketInventory: deleteBucketInventory,\r\n    putBucketAccelerate: putBucketAccelerate,\r\n    getBucketAccelerate: getBucketAccelerate,\r\n    putBucketEncryption: putBucketEncryption,\r\n    getBucketEncryption: getBucketEncryption,\r\n    deleteBucketEncryption: deleteBucketEncryption,\r\n\r\n    // Object 相关方法\r\n    getObject: getObject,\r\n    headObject: headObject,\r\n    listObjectVersions: listObjectVersions,\r\n    putObject: putObject,\r\n    deleteObject: deleteObject,\r\n    getObjectAcl: getObjectAcl,\r\n    putObjectAcl: putObjectAcl,\r\n    optionsObject: optionsObject,\r\n    putObjectCopy: putObjectCopy,\r\n    deleteMultipleObject: deleteMultipleObject,\r\n    restoreObject: restoreObject,\r\n    putObjectTagging: putObjectTagging,\r\n    getObjectTagging: getObjectTagging,\r\n    deleteObjectTagging: deleteObjectTagging,\r\n    selectObjectContent: selectObjectContent,\r\n    appendObject: appendObject,\r\n\r\n    // 分块上传相关方法\r\n    uploadPartCopy: uploadPartCopy,\r\n    multipartInit: multipartInit,\r\n    multipartUpload: multipartUpload,\r\n    multipartComplete: multipartComplete,\r\n    multipartList: multipartList,\r\n    multipartListPart: multipartListPart,\r\n    multipartAbort: multipartAbort,\r\n\r\n    // 工具方法\r\n    request: request,\r\n    getObjectUrl: getObjectUrl,\r\n    getAuth: getAuth,\r\n};\r\n\r\nfunction warnOldApi(apiName, fn, proto) {\r\n    util.each(['Cors', 'Acl'], function (suffix) {\r\n        if (apiName.slice(-suffix.length) === suffix) {\r\n            var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\r\n            var apiFn = util.apiWrapper(apiName, fn);\r\n            var warned = false;\r\n            proto[oldName] = function () {\r\n                !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\r\n                warned = true;\r\n                apiFn.apply(this, arguments);\r\n            };\r\n        }\r\n    });\r\n}\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    task.transferToTaskMethod(API_MAP, 'putObject');\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n        warnOldApi(apiName, fn, COS.prototype);\r\n    });\r\n};\r\n\r\n\r\n","'use strict';\r\n\r\nvar util = require('./util');\r\nvar event = require('./event');\r\nvar task = require('./task');\r\nvar base = require('./base');\r\nvar advance = require('./advance');\r\nvar pkg = require('../package.json');\r\n\r\nvar defaultOptions = {\r\n    AppId: '', // AppId 已废弃，请拼接到 Bucket 后传入，例如：test-1250000000\r\n    SecretId: '',\r\n    SecretKey: '',\r\n    SecurityToken: '', // 使用临时密钥需要注意自行刷新 Token\r\n    ChunkRetryTimes: 2,\r\n    FileParallelLimit: 3,\r\n    ChunkParallelLimit: 3,\r\n    ChunkSize: 1024 * 1024,\r\n    SliceSize: 1024 * 1024,\r\n    CopyChunkParallelLimit: 20,\r\n    CopyChunkSize: 1024 * 1024 * 10,\r\n    CopySliceSize: 1024 * 1024 * 10,\r\n    MaxPartNumber: 10000,\r\n    ProgressInterval: 1000,\r\n    Domain: '',\r\n    ServiceDomain: '',\r\n    Protocol: '',\r\n    CompatibilityMode: false,\r\n    ForcePathStyle: false,\r\n    UseRawKey: false,\r\n    Timeout: 0, // 单位毫秒，0 代表不设置超时时间\r\n    CorrectClockSkew: true,\r\n    SystemClockOffset: 0, // 单位毫秒，ms\r\n    UploadCheckContentMd5: false,\r\n    UploadQueueSize: 10000,\r\n    UploadAddMetaMd5: false,\r\n    UploadIdCacheLimit: 50,\r\n    UseAccelerate: false,\r\n    ForceSignHost: true, // 默认将host加入签名计算，关闭后可能导致越权风险，建议保持为true\r\n    EnableTracker: false, // 默认关闭上报\r\n    DeepTracker: false, // 上报时是否对每个分块上传做单独上报\r\n    TrackerDelay: 5000, // 周期性上报，单位毫秒。0代表实时上报\r\n    CustomId: '', // 自定义上报id\r\n};\r\n\r\n// 对外暴露的类\r\nvar COS = function (options) {\r\n    this.options = util.extend(util.clone(defaultOptions), options || {});\r\n    this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\r\n    this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\r\n    this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\r\n    this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\r\n    this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\r\n    this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\r\n    this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\r\n    this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\r\n    this.options.Timeout = Math.max(0, this.options.Timeout);\r\n    if (this.options.AppId) {\r\n        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\r\n    }\r\n    if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\r\n        console.error('error: SecretId格式错误，请检查');\r\n        console.error('error: SecretId format is incorrect. Please check');\r\n    }\r\n    if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\r\n      console.error('error: SecretKey格式错误，请检查');\r\n      console.error('error: SecretKey format is incorrect. Please check');\r\n    }\r\n    if (util.isNode()) {\r\n      console.warn('warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629');\r\n      console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\r\n    }\r\n    event.init(this);\r\n    task.init(this);\r\n};\r\n\r\nbase.init(COS, task);\r\nadvance.init(COS, task);\r\n\r\nCOS.util = {\r\n    md5: util.md5,\r\n    xml2json: util.xml2json,\r\n    json2xml: util.json2xml,\r\n};\r\nCOS.getAuthorization = util.getAuth;\r\nCOS.version = pkg.version;\r\n\r\nmodule.exports = COS;\r\n","var initEvent = function (cos) {\n    var listeners = {};\n    var getList = function (action) {\n        !listeners[action] && (listeners[action] = []);\n        return listeners[action];\n    };\n    cos.on = function (action, callback) {\n        if (action === 'task-list-update') {\n            console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n        }\n        getList(action).push(callback);\n    };\n    cos.off = function (action, callback) {\n        var list = getList(action);\n        for (var i = list.length - 1; i >= 0; i--) {\n            callback === list[i] && list.splice(i, 1);\n        }\n    };\n    cos.emit = function (action, data) {\n        var list = getList(action).map(function (cb) {\n            return cb;\n        });\n        for (var i = 0; i < list.length; i++) {\n            list[i](data);\n        }\n    };\n};\n\nvar EventProxy = function () {\n    initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;","var util = require('./util');\r\n\r\n// 按照文件特征值，缓存 UploadId\r\nvar cacheKey = 'cos_sdk_upload_cache';\r\nvar expires = 30 * 24 * 3600;\r\nvar cache;\r\nvar timer;\r\n\r\nvar getCache = function () {\r\n    try {\r\n        var val = JSON.parse(localStorage.getItem(cacheKey));\r\n    } catch (e) {\r\n    }\r\n    if (!val) val = [];\r\n    cache = val;\r\n};\r\nvar setCache = function () {\r\n    try {\r\n        if (cache.length) localStorage.setItem(cacheKey, JSON.stringify(cache));\r\n        else localStorage.removeItem(cacheKey);\r\n    } catch (e) {\r\n    }\r\n};\r\n\r\nvar init = function () {\r\n    if (cache) return;\r\n    getCache.call(this);\r\n    // 清理太老旧的数据\r\n    var changed = false;\r\n    var now = Math.round(Date.now() / 1000);\r\n    for (var i = cache.length - 1; i >= 0; i--) {\r\n        var mtime = cache[i][2];\r\n        if (!mtime || mtime + expires < now) {\r\n            cache.splice(i, 1);\r\n            changed = true;\r\n        }\r\n    }\r\n    changed && setCache();\r\n};\r\n\r\n// 把缓存存到本地\r\nvar save = function () {\r\n    if (timer) return;\r\n    timer = setTimeout(function () {\r\n        setCache();\r\n        timer = null;\r\n    }, 400);\r\n};\r\n\r\nvar mod = {\r\n    using: {},\r\n    // 标记 UploadId 正在使用\r\n    setUsing: function (uuid) {\r\n        mod.using[uuid] = true;\r\n    },\r\n    // 标记 UploadId 已经没在使用\r\n    removeUsing: function (uuid) {\r\n        delete mod.using[uuid];\r\n    },\r\n    // 用上传参数生成哈希值\r\n    getFileId: function (file, ChunkSize, Bucket, Key) {\r\n        if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\r\n            return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\r\n        } else {\r\n            return null;\r\n        }\r\n    },\r\n    // 用上传参数生成哈希值\r\n    getCopyFileId: function (copySource, sourceHeaders, ChunkSize, Bucket, Key) {\r\n        var size = sourceHeaders['content-length'];\r\n        var etag = sourceHeaders.etag || '';\r\n        var lastModified = sourceHeaders['last-modified'];\r\n        if (copySource && ChunkSize) {\r\n            return util.md5([copySource, size, etag, lastModified, ChunkSize, Bucket, Key].join('::'));\r\n        } else {\r\n            return null;\r\n        }\r\n    },\r\n    // 获取文件对应的 UploadId 列表\r\n    getUploadIdList: function (uuid) {\r\n        if (!uuid) return null;\r\n        init.call(this);\r\n        var list = [];\r\n        for (var i = 0; i < cache.length; i++) {\r\n            if (cache[i][0] === uuid)\r\n                list.push(cache[i][1]);\r\n        }\r\n        return list.length ? list : null;\r\n    },\r\n    // 缓存 UploadId\r\n    saveUploadId: function (uuid, UploadId, limit) {\r\n        init.call(this);\r\n        if (!uuid) return;\r\n        // 清理没用的 UploadId，js 文件没有 FilePath ，只清理相同记录\r\n        for (var i = cache.length - 1; i >= 0; i--) {\r\n            var item = cache[i];\r\n            if (item[0] === uuid && item[1] === UploadId) {\r\n                cache.splice(i, 1);\r\n            }\r\n        }\r\n        cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\r\n        if (cache.length > limit) cache.splice(limit);\r\n        save();\r\n    },\r\n    // UploadId 已用完，移除掉\r\n    removeUploadId: function (UploadId) {\r\n        init.call(this);\r\n        delete mod.using[UploadId];\r\n        for (var i = cache.length - 1; i >= 0; i--) {\r\n            if (cache[i][1] === UploadId) cache.splice(i, 1)\r\n        }\r\n        save();\r\n    },\r\n};\r\n\r\nmodule.exports = mod;\r\n","var session = require('./session');\r\nvar util = require('./util');\r\n\r\nvar originApiMap = {};\r\nvar transferToTaskMethod = function (apiMap, apiName) {\r\n    originApiMap[apiName] = apiMap[apiName];\r\n    apiMap[apiName] = function (params, callback) {\r\n        if (params.SkipTask) {\r\n            originApiMap[apiName].call(this, params, callback);\r\n        } else {\r\n            this._addTask(apiName, params, callback);\r\n        }\r\n    };\r\n};\r\n\r\nvar initTask = function (cos) {\r\n\r\n    var queue = [];\r\n    var tasks = {};\r\n    var uploadingFileCount = 0;\r\n    var nextUploadIndex = 0;\r\n\r\n    // 接口返回简略的任务信息\r\n    var formatTask = function (task) {\r\n        var t = {\r\n            id: task.id,\r\n            Bucket: task.Bucket,\r\n            Region: task.Region,\r\n            Key: task.Key,\r\n            FilePath: task.FilePath,\r\n            state: task.state,\r\n            loaded: task.loaded,\r\n            size: task.size,\r\n            speed: task.speed,\r\n            percent: task.percent,\r\n            hashPercent: task.hashPercent,\r\n            error: task.error,\r\n        };\r\n        if (task.FilePath) t.FilePath = task.FilePath;\r\n        if (task._custom) t._custom = task._custom; // 控制台使用\r\n        return t;\r\n    };\r\n\r\n    var emitListUpdate = (function () {\r\n        var timer;\r\n        var emit = function () {\r\n            timer = 0;\r\n            cos.emit('task-list-update', {list: util.map(queue, formatTask)});\r\n            cos.emit('list-update', {list: util.map(queue, formatTask)});\r\n        };\r\n        return function () {\r\n            if (!timer) timer = setTimeout(emit);\r\n        }\r\n    })();\r\n\r\n    var clearQueue = function () {\r\n        if (queue.length <= cos.options.UploadQueueSize) return;\r\n        for (var i = 0;\r\n             i < nextUploadIndex && // 小于当前操作的 index 才清理\r\n             i < queue.length && // 大于队列才清理\r\n             queue.length > cos.options.UploadQueueSize // 如果还太多，才继续清理\r\n            ;) {\r\n            var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\r\n            if (!queue[i] || !isActive) {\r\n                tasks[queue[i].id] && (delete tasks[queue[i].id]);\r\n                queue.splice(i, 1);\r\n                nextUploadIndex--;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        emitListUpdate();\r\n    };\r\n\r\n    var startNextTask = function () {\r\n        // 检查是否允许增加执行进程\r\n        if (uploadingFileCount >= cos.options.FileParallelLimit) return;\r\n        // 跳过不可执行的任务\r\n        while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') nextUploadIndex++;\r\n        // 检查是否已遍历结束\r\n        if (nextUploadIndex >= queue.length) return;\r\n        // 上传该遍历到的任务\r\n        var task = queue[nextUploadIndex];\r\n        nextUploadIndex++;\r\n        uploadingFileCount++;\r\n        task.state = 'checking';\r\n        task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\r\n        !task.params.UploadData && (task.params.UploadData = {});\r\n        var apiParams = util.formatParams(task.api, task.params);\r\n        originApiMap[task.api].call(cos, apiParams, function (err, data) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            if (task.state === 'checking' || task.state === 'uploading') {\r\n                task.state = err ? 'error' : 'success';\r\n                err && (task.error = err);\r\n                uploadingFileCount--;\r\n                emitListUpdate();\r\n                startNextTask();\r\n                task.callback && task.callback(err, data);\r\n                if (task.state === 'success') {\r\n                    if (task.params) {\r\n                        delete task.params.UploadData;\r\n                        delete task.params.Body;\r\n                        delete task.params;\r\n                    }\r\n                    delete task.callback;\r\n                }\r\n            }\r\n            clearQueue();\r\n        });\r\n        emitListUpdate();\r\n        // 异步执行下一个任务\r\n        setTimeout(startNextTask);\r\n    };\r\n\r\n    var killTask = function (id, switchToState) {\r\n        var task = tasks[id];\r\n        if (!task) return;\r\n        var waiting = task && task.state === 'waiting';\r\n        var running = task && (task.state === 'checking' || task.state === 'uploading');\r\n        if (switchToState === 'canceled' && task.state !== 'canceled' ||\r\n            switchToState === 'paused' && waiting ||\r\n            switchToState === 'paused' && running) {\r\n            if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\r\n                console.error('stream not support pause');\r\n                return;\r\n            }\r\n            task.state = switchToState;\r\n            cos.emit('inner-kill-task', {TaskId: id, toState: switchToState});\r\n            try {\r\n                var UploadId = task && task.params && task.params.UploadData.UploadId\r\n            } catch(e) {}\r\n            if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId)\r\n            emitListUpdate();\r\n            if (running) {\r\n                uploadingFileCount--;\r\n                startNextTask();\r\n            }\r\n            if (switchToState === 'canceled') {\r\n                if (task.params) {\r\n                    delete task.params.UploadData;\r\n                    delete task.params.Body;\r\n                    delete task.params;\r\n                }\r\n                delete task.callback;\r\n            }\r\n        }\r\n        clearQueue();\r\n    };\r\n\r\n    cos._addTasks = function (taskList) {\r\n        util.each(taskList, function (task) {\r\n            cos._addTask(task.api, task.params, task.callback, true);\r\n        });\r\n        emitListUpdate();\r\n    };\r\n\r\n    var isTaskReadyWarning = true;\r\n    cos._addTask = function (api, params, callback, ignoreAddEvent) {\r\n\r\n        // 复制参数对象\r\n        params = util.formatParams(api, params);\r\n\r\n        // 生成 id\r\n        var id = util.uuid();\r\n        params.TaskId = id;\r\n        params.onTaskReady && params.onTaskReady(id);\r\n        if (params.TaskReady) {\r\n            params.TaskReady(id);\r\n            isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\r\n            isTaskReadyWarning = false;\r\n        }\r\n\r\n        var task = {\r\n            // env\r\n            params: params,\r\n            callback: callback,\r\n            api: api,\r\n            index: queue.length,\r\n            // task\r\n            id: id,\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            FilePath: params.FilePath || '',\r\n            state: 'waiting',\r\n            loaded: 0,\r\n            size: 0,\r\n            speed: 0,\r\n            percent: 0,\r\n            hashPercent: 0,\r\n            error: null,\r\n            _custom: params._custom,\r\n        };\r\n        var onHashProgress = params.onHashProgress;\r\n        params.onHashProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.hashPercent = info.percent;\r\n            onHashProgress && onHashProgress(info);\r\n            emitListUpdate();\r\n        };\r\n        var onProgress = params.onProgress;\r\n        params.onProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.state === 'checking' && (task.state = 'uploading');\r\n            task.loaded = info.loaded;\r\n            task.speed = info.speed;\r\n            task.percent = info.percent;\r\n            onProgress && onProgress(info);\r\n            emitListUpdate();\r\n        };\r\n\r\n        // 异步获取 filesize\r\n        util.getFileSize(api, params, function (err, size) {\r\n            // 开始处理上传\r\n            if (err) return callback(util.error(err)); // 如果获取大小出错，不加入队列\r\n            // 获取完文件大小再把任务加入队列\r\n            tasks[id] = task;\r\n            queue.push(task);\r\n            task.size = size;\r\n            !ignoreAddEvent && emitListUpdate();\r\n            startNextTask();\r\n            clearQueue();\r\n        });\r\n        return id;\r\n    };\r\n    cos._isRunningTask = function (id) {\r\n        var task = tasks[id];\r\n        return !!(task && (task.state === 'checking' || task.state === 'uploading'));\r\n    };\r\n    cos.getTaskList = function () {\r\n        return util.map(queue, formatTask);\r\n    };\r\n    cos.cancelTask = function (id) {\r\n        killTask(id, 'canceled');\r\n    };\r\n    cos.pauseTask = function (id) {\r\n        killTask(id, 'paused');\r\n    };\r\n    cos.restartTask = function (id) {\r\n        var task = tasks[id];\r\n        if (task && (task.state === 'paused' || task.state === 'error')) {\r\n            task.state = 'waiting';\r\n            emitListUpdate();\r\n            nextUploadIndex = Math.min(nextUploadIndex, task.index);\r\n            startNextTask();\r\n        }\r\n    };\r\n    cos.isUploadRunning = function () {\r\n        return uploadingFileCount || nextUploadIndex < queue.length;\r\n    };\r\n\r\n};\r\n\r\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\r\nmodule.exports.init = initTask;\r\n","\r\nconst pkg = require('../package.json');\r\nconst BeaconAction = require('../lib/beacon.min');\r\nlet beacon = null;\r\n\r\nconst getBeacon = (delay) => {\r\n  if (!beacon) {\r\n    beacon = new BeaconAction({\r\n      appkey: \"0AND0VEVB24UBGDU\",\r\n      versionCode: pkg.version,\r\n      channelID: 'js_sdk', //渠道,选填\r\n      openid: 'openid', // 用户id, 选填\r\n      unionid: 'unid',//用户unionid , 类似idfv,选填\r\n      strictMode: false,//严苛模式开关, 打开严苛模式会主动抛出异常, 上线请务必关闭!!!\r\n      delay, // 普通事件延迟上报时间(单位毫秒), 默认1000(1秒),选填\r\n      sessionDuration: 60 * 1000,// session变更的时间间隔, 一个用户持续30分钟(默认值)没有任何上报则算另一次 session,每变更一次session上报一次启动事件(rqd_applaunched),使用毫秒(ms),最小值30秒,选填\r\n    });\r\n  }\r\n  return beacon;\r\n};\r\n\r\nconst utils = {\r\n    // 生成uid 每个链路对应唯一一条uid\r\n    getUid() {\r\n      var S4 = function () {\r\n          return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n      };\r\n      return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n    },\r\n    // 获取网络类型\r\n    getNetType() {\r\n      if (typeof navigator === 'object') {\r\n        const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\r\n        return connection?.type || connection?.effectiveType || 'unknown';\r\n      }\r\n      return 'unknown';\r\n    },\r\n    // 获取pc端操作系统类型\r\n    getOsType() {\r\n      if (typeof navigator !== 'object') {\r\n        return 'unknown os';\r\n      }\r\n      var agent = navigator.userAgent.toLowerCase();\r\n      var isMac = /macintosh|mac os x/i.test(navigator.userAgent);\r\n      if (agent.indexOf(\"win32\") >= 0 || agent.indexOf(\"wow32\") >= 0) {\r\n          return 'win32';\r\n      }\r\n      if (agent.indexOf(\"win64\") >= 0 || agent.indexOf(\"wow64\") >= 0) {\r\n          return 'win64';\r\n      }\r\n      if (isMac) {\r\n          return 'mac';\r\n      }\r\n      return 'unknown os';\r\n    },\r\n    isMobile() {\r\n      const exp = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\r\n      if (typeof navigator === 'object' && navigator.userAgent.match(exp)) {\r\n        return true; // 移动端\r\n      }\r\n      return false; // PC端\r\n    },\r\n    isAndroid() {\r\n      const exp = /(Android|Adr|Linux)/i;\r\n      if (typeof navigator === 'object' && navigator.userAgent.match(exp)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    isIOS() {\r\n      const exp = /(iPhone|iPod|iPad|iOS)/i;\r\n      if (typeof navigator === 'object' && navigator.userAgent.match(exp)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    isOtherMobile() {\r\n      return isMobile && !isAndroid && !isIOS;\r\n    },\r\n    // 获取浏览器类型\r\n    getDeviceName() {\r\n      if (typeof navigator !== 'object') {\r\n        return 'unknown device';\r\n      }\r\n      const explorer = navigator.userAgent.toLowerCase();\r\n      // 腾讯会议内置浏览器\r\n      if (explorer.includes('app/tencent_wemeet')) {\r\n        return 'tencent_wemeet';\r\n      }\r\n      // 遨游浏览器\r\n      if (explorer.indexOf('maxthon') >= 0) {\r\n        const match = explorer.match(/maxthon\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `傲游浏览器 ${ver}`.trim();\r\n      }\r\n      // QQ浏览器\r\n      if (explorer.indexOf('qqbrowser') >= 0) {\r\n        const match = explorer.match(/qqbrowser\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `QQ浏览器 ${ver}`.trim();\r\n      }\r\n      // 搜狗浏览器\r\n      if (explorer.indexOf('se 2.x') >= 0) {\r\n        return '搜狗浏览器';\r\n      }\r\n      // 微信浏览器\r\n      if (explorer.indexOf('wxwork') >= 0) {\r\n        return '微信内置浏览器';\r\n      }\r\n      // ie\r\n      if (explorer.indexOf('msie') >= 0) {\r\n        const match = explorer.match(/msie ([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `IE ${ver}`.trim();\r\n      }\r\n      // firefox\r\n      if (explorer.indexOf('firefox') >= 0) {\r\n        const match = explorer.match(/firefox\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `Firefox ${ver}`.trim();\r\n      }\r\n      // Chrome\r\n      if (explorer.indexOf('chrome') >= 0) {\r\n        const match = explorer.match(/chrome\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `Chrome ${ver}`.trim();\r\n      }\r\n      // Opera\r\n      if (explorer.indexOf('opera') >= 0) {\r\n        const match = explorer.match(/opera.([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `Opera ${ver}`.trim();\r\n      }\r\n      // Safari\r\n      if (explorer.indexOf('safari') >= 0) {\r\n        const match = explorer.match(/version\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `Safari ${ver}`.trim();\r\n      }\r\n      if (explorer.indexOf('edge') >= 0) {\r\n        const match = explorer.match(/edge\\/([\\d.]+)/);\r\n        const ver = (match && match[1]) || '';\r\n        return `edge ${ver}`.trim();\r\n      }\r\n      return explorer.substr(0, 200);\r\n    },\r\n};\r\n\r\nconst constant = {\r\n  isMobile: utils.isMobile(),\r\n  isBrowser: !utils.isMobile(),\r\n  mobileOsType: utils.isAndroid() ? 'android' : utils.isIOS ? 'ios' : 'other_mobile',\r\n  pcOsType: utils.getOsType(),\r\n};\r\n\r\n// 设备信息，只取一次值\r\nconst deviceInfo = {\r\n  // ↓上报项\r\n  deviceType: constant.isMobile ? 'mobile' : constant.isBrowser ? 'browser' : 'unknown',\r\n  devicePlatform: constant.isMobile ? constant.mobileOsType : constant.pcOsType,\r\n  deviceName: utils.getDeviceName(), //浏览器名称\r\n};\r\n\r\n// 分块上传原子方法\r\nconst sliceUploadMethods = ['multipartInit', 'multipartUpload', 'multipartComplete', 'multipartList', 'multipartListPart', 'multipartAbort'];\r\n\r\nconst uploadApi = ['putObject', 'postObject', 'appendObject', 'sliceUploadFile', 'uploadFile', 'uploadFiles'].concat(sliceUploadMethods);\r\nconst downloadApi = ['getObject'];\r\n\r\nfunction getEventCode(apiName) {\r\n  if (uploadApi.includes(apiName)) {\r\n    return 'cos_upload';\r\n  }\r\n  if (downloadApi.includes(apiName)) {\r\n    return 'cos_download';\r\n  }\r\n  return 'base_service';\r\n}\r\n\r\n// 上报参数驼峰改下划线\r\nfunction camel2underline(key) {\r\n  return key.replace(/([A-Z])/g,\"_$1\").toLowerCase();\r\n}\r\nfunction formatParams(params) {\r\n  const formattedParams = {};\r\n  const allReporterKeys = ['tracePlatform', 'cossdkVersion', 'region', 'networkType', 'host', 'accelerate', 'requestPath', 'size', 'httpMd5',\r\n  'httpSign', 'httpFull', 'name', 'result', 'tookTime', 'errorNode', 'errorCode', 'errorMessage', 'errorRequestId', 'errorStatusCode', 'errorServiceName',\r\n  'errorType', 'traceId', 'bucket', 'appid', 'partNumber', 'retryTimes', 'reqUrl', 'customId', 'fullError',\r\n  'deviceType', 'devicePlatform', 'deviceName'];\r\n  const successKeys = ['tracePlatform', 'cossdkVersion', 'region', 'bucket', 'appid', 'networkType', 'host', 'accelerate', 'requestPath',\r\n    'partNumber', 'size', 'name', 'result', 'tookTime', 'errorRequestId', 'retryTimes', 'reqUrl', 'customId',\r\n    'deviceType', 'devicePlatform', 'deviceName'];\r\n  // 需要上报的参数字段\r\n  const reporterKeys = params.result === 'Success' ? successKeys : allReporterKeys;\r\n  for (let key in params) {\r\n    if (!reporterKeys.includes(key)) continue;\r\n    const formattedKey = camel2underline(key);\r\n    formattedParams[formattedKey] = params[key];\r\n  }\r\n  return formattedParams;\r\n}\r\n\r\n// 链路追踪器\r\nclass Tracker {\r\n  constructor(opt) {\r\n    const { parent, traceId, bucket, region, apiName, fileKey, fileSize, accelerate, customId, delay, deepTracker } = opt;\r\n    const appid = bucket && bucket.substr(bucket.lastIndexOf('-') + 1) || '';\r\n    this.parent = parent;\r\n    this.deepTracker = deepTracker;\r\n    // 上报用到的字段\r\n    this.params = {\r\n      // 通用字段\r\n      cossdkVersion: pkg.version,\r\n      region,\r\n      networkType: '',\r\n      host: '',\r\n      accelerate: accelerate ? 'Y' : 'N',\r\n      requestPath: fileKey || '',\r\n      size: fileSize || -1,\r\n      httpMd5: 0, // MD5耗时\r\n      httpSign: 0, // 计算签名耗时\r\n      httpFull: 0, // http请求耗时\r\n      name: apiName || '',\r\n      result: '', // sdk api调用结果Success、Fail\r\n      tookTime: 0, // 总耗时\r\n      errorNode: '',\r\n      errorCode: '',\r\n      errorMessage: '',\r\n      errorRequestId: '',\r\n      errorStatusCode: 0,\r\n      errorServiceName: '',\r\n\r\n      // js补充字段\r\n      tracePlatform: 'cos-js-sdk-v5', // 上报平台=js\r\n      traceId: traceId || utils.getUid(), // 每条上报唯一标识\r\n      bucket,\r\n      appid,\r\n      partNumber: 0, // 分块上传编号\r\n      retryTimes: 0, // sdk内部发起的请求重试\r\n      reqUrl: '', // 请求url\r\n      customId: customId || '', // 业务id\r\n      deviceType: deviceInfo.deviceType, // 设备类型 移动端浏览器、web浏览器\r\n      devicePlatform: deviceInfo.devicePlatform,\r\n      deviceName: deviceInfo.deviceName,\r\n\r\n      md5StartTime: 0, // md5计算开始时间\r\n      md5EndTime: 0, // md5计算结束时间\r\n      signStartTime: 0, // 计算签名开始时间\r\n      signEndTime: 0, // 计算签名结束时间\r\n      httpStartTime: 0, // 发起网络请求开始时间\r\n      httpEndTime: 0, // 网路请求结束时间\r\n      startTime: new Date().getTime(), // sdk api调用起始时间，不是纯网络耗时\r\n      endTime: 0, //  sdk api调用结束时间，不是纯网络耗时\r\n    };\r\n    this.beacon = getBeacon(delay);\r\n  }\r\n\r\n  // 格式化sdk回调\r\n  formatResult(err, data) {\r\n    const now = new Date().getTime();\r\n    const tookTime = now - this.params.startTime;\r\n    const networkType = utils.getNetType();\r\n    const errorCode = err ? (err?.code || err?.error?.code || err?.error?.Code) : '';\r\n    const errorMessage = err ? (err?.message || err?.error?.message || err?.error?.Message) : '';\r\n    const errorServiceName = err ? (err?.resource || err?.error?.resource || err?.error?.Resource) : '';\r\n    const errorStatusCode = err ? err?.statusCode : data.statusCode;\r\n    const requestId = err ? (err?.headers && err?.headers['x-cos-request-id']) : (data?.headers && data?.headers['x-cos-request-id']);\r\n    const errorType = err ? (requestId ? 'Server' : 'Client'): '';\r\n    Object.assign(this.params, {\r\n      tookTime,\r\n      networkType,\r\n      httpMd5: this.params.md5EndTime - this.params.md5StartTime,\r\n      httpSign: this.params.signEndTime - this.params.signStartTime,\r\n      httpFull: this.params.httpEndTime - this.params.httpStartTime,\r\n      result: err ? 'Fail' : 'Success',\r\n      errorType,\r\n      errorCode,\r\n      errorStatusCode,\r\n      errorMessage,\r\n      errorServiceName,\r\n      errorRequestId: requestId,\r\n    });\r\n    if (err && (!errorCode || !errorMessage)) {\r\n      // 暂存全量err一段时间 观察是否所有err格式都可被解析\r\n      this.params.fullError = err ? JSON.stringify(err) : '';\r\n    }\r\n    if (this.params.name === 'getObject') {\r\n      this.params.size = data ? (data.headers && data.headers['content-length']) : -1;\r\n    }\r\n    if (this.params.reqUrl) {\r\n      try {\r\n        const execRes = /^http(s)?:\\/\\/(.*?)\\//.exec(this.params.reqUrl);\r\n        this.params.host = execRes[2];\r\n      } catch (e) {\r\n        this.params.host = this.params.reqUrl;\r\n      }\r\n    }\r\n    this.sendEvents();\r\n  }\r\n\r\n  // 设置当前链路的参数\r\n  setParams(params) {\r\n    Object.assign(this.params, params);\r\n  }\r\n\r\n  // 使用灯塔延时上报\r\n  sendEvents() {\r\n    // DeepTracker模式下才会上报分块上传内部细节\r\n    if (sliceUploadMethods.includes(this.params.name) && !this.deepTracker) {\r\n      return;\r\n    }\r\n    const eventCode = getEventCode(this.params.name);\r\n    const formattedParams = formatParams(this.params);\r\n    if (this.params.delay === 0) {\r\n      // 实时上报\r\n      this.beacon.onDirectUserAction(eventCode, formattedParams);\r\n    } else {\r\n      // 周期性上报\r\n      this.beacon.onUserAction(eventCode, formattedParams);\r\n    }\r\n    // 上报结束即销毁\r\n    this.destroy();\r\n  }\r\n\r\n  // 生成子实例，与父所属一个链路，可用于分块上传内部流程上报单个分块操作\r\n  generateSubTracker(subParams) {\r\n    Object.assign(subParams, {\r\n      parent: this,\r\n      deepTracker: this.deepTracker,\r\n      traceId: this.params.traceId,\r\n      bucket: this.params.bucket,\r\n      region: this.params.region,\r\n      fileKey: this.params.requestPath,\r\n      customId: this.params.customId,\r\n      delay: this.params.delay,\r\n    });\r\n    return new Tracker(subParams);\r\n  }\r\n\r\n  // 链路结束后销毁实例\r\n  destroy() {\r\n    this.beacon = null;\r\n    this.params = {};\r\n  }\r\n}\r\n\r\nmodule.exports = Tracker;","'use strict';\r\n\r\nvar md5 = require('../lib/md5');\r\nvar CryptoJS = require('../lib/crypto');\r\nvar xml2json = require('../lib/xml2json');\r\nvar json2xml = require('../lib/json2xml');\r\nvar Tracker = require('./tracker');\r\n\r\nfunction camSafeUrlEncode(str) {\r\n    return encodeURIComponent(str)\r\n        .replace(/!/g, '%21')\r\n        .replace(/'/g, '%27')\r\n        .replace(/\\(/g, '%28')\r\n        .replace(/\\)/g, '%29')\r\n        .replace(/\\*/g, '%2A');\r\n}\r\n\r\nfunction getObjectKeys(obj, forKey) {\r\n    var list = [];\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\r\n        }\r\n    }\r\n    return list.sort(function (a, b) {\r\n        a = a.toLowerCase();\r\n        b = b.toLowerCase();\r\n        return a === b ? 0 : (a > b ? 1 : -1);\r\n    });\r\n};\r\n\r\n/**\r\n * obj转为string\r\n * @param  {Object}  obj                需要转的对象，必须\r\n * @param  {Boolean} lowerCaseKey       key是否转为小写，默认false，非必须\r\n * @return {String}  data               返回字符串\r\n */\r\nvar obj2str = function (obj, lowerCaseKey) {\r\n    var i, key, val;\r\n    var list = [];\r\n    var keyList = getObjectKeys(obj);\r\n    for (i = 0; i < keyList.length; i++) {\r\n        key = keyList[i];\r\n        val = (obj[key] === undefined || obj[key] === null) ? '' : ('' + obj[key]);\r\n        key = lowerCaseKey? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\r\n        val = camSafeUrlEncode(val) || '';\r\n        list.push(key + '=' + val)\r\n    }\r\n    return list.join('&');\r\n};\r\n\r\n\r\n// 可以签入签名的headers\r\nvar signHeaders = ['content-disposition', 'content-encoding', 'content-length', 'content-md5',\r\n    'expect', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since',\r\n    'origin', 'range', 'response-cache-control', 'response-content-disposition', 'response-content-encoding',\r\n    'response-content-language', 'response-content-type', 'response-expires', 'transfer-encoding', 'versionid'];\r\n\r\nvar getSignHeaderObj = function (headers) {\r\n    var signHeaderObj = {};\r\n    for (var i in headers) {\r\n        var key = i.toLowerCase();\r\n        if (key.indexOf('x-cos-') > -1 || signHeaders.indexOf(key) > -1) {\r\n            signHeaderObj[i] = headers[i];\r\n        }\r\n    }\r\n    return signHeaderObj;\r\n}\r\n\r\n//测试用的key后面可以去掉\r\nvar getAuth = function (opt) {\r\n    opt = opt || {};\r\n\r\n    var SecretId = opt.SecretId;\r\n    var SecretKey = opt.SecretKey;\r\n    var KeyTime = opt.KeyTime;\r\n    var method = (opt.method || opt.Method || 'get').toLowerCase();\r\n    var queryParams = clone(opt.Query || opt.params || {});\r\n    var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\r\n\r\n    var Key = opt.Key || '';\r\n    var pathname;\r\n    if (opt.UseRawKey) {\r\n        pathname = opt.Pathname || opt.pathname || '/' + Key;\r\n    } else {\r\n        pathname = opt.Pathname || opt.pathname || Key;\r\n        pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\r\n    }\r\n\r\n    // ForceSignHost明确传入false才不加入host签名\r\n    var forceSignHost = opt.ForceSignHost === false ? false : true;\r\n\r\n    // 如果有传入存储桶且需要强制签名，那么签名默认加 Host 参与计算，避免跨桶访问\r\n    if (!headers.Host && !headers.host && opt.Bucket && opt.Region && forceSignHost) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\r\n\r\n    if (!SecretId) throw new Error('missing param SecretId');\r\n    if (!SecretKey) throw new Error('missing param SecretKey');\r\n\r\n    // 签名有效起止时间\r\n    var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\r\n    var exp = now;\r\n\r\n    var Expires = opt.Expires || opt.expires;\r\n    if (Expires === undefined) {\r\n        exp += 900; // 签名过期时间为当前 + 900s\r\n    } else {\r\n        exp += (Expires * 1) || 0;\r\n    }\r\n\r\n    // 要用到的 Authorization 参数列表\r\n    var qSignAlgorithm = 'sha1';\r\n    var qAk = SecretId;\r\n    var qSignTime = KeyTime || now + ';' + exp;\r\n    var qKeyTime = KeyTime || now + ';' + exp;\r\n    var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\r\n    var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase();\r\n\r\n    // 签名算法说明文档：https://www.qcloud.com/document/product/436/7778\r\n    // 步骤一：计算 SignKey\r\n    var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\r\n\r\n    // 步骤二：构成 FormatString\r\n    var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n');\r\n\r\n    // 步骤三：计算 StringToSign\r\n    var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\r\n\r\n    // 步骤四：计算 Signature\r\n    var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\r\n\r\n    // 步骤五：构造 Authorization\r\n    var authorization = [\r\n        'q-sign-algorithm=' + qSignAlgorithm,\r\n        'q-ak=' + qAk,\r\n        'q-sign-time=' + qSignTime,\r\n        'q-key-time=' + qKeyTime,\r\n        'q-header-list=' + qHeaderList,\r\n        'q-url-param-list=' + qUrlParamList,\r\n        'q-signature=' + qSignature\r\n    ].join('&');\r\n\r\n    return authorization;\r\n\r\n};\r\n\r\nvar readIntBE = function (chunk, size, offset) {\r\n    var bytes = size / 8;\r\n    var buf = chunk.slice(offset, offset + bytes);\r\n    new Uint8Array(buf).reverse();\r\n    return new ({8: Uint8Array, 16: Uint16Array, 32: Uint32Array})[size](buf)[0];\r\n};\r\nvar buf2str = function (chunk, start, end, isUtf8) {\r\n    var buf = chunk.slice(start, end);\r\n    var str = '';\r\n    new Uint8Array(buf).forEach(function (charCode) {\r\n        str += String.fromCharCode(charCode)\r\n    });\r\n    if (isUtf8) str = decodeURIComponent(escape(str));\r\n    return str;\r\n};\r\nvar parseSelectPayload = function (chunk) {\r\n    var header = {};\r\n    var body = buf2str(chunk);\r\n    var result = {records:[]};\r\n    while (chunk.byteLength) {\r\n        var totalLength = readIntBE(chunk, 32, 0);\r\n        var headerLength = readIntBE(chunk, 32, 4);\r\n        var payloadRestLength = totalLength - headerLength - 16;\r\n        var offset = 0;\r\n        var content;\r\n        chunk = chunk.slice(12);\r\n        // 获取 Message 的 header 信息\r\n        while (offset < headerLength) {\r\n            var headerNameLength = readIntBE(chunk, 8, offset);\r\n            var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\r\n            var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\r\n            var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\r\n            header[headerName] = headerValue;\r\n            offset += headerNameLength + 4 + headerValueLength;\r\n        }\r\n        if (header[':event-type'] === 'Records') {\r\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\r\n            result.records.push(content);\r\n        } else if (header[':event-type'] === 'Stats') {\r\n            content = buf2str(chunk, offset, offset + payloadRestLength, true);\r\n            result.stats = util.xml2json(content).Stats;\r\n        } else if (header[':event-type'] === 'error') {\r\n            var errCode = header[':error-code'];\r\n            var errMessage = header[':error-message'];\r\n            var err = new Error(errMessage);\r\n            err.message = errMessage;\r\n            err.name = err.code = errCode;\r\n            result.error = err;\r\n        } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {\r\n            // do nothing\r\n        }\r\n        chunk = chunk.slice(offset + payloadRestLength + 4);\r\n    }\r\n    return {\r\n        payload: result.records.join(''),\r\n        body: body,\r\n    };\r\n};\r\n\r\nvar getSourceParams = function (source) {\r\n    var parser = this.options.CopySourceParser;\r\n    if (parser) return parser(source);\r\n    var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc)?\\.([^.]+)\\.myqcloud\\.com\\/(.+)$/);\r\n    if (!m) return null;\r\n    return { Bucket: m[1], Region: m[3], Key: m[4] };\r\n};\r\n\r\nvar noop = function () {\r\n\r\n};\r\n\r\n// 清除对象里值为的 undefined 或 null 的属性\r\nvar clearKey = function (obj) {\r\n    var retObj = {};\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\r\n            retObj[key] = obj[key];\r\n        }\r\n    }\r\n    return retObj;\r\n};\r\n\r\nvar readAsBinaryString = function (blob, callback) {\r\n    var readFun;\r\n    var fr = new FileReader();\r\n    if (FileReader.prototype.readAsBinaryString) {\r\n        readFun = FileReader.prototype.readAsBinaryString;\r\n        fr.onload = function () {\r\n            callback(this.result);\r\n        };\r\n    } else if (FileReader.prototype.readAsArrayBuffer) { // 在 ie11 添加 readAsBinaryString 兼容\r\n        readFun = function (fileData) {\r\n            var binary = \"\";\r\n            var pt = this;\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                var bytes = new Uint8Array(reader.result);\r\n                var length = bytes.byteLength;\r\n                for (var i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i]);\r\n                }\r\n                callback(binary);\r\n            };\r\n            reader.readAsArrayBuffer(fileData);\r\n        };\r\n    } else {\r\n        console.error('FileReader not support readAsBinaryString');\r\n    }\r\n    readFun.call(fr, blob);\r\n};\r\n\r\nvar fileSliceNeedCopy = (function () {\r\n    var compareVersion = function(a, b) {\r\n        a = a.split('.');\r\n        b = b.split('.');\r\n        for (var i = 0; i < b.length; i++) {\r\n            if (a[i] !== b[i]) {\r\n                return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var check = function (ua) {\r\n        if (!ua) return false;\r\n        var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\r\n        var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\r\n        var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\r\n        var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0\r\n            && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0\r\n            && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\r\n        return need;\r\n    };\r\n    return check(typeof navigator !== 'undefined' && navigator.userAgent);\r\n})();\r\n\r\n// 获取文件分片\r\nvar fileSlice = function (file, start, end, isUseToUpload, callback) {\r\n    var blob;\r\n    if (file.slice) {\r\n        blob = file.slice(start, end);\r\n    } else if (file.mozSlice) {\r\n        blob = file.mozSlice(start, end);\r\n    } else if (file.webkitSlice) {\r\n        blob = file.webkitSlice(start, end);\r\n    }\r\n    if (isUseToUpload && fileSliceNeedCopy) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            blob = null;\r\n            callback(new Blob([reader.result]));\r\n        };\r\n        reader.readAsArrayBuffer(blob);\r\n    } else {\r\n        callback(blob);\r\n    }\r\n};\r\n\r\n// 获取文件内容的 MD5\r\nvar getBodyMd5 = function (UploadCheckContentMd5, Body, callback, onProgress) {\r\n    callback = callback || noop;\r\n    if (UploadCheckContentMd5) {\r\n        if (typeof Body === 'string') {\r\n            callback(util.md5(Body, true));\r\n        } else if (Blob && Body instanceof Blob) {\r\n            util.getFileMd5(Body, function (err, md5) {\r\n                callback(md5);\r\n            }, onProgress);\r\n        } else {\r\n            callback();\r\n        }\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\n// 获取文件 md5 值\r\nvar md5ChunkSize = 1024 * 1024;\r\nvar getFileMd5 = function (blob, callback, onProgress) {\r\n    var size = blob.size;\r\n    var loaded = 0;\r\n    var md5ctx = md5.getCtx();\r\n    var next = function (start) {\r\n        if (start >= size) {\r\n            var hash = md5ctx.digest('hex');\r\n            callback(null, hash);\r\n            return;\r\n        }\r\n        var end = Math.min(size, start + md5ChunkSize);\r\n        util.fileSlice(blob, start, end, false, function (chunk) {\r\n            readAsBinaryString(chunk, function (content) {\r\n                chunk = null;\r\n                md5ctx = md5ctx.update(content, true);\r\n                loaded += content.length;\r\n                content = null;\r\n                if (onProgress) onProgress({loaded: loaded, total: size, percent: Math.round(loaded / size * 10000) / 10000});\r\n                next(start + md5ChunkSize);\r\n            });\r\n        });\r\n    };\r\n    next(0);\r\n};\r\n\r\nfunction clone(obj) {\r\n    return map(obj, function (v) {\r\n        return typeof v === 'object' && v !== null ? clone(v) : v;\r\n    });\r\n}\r\n\r\nfunction attr(obj, name, defaultValue) {\r\n    return obj && name in obj ? obj[name] : defaultValue;\r\n}\r\n\r\nfunction extend(target, source) {\r\n    each(source, function (val, key) {\r\n        target[key] = source[key];\r\n    });\r\n    return target;\r\n}\r\n\r\nfunction isArray(arr) {\r\n    return arr instanceof Array;\r\n}\r\n\r\nfunction isInArray(arr, item) {\r\n    var flag = false;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (item === arr[i]) {\r\n            flag = true;\r\n            break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n\r\nfunction makeArray(arr) {\r\n    return isArray(arr) ? arr : [arr];\r\n}\r\n\r\nfunction each(obj, fn) {\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            fn(obj[i], i);\r\n        }\r\n    }\r\n}\r\n\r\nfunction map(obj, fn) {\r\n    var o = isArray(obj) ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            o[i] = fn(obj[i], i);\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nfunction filter(obj, fn) {\r\n    var iaArr = isArray(obj);\r\n    var o = iaArr ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            if (fn(obj[i], i)) {\r\n                if (iaArr) {\r\n                    o.push(obj[i]);\r\n                } else {\r\n                    o[i] = obj[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nvar binaryBase64 = function (str) {\r\n    var i, len, char, res = '';\r\n    for (i = 0, len = str.length / 2; i < len; i++) {\r\n        char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\r\n        res += String.fromCharCode(char);\r\n    }\r\n    return btoa(res);\r\n};\r\nvar uuid = function () {\r\n    var S4 = function () {\r\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n};\r\n\r\nvar hasMissingParams = function (apiName, params) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var Domain = this.options.Domain;\r\n    var checkBucket = !Domain || typeof Domain === 'string' && Domain.indexOf('{Bucket}') > -1;\r\n    var checkRegion = !Domain || typeof Domain === 'string' && Domain.indexOf('{Region}') > -1;\r\n    if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\r\n        if (checkBucket && !Bucket) return 'Bucket';\r\n        if (checkRegion && !Region) return 'Region';\r\n    } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\r\n        if (checkBucket && !Bucket) return 'Bucket';\r\n        if (checkRegion && !Region) return 'Region';\r\n        if (!Key) return 'Key';\r\n    }\r\n    return false;\r\n};\r\n\r\nvar formatParams = function (apiName, params) {\r\n\r\n    // 复制参数对象\r\n    params = extend({}, params);\r\n\r\n    // 统一处理 Headers\r\n    if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\r\n        var Headers = params.Headers || {};\r\n        if (params && typeof params === 'object') {\r\n            (function () {\r\n                for (var key in params) {\r\n                    if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\r\n                        Headers[key] = params[key];\r\n                    }\r\n                }\r\n            })();\r\n\r\n            var headerMap = {\r\n                // params headers\r\n                'x-cos-mfa': 'MFA',\r\n                'Content-MD5': 'ContentMD5',\r\n                'Content-Length': 'ContentLength',\r\n                'Content-Type': 'ContentType',\r\n                'Expect': 'Expect',\r\n                'Expires': 'Expires',\r\n                'Cache-Control': 'CacheControl',\r\n                'Content-Disposition': 'ContentDisposition',\r\n                'Content-Encoding': 'ContentEncoding',\r\n                'Range': 'Range',\r\n                'If-Modified-Since': 'IfModifiedSince',\r\n                'If-Unmodified-Since': 'IfUnmodifiedSince',\r\n                'If-Match': 'IfMatch',\r\n                'If-None-Match': 'IfNoneMatch',\r\n                'x-cos-copy-source': 'CopySource',\r\n                'x-cos-copy-source-Range': 'CopySourceRange',\r\n                'x-cos-metadata-directive': 'MetadataDirective',\r\n                'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\r\n                'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\r\n                'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\r\n                'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\r\n                'x-cos-acl': 'ACL',\r\n                'x-cos-grant-read': 'GrantRead',\r\n                'x-cos-grant-write': 'GrantWrite',\r\n                'x-cos-grant-full-control': 'GrantFullControl',\r\n                'x-cos-grant-read-acp': 'GrantReadAcp',\r\n                'x-cos-grant-write-acp': 'GrantWriteAcp',\r\n                'x-cos-storage-class': 'StorageClass',\r\n                'x-cos-traffic-limit': 'TrafficLimit',\r\n                'x-cos-mime-limit': 'MimeLimit',\r\n                // SSE-C\r\n                'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\r\n                'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\r\n                'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\r\n                // SSE-COS、SSE-KMS\r\n                'x-cos-server-side-encryption': 'ServerSideEncryption',\r\n                'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\r\n                'x-cos-server-side-encryption-context': 'SSEContext',\r\n            };\r\n            util.each(headerMap, function (paramKey, headerKey) {\r\n                if (params[paramKey] !== undefined) {\r\n                    Headers[headerKey] = params[paramKey];\r\n                }\r\n            });\r\n\r\n            params.Headers = clearKey(Headers);\r\n        }\r\n    }\r\n\r\n    return params;\r\n};\r\n\r\nvar apiWrapper = function (apiName, apiFn) {\r\n    return function (params, callback) {\r\n\r\n        var self = this;\r\n\r\n        // 处理参数\r\n        if (typeof params === 'function') {\r\n            callback = params;\r\n            params = {};\r\n        }\r\n\r\n        // 整理参数格式\r\n        params = formatParams(apiName, params);\r\n\r\n        // tracker传递\r\n        var tracker;\r\n        if (self.options.EnableTracker) {\r\n          if (params.calledBySdk === 'sliceUploadFile') {\r\n            // 分块上传内部方法使用sliceUploadFile的子链路\r\n            tracker = params.tracker && params.tracker.generateSubTracker({ apiName });\r\n          } else if (['uploadFile', 'uploadFiles'].includes(apiName)) {\r\n            // uploadFile、uploadFiles方法在内部处理，此处不处理\r\n            tracker = null;\r\n          } else {\r\n            var fileSize = -1;\r\n            if (params.Body) {\r\n              fileSize = typeof params.Body === 'string' ? params.Body.length : params.Body.size || params.Body.byteLength || -1;\r\n            }\r\n            tracker = new Tracker({\r\n              bucket: params.Bucket,\r\n              region: params.Region,\r\n              apiName: apiName,\r\n              fileKey: params.Key,\r\n              fileSize: fileSize,\r\n              deepTracker: self.options.DeepTracker,\r\n              customId: self.options.CustomId,\r\n              delay: self.options.TrackerDelay,\r\n            });\r\n          }\r\n        }\r\n        params.tracker = tracker;\r\n\r\n        // 代理回调函数\r\n        var formatResult = function (result) {\r\n            if (result && result.headers) {\r\n                result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\r\n                result.headers['x-ci-request-id'] && (result.RequestId = result.headers['x-ci-request-id']);\r\n                result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\r\n                result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\r\n            }\r\n            return result;\r\n        };\r\n        var _callback = function (err, data) {\r\n            // 格式化上报参数并上报\r\n            tracker && tracker.formatResult(err, data);\r\n            callback && callback(formatResult(err), formatResult(data));\r\n        };\r\n\r\n        var checkParams = function () {\r\n            if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\r\n                // 判断参数是否完整\r\n                var missingResult = hasMissingParams.call(self, apiName, params)\r\n                if (missingResult) {\r\n                    return 'missing param ' + missingResult;\r\n                }\r\n                // 判断 region 格式\r\n                if (params.Region) {\r\n                    if (self.options.CompatibilityMode) {\r\n                        if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\r\n                            return 'Region format error.';\r\n                        }\r\n                    } else {\r\n                        if (params.Region.indexOf('cos.') > -1) {\r\n                            return 'param Region should not be start with \"cos.\"';\r\n                        } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\r\n                            return 'Region format error.';\r\n                        }\r\n                    }\r\n                    // 判断 region 格式\r\n                    if (!self.options.CompatibilityMode\r\n                        && params.Region.indexOf('-') === -1\r\n                        && params.Region !== 'yfb'\r\n                        && params.Region !== 'default'\r\n                        && params.Region !== 'accelerate' ) {\r\n                        console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\r\n                    }\r\n                }\r\n                // 兼容不带 AppId 的 Bucket\r\n                if (params.Bucket) {\r\n                    if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\r\n                        if (params.AppId) {\r\n                            params.Bucket = params.Bucket + '-' + params.AppId;\r\n                        } else if (self.options.AppId) {\r\n                            params.Bucket = params.Bucket + '-' + self.options.AppId;\r\n                        } else {\r\n                            return 'Bucket should format as \"test-1250000000\".';\r\n                        }\r\n                    }\r\n                    if (params.AppId) {\r\n                        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\r\n                        delete params.AppId;\r\n                    }\r\n                }\r\n                // 如果 Key 是 / 开头，强制去掉第一个 /\r\n                if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\r\n                    params.Key = params.Key.substr(1);\r\n                }\r\n            }\r\n        };\r\n\r\n        var errMsg = checkParams();\r\n        var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\r\n        if (typeof Promise === 'function' && !isSync && !callback) {\r\n            return new Promise(function (resolve, reject) {\r\n                callback = function (err, data) {\r\n                    err ? reject(err) : resolve(data);\r\n                };\r\n                if (errMsg) return _callback(util.error(new Error(errMsg)));\r\n                apiFn.call(self, params, _callback);\r\n            });\r\n        } else {\r\n            if (errMsg) return _callback(util.error(new Error(errMsg)));\r\n            var res = apiFn.call(self, params, _callback);\r\n            if (isSync) return res;\r\n        }\r\n    }\r\n};\r\n\r\nvar throttleOnProgress = function (total, onProgress) {\r\n    var self = this;\r\n    var size0 = 0;\r\n    var size1 = 0;\r\n    var time0 = Date.now();\r\n    var time1;\r\n    var timer;\r\n\r\n    function update() {\r\n        timer = 0;\r\n        if (onProgress && (typeof onProgress === 'function')) {\r\n            time1 = Date.now();\r\n            var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\r\n            var percent;\r\n            if (size1 === 0 && total === 0) {\r\n                percent = 1;\r\n            } else {\r\n                percent = Math.floor(size1 / total * 100) / 100 || 0;\r\n            }\r\n            time0 = time1;\r\n            size0 = size1;\r\n            try {\r\n                onProgress({loaded: size1, total: total, speed: speed, percent: percent});\r\n            } catch (e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    return function (info, immediately) {\r\n        if (info) {\r\n            size1 = info.loaded;\r\n            total = info.total;\r\n        }\r\n        if (immediately) {\r\n            clearTimeout(timer);\r\n            update();\r\n        } else {\r\n            if (timer) return;\r\n            timer = setTimeout(update, self.options.ProgressInterval);\r\n        }\r\n    };\r\n};\r\n\r\nvar getFileSize = function (api, params, callback) {\r\n    var size;\r\n    if (typeof params.Body === 'string') {\r\n        params.Body = new Blob([params.Body], {type: 'text/plain'});\r\n    } else if (params.Body instanceof ArrayBuffer) {\r\n        params.Body = new Blob([params.Body]);\r\n    }\r\n    if ((params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]'))) {\r\n        size = params.Body.size;\r\n    } else {\r\n        callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\r\n        return;\r\n    }\r\n    params.ContentLength = size;\r\n    callback(null, size);\r\n};\r\n\r\n// 获取调正的时间戳\r\nvar getSkewTime = function (offset) {\r\n    return Date.now() + (offset || 0);\r\n};\r\n\r\n\r\nvar error = function (err, opt) {\r\n    var sourceErr = err;\r\n    err.message = err.message || null;\r\n\r\n    if (typeof opt === 'string') {\r\n        err.error = opt;\r\n        err.message = opt;\r\n    } else if (typeof opt === 'object' && opt !== null) {\r\n        extend(err, opt);\r\n        if (opt.code || opt.name) err.code = opt.code || opt.name;\r\n        if (opt.message) err.message = opt.message;\r\n        if (opt.stack) err.stack = opt.stack;\r\n    }\r\n\r\n    if (typeof Object.defineProperty === 'function') {\r\n        Object.defineProperty(err, 'name', {writable: true, enumerable: false});\r\n        Object.defineProperty(err, 'message', {enumerable: true});\r\n    }\r\n\r\n    err.name = opt && opt.name || err.name || err.code || 'Error';\r\n    if (!err.code) err.code = err.name;\r\n    if (!err.error) err.error = clone(sourceErr); // 兼容老的错误格式\r\n\r\n    return err;\r\n}\r\n\r\nvar isWebWorker = function () {\r\n    // 有限判断 worker 环境的 constructor name 其次用 worker 独有的 FileReaderSync 兜底 详细参考 https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Using_web_workers\r\n    return typeof globalThis === 'object' && (globalThis.constructor.name === 'DedicatedWorkerGlobalScope' || globalThis.FileReaderSync);\r\n}\r\n\r\nvar isNode = function () {\r\n    // 得兜底 web worker 环境中 webpack 用了 process 插件之类的情况\r\n    return typeof window !== 'object' && typeof process === 'object' && typeof require === 'function' && !isWebWorker();\r\n}\r\n\r\n\r\n\r\nvar isCIHost = function(url) {\r\n    return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\r\n}\r\n\r\nvar util = {\r\n    noop: noop,\r\n    formatParams: formatParams,\r\n    apiWrapper: apiWrapper,\r\n    xml2json: xml2json,\r\n    json2xml: json2xml,\r\n    md5: md5,\r\n    clearKey: clearKey,\r\n    fileSlice: fileSlice,\r\n    getBodyMd5: getBodyMd5,\r\n    getFileMd5: getFileMd5,\r\n    binaryBase64: binaryBase64,\r\n    extend: extend,\r\n    isArray: isArray,\r\n    isInArray: isInArray,\r\n    makeArray: makeArray,\r\n    each: each,\r\n    map: map,\r\n    filter: filter,\r\n    clone: clone,\r\n    attr: attr,\r\n    uuid: uuid,\r\n    camSafeUrlEncode: camSafeUrlEncode,\r\n    throttleOnProgress: throttleOnProgress,\r\n    getFileSize: getFileSize,\r\n    getSkewTime: getSkewTime,\r\n    error: error,\r\n    obj2str: obj2str,\r\n    getAuth: getAuth,\r\n    parseSelectPayload: parseSelectPayload,\r\n    getSourceParams: getSourceParams,\r\n    isBrowser: true,\r\n    isNode: isNode,\r\n    isCIHost: isCIHost,\r\n};\r\n\r\nmodule.exports = util;"],"sourceRoot":""}